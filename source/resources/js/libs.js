!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Matter=e()}}(function(){return function o(s,a,l){function c(t,e){if(!a[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var r=a[t]={exports:{}};s[t][0].call(r.exports,function(e){return c(s[t][1][e]||e)},r,r.exports,o,s,a,l)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){var c={};t.exports=c;var u=e("../geometry/Vertices"),d=e("../geometry/Vector"),r=e("../core/Sleeping"),o=(e("../render/Render"),e("../core/Common")),h=e("../geometry/Bounds"),p=e("../geometry/Axes");!function(){c._inertiaScale=4,c._nextCollidingGroupId=1,c._nextNonCollidingGroupId=-1,c._nextCategory=1,c.create=function(e){var t={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:u.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0}},n=o.extend(t,e);return i(n,e),n},c.nextGroup=function(e){return e?c._nextNonCollidingGroupId--:c._nextCollidingGroupId++},c.nextCategory=function(){return c._nextCategory=c._nextCategory<<1,c._nextCategory};var i=function(e,t){t=t||{},c.set(e,{bounds:e.bounds||h.create(e.vertices),positionPrev:e.positionPrev||d.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),u.rotate(e.vertices,e.angle,e.position),p.rotate(e.axes,e.angle),h.update(e.bounds,e.vertices,e.velocity),c.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#2e2b44":o.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]);e.render.fillStyle=e.render.fillStyle||n,e.render.strokeStyle=e.render.strokeStyle||"#000",e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};c.set=function(e,t,n){var i;for(i in"string"==typeof t&&(i=t,(t={})[i]=n),t)if(n=t[i],t.hasOwnProperty(i))switch(i){case"isStatic":c.setStatic(e,n);break;case"isSleeping":r.set(e,n);break;case"mass":c.setMass(e,n);break;case"density":c.setDensity(e,n);break;case"inertia":c.setInertia(e,n);break;case"vertices":c.setVertices(e,n);break;case"position":c.setPosition(e,n);break;case"angle":c.setAngle(e,n);break;case"velocity":c.setVelocity(e,n);break;case"angularVelocity":c.setAngularVelocity(e,n);break;case"parts":c.setParts(e,n);break;default:e[i]=n}},c.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var i=e.parts[n];(i.isStatic=t)?(i._original={restitution:i.restitution,friction:i.friction,mass:i.mass,inertia:i.inertia,density:i.density,inverseMass:i.inverseMass,inverseInertia:i.inverseInertia},i.restitution=0,i.friction=1,i.mass=i.inertia=i.density=1/0,i.inverseMass=i.inverseInertia=0,i.positionPrev.x=i.position.x,i.positionPrev.y=i.position.y,i.anglePrev=i.angle,i.angularVelocity=0,i.speed=0,i.angularSpeed=0,i.motion=0):i._original&&(i.restitution=i._original.restitution,i.friction=i._original.friction,i.mass=i._original.mass,i.inertia=i._original.inertia,i.density=i._original.density,i.inverseMass=i._original.inverseMass,i.inverseInertia=i._original.inverseInertia,delete i._original)}},c.setMass=function(e,t){var n=e.inertia/(e.mass/6);e.inertia=t/6*n,e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},c.setDensity=function(e,t){c.setMass(e,t*e.area),e.density=t},c.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},c.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=u.create(t,e),e.axes=p.fromVertices(e.vertices),e.area=u.area(e.vertices),c.setMass(e,e.density*e.area);var n=u.centre(e.vertices);u.translate(e.vertices,n,-1),c.setInertia(e,c._inertiaScale*u.inertia(e.vertices,e.mass)),u.translate(e.vertices,e.position),h.update(e.bounds,e.vertices,e.velocity)},c.setParts=function(e,t,n){var i;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,i=0;i<t.length;i++){var r=t[i];r!==e&&(r.parent=e).parts.push(r)}if(1!==e.parts.length){if(n=void 0===n||n){var o=[];for(i=0;i<t.length;i++)o=o.concat(t[i].vertices);u.clockwiseSort(o);var s=u.hull(o),a=u.centre(s);c.setVertices(e,s),u.translate(e.vertices,a)}var l=c._totalProperties(e);e.area=l.area,(e.parent=e).position.x=l.centre.x,e.position.y=l.centre.y,e.positionPrev.x=l.centre.x,e.positionPrev.y=l.centre.y,c.setMass(e,l.mass),c.setInertia(e,l.inertia),c.setPosition(e,l.centre)}},c.setPosition=function(e,t){var n=d.sub(t,e.position);e.positionPrev.x+=n.x,e.positionPrev.y+=n.y;for(var i=0;i<e.parts.length;i++){var r=e.parts[i];r.position.x+=n.x,r.position.y+=n.y,u.translate(r.vertices,n),h.update(r.bounds,r.vertices,e.velocity)}},c.setAngle=function(e,t){var n=t-e.angle;e.anglePrev+=n;for(var i=0;i<e.parts.length;i++){var r=e.parts[i];r.angle+=n,u.rotate(r.vertices,n,e.position),p.rotate(r.axes,n),h.update(r.bounds,r.vertices,e.velocity),0<i&&d.rotateAbout(r.position,n,e.position,r.position)}},c.setVelocity=function(e,t){e.positionPrev.x=e.position.x-t.x,e.positionPrev.y=e.position.y-t.y,e.velocity.x=t.x,e.velocity.y=t.y,e.speed=d.magnitude(e.velocity)},c.setAngularVelocity=function(e,t){e.anglePrev=e.angle-t,e.angularVelocity=t,e.angularSpeed=Math.abs(e.angularVelocity)},c.translate=function(e,t){c.setPosition(e,d.add(e.position,t))},c.rotate=function(e,t,n){if(n){var i=Math.cos(t),r=Math.sin(t),o=e.position.x-n.x,s=e.position.y-n.y;c.setPosition(e,{x:n.x+(o*i-s*r),y:n.y+(o*r+s*i)}),c.setAngle(e,e.angle+t)}else c.setAngle(e,e.angle+t)},c.scale=function(e,t,n,i){var r=0,o=0;i=i||e.position;for(var s=0;s<e.parts.length;s++){var a=e.parts[s];u.scale(a.vertices,t,n,i),a.axes=p.fromVertices(a.vertices),a.area=u.area(a.vertices),c.setMass(a,e.density*a.area),u.translate(a.vertices,{x:-a.position.x,y:-a.position.y}),c.setInertia(a,c._inertiaScale*u.inertia(a.vertices,a.mass)),u.translate(a.vertices,{x:a.position.x,y:a.position.y}),0<s&&(r+=a.area,o+=a.inertia),a.position.x=i.x+(a.position.x-i.x)*t,a.position.y=i.y+(a.position.y-i.y)*n,h.update(a.bounds,a.vertices,e.velocity)}1<e.parts.length&&(e.area=r,e.isStatic||(c.setMass(e,e.density*r),c.setInertia(e,o))),e.circleRadius&&(t===n?e.circleRadius*=t:e.circleRadius=null)},c.update=function(e,t,n,i){var r=Math.pow(t*n*e.timeScale,2),o=1-e.frictionAir*n*e.timeScale,s=e.position.x-e.positionPrev.x,a=e.position.y-e.positionPrev.y;e.velocity.x=s*o*i+e.force.x/e.mass*r,e.velocity.y=a*o*i+e.force.y/e.mass*r,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*o*i+e.torque/e.inertia*r,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=d.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var l=0;l<e.parts.length;l++){var c=e.parts[l];u.translate(c.vertices,e.velocity),0<l&&(c.position.x+=e.velocity.x,c.position.y+=e.velocity.y),0!==e.angularVelocity&&(u.rotate(c.vertices,e.angularVelocity,e.position),p.rotate(c.axes,e.angularVelocity),0<l&&d.rotateAbout(c.position,e.angularVelocity,e.position,c.position)),h.update(c.bounds,c.vertices,e.velocity)}},c.applyForce=function(e,t,n){e.force.x+=n.x,e.force.y+=n.y;var i=t.x-e.position.x,r=t.y-e.position.y;e.torque+=i*n.y-r*n.x},c._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var i=e.parts[n],r=i.mass!==1/0?i.mass:1;t.mass+=r,t.area+=i.area,t.inertia+=i.inertia,t.centre=d.add(t.centre,d.mult(i.position,r))}return t.centre=d.div(t.centre,t.mass),t}}()},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31}],2:[function(e,t,n){var d={};t.exports=d;var s=e("../core/Events"),o=e("../core/Common"),a=e("../geometry/Bounds"),h=e("./Body");d.create=function(e){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},d.setModified=function(e,t,n,i){if(e.isModified=t,n&&e.parent&&d.setModified(e.parent,t,n,i),i)for(var r=0;r<e.composites.length;r++){var o=e.composites[r];d.setModified(o,t,n,i)}},d.add=function(e,t){var n=[].concat(t);s.trigger(e,"beforeAdd",{object:t});for(var i=0;i<n.length;i++){var r=n[i];switch(r.type){case"body":if(r.parent!==r){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}d.addBody(e,r);break;case"constraint":d.addConstraint(e,r);break;case"composite":d.addComposite(e,r);break;case"mouseConstraint":d.addConstraint(e,r.constraint)}}return s.trigger(e,"afterAdd",{object:t}),e},d.remove=function(e,t,n){var i=[].concat(t);s.trigger(e,"beforeRemove",{object:t});for(var r=0;r<i.length;r++){var o=i[r];switch(o.type){case"body":d.removeBody(e,o,n);break;case"constraint":d.removeConstraint(e,o,n);break;case"composite":d.removeComposite(e,o,n);break;case"mouseConstraint":d.removeConstraint(e,o.constraint)}}return s.trigger(e,"afterRemove",{object:t}),e},d.addComposite=function(e,t){return e.composites.push(t),t.parent=e,d.setModified(e,!0,!0,!1),e},d.removeComposite=function(e,t,n){var i=o.indexOf(e.composites,t);if(-1!==i&&(d.removeCompositeAt(e,i),d.setModified(e,!0,!0,!1)),n)for(var r=0;r<e.composites.length;r++)d.removeComposite(e.composites[r],t,!0);return e},d.removeCompositeAt=function(e,t){return e.composites.splice(t,1),d.setModified(e,!0,!0,!1),e},d.addBody=function(e,t){return e.bodies.push(t),d.setModified(e,!0,!0,!1),e},d.removeBody=function(e,t,n){var i=o.indexOf(e.bodies,t);if(-1!==i&&(d.removeBodyAt(e,i),d.setModified(e,!0,!0,!1)),n)for(var r=0;r<e.composites.length;r++)d.removeBody(e.composites[r],t,!0);return e},d.removeBodyAt=function(e,t){return e.bodies.splice(t,1),d.setModified(e,!0,!0,!1),e},d.addConstraint=function(e,t){return e.constraints.push(t),d.setModified(e,!0,!0,!1),e},d.removeConstraint=function(e,t,n){var i=o.indexOf(e.constraints,t);if(-1!==i&&d.removeConstraintAt(e,i),n)for(var r=0;r<e.composites.length;r++)d.removeConstraint(e.composites[r],t,!0);return e},d.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),d.setModified(e,!0,!0,!1),e},d.clear=function(e,t,n){if(n)for(var i=0;i<e.composites.length;i++)d.clear(e.composites[i],t,!0);return t?e.bodies=e.bodies.filter(function(e){return e.isStatic}):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,d.setModified(e,!0,!0,!1),e},d.allBodies=function(e){for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(d.allBodies(e.composites[n]));return t},d.allConstraints=function(e){for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(d.allConstraints(e.composites[n]));return t},d.allComposites=function(e){for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(d.allComposites(e.composites[n]));return t},d.get=function(e,t,n){var i,r;switch(n){case"body":i=d.allBodies(e);break;case"constraint":i=d.allConstraints(e);break;case"composite":i=d.allComposites(e).concat(e)}return i?0===(r=i.filter(function(e){return e.id.toString()===t.toString()})).length?null:r[0]:null},d.move=function(e,t,n){return d.remove(e,t),d.add(n,t),e},d.rebase=function(e){for(var t=d.allBodies(e).concat(d.allConstraints(e)).concat(d.allComposites(e)),n=0;n<t.length;n++)t[n].id=o.nextId();return d.setModified(e,!0,!0,!1),e},d.translate=function(e,t,n){for(var i=n?d.allBodies(e):e.bodies,r=0;r<i.length;r++)h.translate(i[r],t);return d.setModified(e,!0,!0,!1),e},d.rotate=function(e,t,n,i){for(var r=Math.cos(t),o=Math.sin(t),s=i?d.allBodies(e):e.bodies,a=0;a<s.length;a++){var l=s[a],c=l.position.x-n.x,u=l.position.y-n.y;h.setPosition(l,{x:n.x+(c*r-u*o),y:n.y+(c*o+u*r)}),h.rotate(l,t)}return d.setModified(e,!0,!0,!1),e},d.scale=function(e,t,n,i,r){for(var o=r?d.allBodies(e):e.bodies,s=0;s<o.length;s++){var a=o[s],l=a.position.x-i.x,c=a.position.y-i.y;h.setPosition(a,{x:i.x+l*t,y:i.y+c*n}),h.scale(a,t,n)}return d.setModified(e,!0,!0,!1),e},d.bounds=function(e){for(var t=d.allBodies(e),n=[],i=0;i<t.length;i+=1){var r=t[i];n.push(r.bounds.min,r.bounds.max)}return a.create(n)}},{"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"./Body":1}],3:[function(e,t,n){var i={};t.exports=i;var r=e("./Composite"),o=(e("../constraint/Constraint"),e("../core/Common"));i.create=function(e){var t=r.create();return o.extend(t,{label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}},e)}},{"../constraint/Constraint":12,"../core/Common":14,"./Composite":2}],4:[function(e,t,n){var i={};(t.exports=i).create=function(e){return{id:i.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}},i.id=function(e){return e.body.id+"_"+e.index}},{}],5:[function(e,t,n){var f={};t.exports=f;var m=e("./SAT"),g=e("./Pair"),v=e("../geometry/Bounds");f.collisions=function(e,t){for(var n=[],i=t.pairs.table,r=0;r<e.length;r++){var o=e[r][0],s=e[r][1];if((!o.isStatic&&!o.isSleeping||!s.isStatic&&!s.isSleeping)&&f.canCollide(o.collisionFilter,s.collisionFilter)&&v.overlaps(o.bounds,s.bounds))for(var a=1<o.parts.length?1:0;a<o.parts.length;a++)for(var l=o.parts[a],c=1<s.parts.length?1:0;c<s.parts.length;c++){var u=s.parts[c];if(l===o&&u===s||v.overlaps(l.bounds,u.bounds)){var d,h=i[g.id(l,u)];d=h&&h.isActive?h.collision:null;var p=m.collides(l,u,d);p.collided&&n.push(p)}}}return n},f.canCollide=function(e,t){return e.group===t.group&&0!==e.group?0<e.group:0!=(e.mask&t.category)&&0!=(t.mask&e.category)}},{"../geometry/Bounds":26,"./Pair":7,"./SAT":11}],6:[function(e,t,n){var v={};t.exports=v;var a=e("./Pair"),i=e("./Detector"),l=e("../core/Common");v.create=function(e){var t={controller:v,detector:i.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return l.extend(t,e)},v.update=function(e,t,n,i){var r,o,s,a,l,c=n.world,u=e.buckets,d=!1;for(r=0;r<t.length;r++){var h=t[r];if((!h.isSleeping||i)&&!(h.bounds.max.x<c.bounds.min.x||h.bounds.min.x>c.bounds.max.x||h.bounds.max.y<c.bounds.min.y||h.bounds.min.y>c.bounds.max.y)){var p=v._getRegion(e,h);if(!h.region||p.id!==h.region.id||i){h.region&&!i||(h.region=p);var f=v._regionUnion(p,h.region);for(o=f.startCol;o<=f.endCol;o++)for(s=f.startRow;s<=f.endRow;s++){a=u[l=v._getBucketId(o,s)];var m=o>=p.startCol&&o<=p.endCol&&s>=p.startRow&&s<=p.endRow,g=o>=h.region.startCol&&o<=h.region.endCol&&s>=h.region.startRow&&s<=h.region.endRow;!m&&g&&g&&a&&v._bucketRemoveBody(e,a,h),(h.region===p||m&&!g||i)&&(a=a||v._createBucket(u,l),v._bucketAddBody(e,a,h))}h.region=p,d=!0}}}d&&(e.pairsList=v._createActivePairsList(e))},v.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},v._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),i=Math.max(e.endCol,t.endCol),r=Math.min(e.startRow,t.startRow),o=Math.max(e.endRow,t.endRow);return v._createRegion(n,i,r,o)},v._getRegion=function(e,t){var n=t.bounds,i=Math.floor(n.min.x/e.bucketWidth),r=Math.floor(n.max.x/e.bucketWidth),o=Math.floor(n.min.y/e.bucketHeight),s=Math.floor(n.max.y/e.bucketHeight);return v._createRegion(i,r,o,s)},v._createRegion=function(e,t,n,i){return{id:e+","+t+","+n+","+i,startCol:e,endCol:t,startRow:n,endRow:i}},v._getBucketId=function(e,t){return"C"+e+"R"+t},v._createBucket=function(e,t){return e[t]=[]},v._bucketAddBody=function(e,t,n){for(var i=0;i<t.length;i++){var r=t[i];if(!(n.id===r.id||n.isStatic&&r.isStatic)){var o=a.id(n,r),s=e.pairs[o];s?s[2]+=1:e.pairs[o]=[n,r,1]}}t.push(n)},v._bucketRemoveBody=function(e,t,n){t.splice(l.indexOf(t,n),1);for(var i=0;i<t.length;i++){var r=t[i],o=a.id(n,r),s=e.pairs[o];s&&--s[2]}},v._createActivePairsList=function(e){var t,n,i=[];t=l.keys(e.pairs);for(var r=0;r<t.length;r++)0<(n=e.pairs[t[r]])[2]?i.push(n):delete e.pairs[t[r]];return i}},{"../core/Common":14,"./Detector":5,"./Pair":7}],7:[function(e,t,n){var h={};t.exports=h;var p=e("./Contact");h.create=function(e,t){var n=e.bodyA,i=e.bodyB,r=e.parentA,o=e.parentB,s={id:h.id(n,i),bodyA:n,bodyB:i,contacts:{},activeContacts:[],separation:0,isActive:!0,isSensor:n.isSensor||i.isSensor,timeCreated:t,timeUpdated:t,inverseMass:r.inverseMass+o.inverseMass,friction:Math.min(r.friction,o.friction),frictionStatic:Math.max(r.frictionStatic,o.frictionStatic),restitution:Math.max(r.restitution,o.restitution),slop:Math.max(r.slop,o.slop)};return h.update(s,e,t),s},h.update=function(e,t,n){var i=e.contacts,r=t.supports,o=e.activeContacts,s=t.parentA,a=t.parentB;if(e.collision=t,e.inverseMass=s.inverseMass+a.inverseMass,e.friction=Math.min(s.friction,a.friction),e.frictionStatic=Math.max(s.frictionStatic,a.frictionStatic),e.restitution=Math.max(s.restitution,a.restitution),e.slop=Math.max(s.slop,a.slop),o.length=0,t.collided){for(var l=0;l<r.length;l++){var c=r[l],u=p.id(c),d=i[u];d?o.push(d):o.push(i[u]=p.create(c))}e.separation=t.depth,h.setActive(e,!0,n)}else!0===e.isActive&&h.setActive(e,!1,n)},h.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.activeContacts.length=0)},h.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},{"./Contact":4}],8:[function(e,t,n){var c={};t.exports=c;var p=e("./Pair"),f=e("../core/Common");c._pairMaxIdleLife=1e3,c.create=function(e){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},c.update=function(e,t,n){var i,r,o,s,a=e.list,l=e.table,c=e.collisionStart,u=e.collisionEnd,d=e.collisionActive,h=[];for(c.length=0,u.length=0,s=d.length=0;s<t.length;s++)(i=t[s]).collided&&(r=p.id(i.bodyA,i.bodyB),h.push(r),(o=l[r])?(o.isActive?d.push(o):c.push(o),p.update(o,i,n)):(o=p.create(i,n),l[r]=o,c.push(o),a.push(o)));for(s=0;s<a.length;s++)(o=a[s]).isActive&&-1===f.indexOf(h,o.id)&&(p.setActive(o,!1,n),u.push(o))},c.removeOld=function(e,t){var n,i,r,o,s=e.list,a=e.table,l=[];for(o=0;o<s.length;o++)(i=(n=s[o]).collision).bodyA.isSleeping||i.bodyB.isSleeping?n.timeUpdated=t:t-n.timeUpdated>c._pairMaxIdleLife&&l.push(o);for(o=0;o<l.length;o++)delete a[(n=s[r=l[o]-o]).id],s.splice(r,1)},c.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},{"../core/Common":14,"./Pair":7}],9:[function(e,t,n){var h={};t.exports=h;var p=e("../geometry/Vector"),l=e("./SAT"),c=e("../geometry/Bounds"),f=e("../factory/Bodies"),a=e("../geometry/Vertices");h.collides=function(e,t){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(c.overlaps(r.bounds,e.bounds))for(var o=1===r.parts.length?0:1;o<r.parts.length;o++){var s=r.parts[o];if(c.overlaps(s.bounds,e.bounds)){var a=l.collides(s,e);if(a.collided){n.push(a);break}}}}return n},h.ray=function(e,t,n,i){i=i||1e-100;for(var r=p.angle(t,n),o=p.magnitude(p.sub(t,n)),s=.5*(n.x+t.x),a=.5*(n.y+t.y),l=f.rectangle(s,a,o,i,{angle:r}),c=h.collides(l,e),u=0;u<c.length;u+=1){var d=c[u];d.body=d.bodyB=d.bodyA}return c},h.region=function(e,t,n){for(var i=[],r=0;r<e.length;r++){var o=e[r],s=c.overlaps(o.bounds,t);(s&&!n||!s&&n)&&i.push(o)}return i},h.point=function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];if(c.contains(r.bounds,t))for(var o=1===r.parts.length?0:1;o<r.parts.length;o++){var s=r.parts[o];if(c.contains(s.bounds,t)&&a.contains(s.vertices,t)){n.push(r);break}}}return n}},{"../factory/Bodies":23,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"./SAT":11}],10:[function(e,t,n){var V={};t.exports=V;var o=e("../geometry/Vertices"),j=e("../geometry/Vector"),q=e("../core/Common"),s=e("../geometry/Bounds");V._restingThresh=4,V._restingThreshTangent=6,V._positionDampen=.9,V._positionWarming=.8,V._frictionNormalMultiplier=5,V.preSolvePosition=function(e){var t,n,i;for(t=0;t<e.length;t++)(n=e[t]).isActive&&(i=n.activeContacts.length,n.collision.parentA.totalContacts+=i,n.collision.parentB.totalContacts+=i)},V.solvePosition=function(e,t){var n,i,r,o,s,a,l,c,u,d=j._temp[0],h=j._temp[1],p=j._temp[2],f=j._temp[3];for(n=0;n<e.length;n++)(i=e[n]).isActive&&!i.isSensor&&(o=(r=i.collision).parentA,s=r.parentB,a=r.normal,l=j.sub(j.add(s.positionImpulse,s.position,d),j.add(o.positionImpulse,j.sub(s.position,r.penetration,h),p),f),i.separation=j.dot(a,l));for(n=0;n<e.length;n++)(i=e[n]).isActive&&!i.isSensor&&(o=(r=i.collision).parentA,s=r.parentB,a=r.normal,u=(i.separation-i.slop)*t,(o.isStatic||s.isStatic)&&(u*=2),o.isStatic||o.isSleeping||(c=V._positionDampen/o.totalContacts,o.positionImpulse.x+=a.x*u*c,o.positionImpulse.y+=a.y*u*c),s.isStatic||s.isSleeping||(c=V._positionDampen/s.totalContacts,s.positionImpulse.x-=a.x*u*c,s.positionImpulse.y-=a.y*u*c))},V.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var n=e[t];if((n.totalContacts=0)!==n.positionImpulse.x||0!==n.positionImpulse.y){for(var i=0;i<n.parts.length;i++){var r=n.parts[i];o.translate(r.vertices,n.positionImpulse),s.update(r.bounds,r.vertices,n.velocity),r.position.x+=n.positionImpulse.x,r.position.y+=n.positionImpulse.y}n.positionPrev.x+=n.positionImpulse.x,n.positionPrev.y+=n.positionImpulse.y,j.dot(n.positionImpulse,n.velocity)<0?(n.positionImpulse.x=0,n.positionImpulse.y=0):(n.positionImpulse.x*=V._positionWarming,n.positionImpulse.y*=V._positionWarming)}}},V.preSolveVelocity=function(e){var t,n,i,r,o,s,a,l,c,u,d,h,p,f,m=j._temp[0],g=j._temp[1];for(t=0;t<e.length;t++)if((i=e[t]).isActive&&!i.isSensor)for(r=i.activeContacts,s=(o=i.collision).parentA,a=o.parentB,l=o.normal,c=o.tangent,n=0;n<r.length;n++)d=(u=r[n]).vertex,h=u.normalImpulse,p=u.tangentImpulse,0===h&&0===p||(m.x=l.x*h+c.x*p,m.y=l.y*h+c.y*p,s.isStatic||s.isSleeping||(f=j.sub(d,s.position,g),s.positionPrev.x+=m.x*s.inverseMass,s.positionPrev.y+=m.y*s.inverseMass,s.anglePrev+=j.cross(f,m)*s.inverseInertia),a.isStatic||a.isSleeping||(f=j.sub(d,a.position,g),a.positionPrev.x-=m.x*a.inverseMass,a.positionPrev.y-=m.y*a.inverseMass,a.anglePrev-=j.cross(f,m)*a.inverseInertia))},V.solveVelocity=function(e,t){for(var n=t*t,i=j._temp[0],r=j._temp[1],o=j._temp[2],s=j._temp[3],a=j._temp[4],l=j._temp[5],c=0;c<e.length;c++){var u=e[c];if(u.isActive&&!u.isSensor){var d=u.collision,h=d.parentA,p=d.parentB,f=d.normal,m=d.tangent,g=u.activeContacts,v=1/g.length;h.velocity.x=h.position.x-h.positionPrev.x,h.velocity.y=h.position.y-h.positionPrev.y,p.velocity.x=p.position.x-p.positionPrev.x,p.velocity.y=p.position.y-p.positionPrev.y,h.angularVelocity=h.angle-h.anglePrev,p.angularVelocity=p.angle-p.anglePrev;for(var y=0;y<g.length;y++){var b=g[y],x=b.vertex,w=j.sub(x,h.position,r),_=j.sub(x,p.position,o),k=j.add(h.velocity,j.mult(j.perp(w),h.angularVelocity),s),T=j.add(p.velocity,j.mult(j.perp(_),p.angularVelocity),a),S=j.sub(k,T,l),C=j.dot(f,S),P=j.dot(m,S),A=Math.abs(P),M=q.sign(P),E=(1+u.restitution)*C,I=q.clamp(u.separation+C,0,1)*V._frictionNormalMultiplier,O=P,B=1/0;A>u.friction*u.frictionStatic*I*n&&(B=A,O=q.clamp(u.friction*M*n,-B,B));var L=j.cross(w,f),N=j.cross(_,f),D=v/(h.inverseMass+p.inverseMass+h.inverseInertia*L*L+p.inverseInertia*N*N);if(E*=D,O*=D,C<0&&C*C>V._restingThresh*n)b.normalImpulse=0;else{var R=b.normalImpulse;b.normalImpulse=Math.min(b.normalImpulse+E,0),E=b.normalImpulse-R}if(P*P>V._restingThreshTangent*n)b.tangentImpulse=0;else{var F=b.tangentImpulse;b.tangentImpulse=q.clamp(b.tangentImpulse+O,-B,B),O=b.tangentImpulse-F}i.x=f.x*E+m.x*O,i.y=f.y*E+m.y*O,h.isStatic||h.isSleeping||(h.positionPrev.x+=i.x*h.inverseMass,h.positionPrev.y+=i.y*h.inverseMass,h.anglePrev+=j.cross(w,i)*h.inverseInertia),p.isStatic||p.isSleeping||(p.positionPrev.x-=i.x*p.inverseMass,p.positionPrev.y-=i.y*p.inverseMass,p.anglePrev-=j.cross(_,i)*p.inverseInertia)}}}}},{"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],11:[function(e,t,n){var v={};t.exports=v;var y=e("../geometry/Vertices"),b=e("../geometry/Vector");v.collides=function(e,t,n){var i,r,o,s,a=!1;if(n){var l=e.parent,c=t.parent,u=l.speed*l.speed+l.angularSpeed*l.angularSpeed+c.speed*c.speed+c.angularSpeed*c.angularSpeed;a=n&&n.collided&&u<.2,s=n}else s={collided:!1,bodyA:e,bodyB:t};if(n&&a){var d=s.axisBody,h=d===e?t:e,p=[d.axes[n.axisNumber]];if(o=v._overlapAxes(d.vertices,h.vertices,p),s.reused=!0,o.overlap<=0)return s.collided=!1,s}else{if((i=v._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return s.collided=!1,s;if((r=v._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return s.collided=!1,s;i.overlap<r.overlap?(o=i,s.axisBody=e):(o=r,s.axisBody=t),s.axisNumber=o.axisNumber}s.bodyA=e.id<t.id?e:t,s.bodyB=e.id<t.id?t:e,s.collided=!0,s.depth=o.overlap,s.parentA=s.bodyA.parent,s.parentB=s.bodyB.parent,e=s.bodyA,t=s.bodyB,b.dot(o.axis,b.sub(t.position,e.position))<0?s.normal={x:o.axis.x,y:o.axis.y}:s.normal={x:-o.axis.x,y:-o.axis.y},s.tangent=b.perp(s.normal),s.penetration=s.penetration||{},s.penetration.x=s.normal.x*s.depth,s.penetration.y=s.normal.y*s.depth;var f=v._findSupports(e,t,s.normal),m=[];if(y.contains(e.vertices,f[0])&&m.push(f[0]),y.contains(e.vertices,f[1])&&m.push(f[1]),m.length<2){var g=v._findSupports(t,e,b.neg(s.normal));y.contains(t.vertices,g[0])&&m.push(g[0]),m.length<2&&y.contains(t.vertices,g[1])&&m.push(g[1])}return m.length<1&&(m=[f[0]]),s.supports=m,s},v._overlapAxes=function(e,t,n){for(var i,r,o=b._temp[0],s=b._temp[1],a={overlap:Number.MAX_VALUE},l=0;l<n.length;l++){if(r=n[l],v._projectToAxis(o,e,r),v._projectToAxis(s,t,r),(i=Math.min(o.max-s.min,s.max-o.min))<=0)return a.overlap=i,a;i<a.overlap&&(a.overlap=i,a.axis=r,a.axisNumber=l)}return a},v._projectToAxis=function(e,t,n){for(var i=b.dot(t[0],n),r=i,o=1;o<t.length;o+=1){var s=b.dot(t[o],n);r<s?r=s:s<i&&(i=s)}e.min=i,e.max=r},v._findSupports=function(e,t,n){for(var i,r,o,s,a=Number.MAX_VALUE,l=b._temp[0],c=t.vertices,u=e.position,d=0;d<c.length;d++)r=c[d],l.x=r.x-u.x,l.y=r.y-u.y,(i=-b.dot(n,l))<a&&(a=i,o=r);return r=c[0<=o.index-1?o.index-1:c.length-1],l.x=r.x-u.x,l.y=r.y-u.y,a=-b.dot(n,l),s=r,r=c[(o.index+1)%c.length],l.x=r.x-u.x,l.y=r.y-u.y,(i=-b.dot(n,l))<a&&(s=r),[o,s]}},{"../geometry/Vector":28,"../geometry/Vertices":29}],12:[function(e,t,n){var w={};t.exports=w;var s=e("../geometry/Vertices"),_=e("../geometry/Vector"),a=e("../core/Sleeping"),l=e("../geometry/Bounds"),c=e("../geometry/Axes"),u=e("../core/Common");w._warming=.4,w._torqueDampen=1,w._minLength=1e-6,w.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var n=t.bodyA?_.add(t.bodyA.position,t.pointA):t.pointA,i=t.bodyB?_.add(t.bodyB.position,t.pointB):t.pointB,r=_.magnitude(_.sub(n,i));t.length=void 0!==t.length?t.length:r,t.id=t.id||u.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(0<t.length?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var o={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&.1<t.stiffness?(o.type="pin",o.anchors=!1):t.stiffness<.9&&(o.type="spring"),t.render=u.extend(o,t.render),t},w.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var n=e[t],i=n.constraintImpulse;n.isStatic||0===i.x&&0===i.y&&0===i.angle||(n.position.x+=i.x,n.position.y+=i.y,n.angle+=i.angle)}},w.solveAll=function(e,t){for(var n=0;n<e.length;n+=1){var i=e[n],r=!i.bodyA||i.bodyA&&i.bodyA.isStatic,o=!i.bodyB||i.bodyB&&i.bodyB.isStatic;(r||o)&&w.solve(e[n],t)}for(n=0;n<e.length;n+=1)r=!(i=e[n]).bodyA||i.bodyA&&i.bodyA.isStatic,o=!i.bodyB||i.bodyB&&i.bodyB.isStatic,r||o||w.solve(e[n],t)},w.solve=function(e,t){var n=e.bodyA,i=e.bodyB,r=e.pointA,o=e.pointB;if(n||i){n&&!n.isStatic&&(_.rotate(r,n.angle-e.angleA,r),e.angleA=n.angle),i&&!i.isStatic&&(_.rotate(o,i.angle-e.angleB,o),e.angleB=i.angle);var s=r,a=o;if(n&&(s=_.add(n.position,r)),i&&(a=_.add(i.position,o)),s&&a){var l=_.sub(s,a),c=_.magnitude(l);c<w._minLength&&(c=w._minLength);var u,d,h,p,f,m=(c-e.length)/c,g=e.stiffness<1?e.stiffness*t:e.stiffness,v=_.mult(l,m*g),y=(n?n.inverseMass:0)+(i?i.inverseMass:0),b=y+((n?n.inverseInertia:0)+(i?i.inverseInertia:0));if(e.damping){var x=_.create();h=_.div(l,c),f=_.sub(i&&_.sub(i.position,i.positionPrev)||x,n&&_.sub(n.position,n.positionPrev)||x),p=_.dot(h,f)}n&&!n.isStatic&&(d=n.inverseMass/y,n.constraintImpulse.x-=v.x*d,n.constraintImpulse.y-=v.y*d,n.position.x-=v.x*d,n.position.y-=v.y*d,e.damping&&(n.positionPrev.x-=e.damping*h.x*p*d,n.positionPrev.y-=e.damping*h.y*p*d),u=_.cross(r,v)/b*w._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=u,n.angle-=u),i&&!i.isStatic&&(d=i.inverseMass/y,i.constraintImpulse.x+=v.x*d,i.constraintImpulse.y+=v.y*d,i.position.x+=v.x*d,i.position.y+=v.y*d,e.damping&&(i.positionPrev.x+=e.damping*h.x*p*d,i.positionPrev.y+=e.damping*h.y*p*d),u=_.cross(o,v)/b*w._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle+=u,i.angle+=u)}}},w.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.constraintImpulse;if(!(n.isStatic||0===i.x&&0===i.y&&0===i.angle)){a.set(n,!1);for(var r=0;r<n.parts.length;r++){var o=n.parts[r];s.translate(o.vertices,i),0<r&&(o.position.x+=i.x,o.position.y+=i.y),0!==i.angle&&(s.rotate(o.vertices,i.angle,n.position),c.rotate(o.axes,i.angle),0<r&&_.rotateAbout(o.position,i.angle,n.position,o.position)),l.update(o.bounds,o.vertices,n.velocity)}i.angle*=w._warming,i.x*=w._warming,i.y*=w._warming}}}},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],13:[function(e,t,n){var o={};t.exports=o;var l=e("../geometry/Vertices"),c=e("../core/Sleeping"),s=e("../core/Mouse"),u=e("../core/Events"),d=e("../collision/Detector"),a=e("./Constraint"),h=e("../body/Composite"),p=e("../core/Common"),f=e("../geometry/Bounds");o.create=function(t,e){var n=(t?t.mouse:null)||(e?e.mouse:null);n||(t&&t.render&&t.render.canvas?n=s.create(t.render.canvas):e&&e.element?n=s.create(e.element):(n=s.create(),p.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var i={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:a.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},r=p.extend(i,e);return u.on(t,"beforeUpdate",function(){var e=h.allBodies(t.world);o.update(r,e),o._triggerEvents(r)}),r},o.update=function(e,t){var n=e.mouse,i=e.constraint,r=e.body;if(0===n.button){if(i.bodyB)c.set(i.bodyB,!1),i.pointA=n.position;else for(var o=0;o<t.length;o++)if(r=t[o],f.contains(r.bounds,n.position)&&d.canCollide(r.collisionFilter,e.collisionFilter))for(var s=1<r.parts.length?1:0;s<r.parts.length;s++){var a=r.parts[s];if(l.contains(a.vertices,n.position)){i.pointA=n.position,i.bodyB=e.body=r,i.pointB={x:n.position.x-r.position.x,y:n.position.y-r.position.y},i.angleB=r.angle,c.set(r,!1),u.trigger(e,"startdrag",{mouse:n,body:r});break}}}else i.bodyB=e.body=null,i.pointB=null,r&&u.trigger(e,"enddrag",{mouse:n,body:r})},o._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&u.trigger(e,"mousemove",{mouse:t}),n.mousedown&&u.trigger(e,"mousedown",{mouse:t}),n.mouseup&&u.trigger(e,"mouseup",{mouse:t}),s.clearSourceEvents(t)}},{"../body/Composite":2,"../collision/Detector":5,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../core/Sleeping":22,"../geometry/Bounds":26,"../geometry/Vertices":29,"./Constraint":12}],14:[function(r,e,t){(function(i){var l={};e.exports=l,function(){l._nextId=0,l._seed=0,l._nowStartTime=+new Date,l.extend=function(e,t){var n,i;i="boolean"==typeof t?(n=2,t):(n=1,!0);for(var r=n;r<arguments.length;r++){var o=arguments[r];if(o)for(var s in o)i&&o[s]&&o[s].constructor===Object?e[s]&&e[s].constructor!==Object?e[s]=o[s]:(e[s]=e[s]||{},l.extend(e[s],i,o[s])):e[s]=o[s]}return e},l.clone=function(e,t){return l.extend({},t,e)},l.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},l.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),i=0;i<n.length;i++)t.push(e[n[i]]);return t}for(var r in e)t.push(e[r]);return t},l.get=function(e,t,n,i){t=t.split(".").slice(n,i);for(var r=0;r<t.length;r+=1)e=e[t[r]];return e},l.set=function(e,t,n,i,r){var o=t.split(".").slice(i,r);return l.get(e,t,0,-1)[o[o.length-1]]=n},l.shuffle=function(e){for(var t=e.length-1;0<t;t--){var n=Math.floor(l.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e},l.choose=function(e){return e[Math.floor(l.random()*e.length)]},l.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},l.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},l.isFunction=function(e){return"function"==typeof e},l.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},l.isString=function(e){return"[object String]"===toString.call(e)},l.clamp=function(e,t,n){return e<t?t:n<e?n:e},l.sign=function(e){return e<0?-1:1},l.now=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-l._nowStartTime},l.random=function(e,t){return t=void 0!==t?t:1,(e=void 0!==e?e:0)+n()*(t-e)};var n=function(){return l._seed=(9301*l._seed+49297)%233280,l._seed/233280};l.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},l.logLevel=1,l.log=function(){console&&0<l.logLevel&&l.logLevel},l.info=function(){console&&0<l.logLevel&&l.logLevel},l.warn=function(){console&&0<l.logLevel&&l.logLevel},l.nextId=function(){return l._nextId++},l.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},l.map=function(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n},l.topologicalSort=function(e){var t=[],n=[],i=[];for(var r in e)n[r]||i[r]||l._topologicalSort(r,n,i,e,t);return t},l._topologicalSort=function(e,t,n,i,r){var o=i[e]||[];n[e]=!0;for(var s=0;s<o.length;s+=1){var a=o[s];n[a]||t[a]||l._topologicalSort(a,t,n,i,r)}n[e]=!1,t[e]=!0,r.push(e)},l.chain=function(){for(var o=[],e=0;e<arguments.length;e+=1){var t=arguments[e];t._chained?o.push.apply(o,t._chained):o.push(t)}function n(){for(var e,t=new Array(arguments.length),n=0,i=arguments.length;n<i;n++)t[n]=arguments[n];for(n=0;n<o.length;n+=1){var r=o[n].apply(e,t);void 0!==r&&(e=r)}return e}return n._chained=o,n},l.chainPathBefore=function(e,t,n){return l.set(e,t,l.chain(n,l.get(e,t)))},l.chainPathAfter=function(e,t,n){return l.set(e,t,l.chain(l.get(e,t),n))},l._requireGlobal=function(e,t){return("undefined"!=typeof window?window[e]:void 0!==i?i[e]:null)||r(t)}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,n){var f={};t.exports=f;var o=e("../body/World"),m=e("./Sleeping"),g=e("../collision/Resolver"),s=e("../render/Render"),v=e("../collision/Pairs"),a=(e("./Metrics"),e("../collision/Grid")),y=e("./Events"),b=e("../body/Composite"),x=e("../constraint/Constraint"),l=e("./Common"),c=e("../body/Body");f.create=function(e,t){t=(t=l.isElement(e)?t:e)||{},((e=l.isElement(e)?e:null)||t.render)&&l.warn("Engine.create: engine.render is deprecated (see docs)");var n={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:a}},i=l.extend(n,t);if(e||i.render){var r={element:e,controller:s};i.render=l.extend(r,i.render)}return i.render&&i.render.controller&&(i.render=i.render.controller.create(i.render)),i.render&&(i.render.engine=i),i.world=t.world||o.create(i.world),i.pairs=v.create(),i.broadphase=i.broadphase.controller.create(i.broadphase),i.metrics=i.metrics||{extended:!1},i},f.update=function(e,t,n){t=t||1e3/60,n=n||1;var i,r=e.world,o=e.timing,s=e.broadphase,a=[];o.timestamp+=t*o.timeScale;var l={timestamp:o.timestamp};y.trigger(e,"beforeUpdate",l);var c=b.allBodies(r),u=b.allConstraints(r);for(e.enableSleeping&&m.update(c,o.timeScale),f._bodiesApplyGravity(c,r.gravity),f._bodiesUpdate(c,t,o.timeScale,n,r.bounds),x.preSolveAll(c),i=0;i<e.constraintIterations;i++)x.solveAll(u,o.timeScale);x.postSolveAll(c),a=s.controller?(r.isModified&&s.controller.clear(s),s.controller.update(s,c,e,r.isModified),s.pairsList):c,r.isModified&&b.setModified(r,!1,!1,!0);var d=s.detector(a,e),h=e.pairs,p=o.timestamp;for(v.update(h,d,p),v.removeOld(h,p),e.enableSleeping&&m.afterCollisions(h.list,o.timeScale),0<h.collisionStart.length&&y.trigger(e,"collisionStart",{pairs:h.collisionStart}),g.preSolvePosition(h.list),i=0;i<e.positionIterations;i++)g.solvePosition(h.list,o.timeScale);for(g.postSolvePosition(c),x.preSolveAll(c),i=0;i<e.constraintIterations;i++)x.solveAll(u,o.timeScale);for(x.postSolveAll(c),g.preSolveVelocity(h.list),i=0;i<e.velocityIterations;i++)g.solveVelocity(h.list,o.timeScale);return 0<h.collisionActive.length&&y.trigger(e,"collisionActive",{pairs:h.collisionActive}),0<h.collisionEnd.length&&y.trigger(e,"collisionEnd",{pairs:h.collisionEnd}),f._bodiesClearForces(c),y.trigger(e,"afterUpdate",l),e},f.merge=function(e,t){if(l.extend(e,t),t.world){e.world=t.world,f.clear(e);for(var n=b.allBodies(e.world),i=0;i<n.length;i++){var r=n[i];m.set(r,!1),r.id=l.nextId()}}},f.clear=function(e){var t=e.world;v.clear(e.pairs);var n=e.broadphase;if(n.controller){var i=b.allBodies(t);n.controller.clear(n),n.controller.update(n,i,e,!0)}},f._bodiesClearForces=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.force.x=0,n.force.y=0,n.torque=0}},f._bodiesApplyGravity=function(e,t){var n=void 0!==t.scale?t.scale:.001;if((0!==t.x||0!==t.y)&&0!==n)for(var i=0;i<e.length;i++){var r=e[i];r.isStatic||r.isSleeping||(r.force.y+=r.mass*t.y*n,r.force.x+=r.mass*t.x*n)}},f._bodiesUpdate=function(e,t,n,i,r){for(var o=0;o<e.length;o++){var s=e[o];s.isStatic||s.isSleeping||c.update(s,t,n,i)}}},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Grid":6,"../collision/Pairs":8,"../collision/Resolver":10,"../constraint/Constraint":12,"../render/Render":31,"./Common":14,"./Events":16,"./Metrics":18,"./Sleeping":22}],16:[function(e,t,n){var i={};t.exports=i;var c=e("./Common");i.on=function(e,t,n){for(var i,r=t.split(" "),o=0;o<r.length;o++)i=r[o],e.events=e.events||{},e.events[i]=e.events[i]||[],e.events[i].push(n);return n},i.off=function(e,t,n){if(t){"function"==typeof t&&(n=t,t=c.keys(e.events).join(" "));for(var i=t.split(" "),r=0;r<i.length;r++){var o=e.events[i[r]],s=[];if(n&&o)for(var a=0;a<o.length;a++)o[a]!==n&&s.push(o[a]);e.events[i[r]]=s}}else e.events={}},i.trigger=function(e,t,n){var i,r,o,s;if(e.events){n=n||{},i=t.split(" ");for(var a=0;a<i.length;a++)if(r=i[a],o=e.events[r]){(s=c.clone(n,!1)).name=r,s.source=e;for(var l=0;l<o.length;l++)o[l].apply(e,[s])}}}},{"./Common":14}],17:[function(e,t,n){var i={};t.exports=i;var r=e("./Plugin"),o=e("./Common");i.name="matter-js",i.version="0.14.2",i.uses=[],i.used=[],i.use=function(){r.use(i,Array.prototype.slice.call(arguments))},i.before=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathBefore(i,e,t)},i.after=function(e,t){return e=e.replace(/^Matter./,""),o.chainPathAfter(i,e,t)}},{"./Common":14,"./Plugin":20}],18:[function(e,t,n){},{"../body/Composite":2,"./Common":14}],19:[function(e,t,n){var i={};t.exports=i;var r=e("../core/Common");i.create=function(e){var n={};return e||r.log("Mouse.create: element was undefined, defaulting to document.body","warn"),n.element=e||document.body,n.absolute={x:0,y:0},n.position={x:0,y:0},n.mousedownPosition={x:0,y:0},n.mouseupPosition={x:0,y:0},n.offset={x:0,y:0},n.scale={x:1,y:1},n.wheelDelta=0,n.button=-1,n.pixelRatio=n.element.getAttribute("data-pixel-ratio")||1,n.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},n.mousemove=function(e){var t=i._getRelativeMousePosition(e,n.element,n.pixelRatio);e.changedTouches&&(n.button=0,e.preventDefault()),n.absolute.x=t.x,n.absolute.y=t.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.sourceEvents.mousemove=e},n.mousedown=function(e){var t=i._getRelativeMousePosition(e,n.element,n.pixelRatio);e.changedTouches?(n.button=0,e.preventDefault()):n.button=e.button,n.absolute.x=t.x,n.absolute.y=t.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mousedownPosition.x=n.position.x,n.mousedownPosition.y=n.position.y,n.sourceEvents.mousedown=e},n.mouseup=function(e){var t=i._getRelativeMousePosition(e,n.element,n.pixelRatio);e.changedTouches&&e.preventDefault(),n.button=-1,n.absolute.x=t.x,n.absolute.y=t.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mouseupPosition.x=n.position.x,n.mouseupPosition.y=n.position.y,n.sourceEvents.mouseup=e},n.mousewheel=function(e){n.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},i.setElement(n,n.element),n},i.setElement=function(e,t){(e.element=t).addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},i.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},i.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},i.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},i._getRelativeMousePosition=function(e,t,n){var i,r,o=t.getBoundingClientRect(),s=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:s.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:s.scrollTop,c=e.changedTouches;return r=c?(i=c[0].pageX-o.left-a,c[0].pageY-o.top-l):(i=e.pageX-o.left-a,e.pageY-o.top-l),{x:i/(t.clientWidth/(t.width||t.clientWidth)*n),y:r/(t.clientHeight/(t.height||t.clientHeight)*n)}}},{"../core/Common":14}],20:[function(e,t,n){var a={};t.exports=a;var l=e("./Common");a._registry={},a.register=function(e){if(a.isPlugin(e)||l.warn("Plugin.register:",a.toString(e),"does not implement all required fields."),e.name in a._registry){var t=a._registry[e.name],n=a.versionParse(e.version).number,i=a.versionParse(t.version).number;i<n?(l.warn("Plugin.register:",a.toString(t),"was upgraded to",a.toString(e)),a._registry[e.name]=e):n<i?l.warn("Plugin.register:",a.toString(t),"can not be downgraded to",a.toString(e)):e!==t&&l.warn("Plugin.register:",a.toString(e),"is already registered to different plugin object")}else a._registry[e.name]=e;return e},a.resolve=function(e){return a._registry[a.dependencyParse(e).name]},a.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},a.isPlugin=function(e){return e&&e.name&&e.version&&e.install},a.isUsed=function(e,t){return-1<e.used.indexOf(t)},a.isFor=function(e,t){var n=e.for&&a.dependencyParse(e.for);return!e.for||t.name===n.name&&a.versionSatisfies(t.version,n.range)},a.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var n=a.dependencies(e),i=l.topologicalSort(n),r=[],o=0;o<i.length;o+=1)if(i[o]!==e.name){var s=a.resolve(i[o]);s?a.isUsed(e,s.name)||(a.isFor(s,e)||(l.warn("Plugin.use:",a.toString(s),"is for",s.for,"but installed on",a.toString(e)+"."),s._warned=!0),s.install?s.install(e):(l.warn("Plugin.use:",a.toString(s),"does not specify an install function."),s._warned=!0),s._warned?(r.push("ðŸ”¶ "+a.toString(s)),delete s._warned):r.push("âœ… "+a.toString(s)),e.used.push(s.name)):r.push("âŒ "+i[o])}0<r.length&&l.info(r.join("  "))}else l.warn("Plugin.use:",a.toString(e),"does not specify any dependencies to install.")},a.dependencies=function(i,e){var r=a.dependencyParse(i),t=r.name;if(!(t in(e=e||{}))){i=a.resolve(i)||i,e[t]=l.map(i.uses||[],function(e){a.isPlugin(e)&&a.register(e);var t=a.dependencyParse(e),n=a.resolve(e);return n&&!a.versionSatisfies(n.version,t.range)?(l.warn("Plugin.dependencies:",a.toString(n),"does not satisfy",a.toString(t),"used by",a.toString(r)+"."),n._warned=!0,i._warned=!0):n||(l.warn("Plugin.dependencies:",a.toString(e),"used by",a.toString(r),"could not be resolved."),i._warned=!0),t.name});for(var n=0;n<e[t].length;n+=1)a.dependencies(e[t][n],e);return e}},a.dependencyParse=function(e){return l.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(e)||l.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},a.versionParse=function(e){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(e)||l.warn("Plugin.versionParse:",e,"is not a valid version or range.");var t=e.split("-");e=t[0];var n=isNaN(Number(e[0])),i=n?e.substr(1):e,r=l.map(i.split("."),function(e){return Number(e)});return{isRange:n,version:i,range:e,operator:n?e[0]:"",parts:r,prerelease:t[1],number:1e8*r[0]+1e4*r[1]+r[2]}},a.versionSatisfies=function(e,t){t=t||"*";var n=a.versionParse(t),i=n.parts,r=a.versionParse(e),o=r.parts;if(n.isRange){if("*"===n.operator||"*"===e)return!0;if("~"===n.operator)return o[0]===i[0]&&o[1]===i[1]&&o[2]>=i[2];if("^"===n.operator)return 0<i[0]?o[0]===i[0]&&r.number>=n.number:0<i[1]?o[1]===i[1]&&o[2]>=i[2]:o[2]===i[2]}return e===t||"*"===e}},{"./Common":14}],21:[function(e,t,n){var o={};t.exports=o;var a=e("./Events"),l=e("./Engine"),i=e("./Common");!function(){var r,t,n;"undefined"!=typeof window&&(r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r||(r=function(e){n=setTimeout(function(){e(i.now())},1e3/60)},t=function(){clearTimeout(n)});o.create=function(e){var t=i.extend({fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},e);return t.delta=t.delta||1e3/t.fps,t.deltaMin=t.deltaMin||1e3/t.fps,t.deltaMax=t.deltaMax||1e3/(.5*t.fps),t.fps=1e3/t.delta,t},o.run=function(n,i){return void 0!==n.positionIterations&&(i=n,n=o.create()),function e(t){n.frameRequestId=r(e),t&&n.enabled&&o.tick(n,i,t)}(),n},o.tick=function(e,t,n){var i,r=t.timing,o=1,s={timestamp:r.timestamp};a.trigger(e,"beforeTick",s),a.trigger(t,"beforeTick",s),e.isFixed?i=e.delta:(i=n-e.timePrev||e.delta,e.timePrev=n,e.deltaHistory.push(i),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),o=(i=(i=(i=Math.min.apply(null,e.deltaHistory))<e.deltaMin?e.deltaMin:i)>e.deltaMax?e.deltaMax:i)/e.delta,e.delta=i),0!==e.timeScalePrev&&(o*=r.timeScale/e.timeScalePrev),0===r.timeScale&&(o=0),e.timeScalePrev=r.timeScale,e.correction=o,e.frameCounter+=1,1e3<=n-e.counterTimestamp&&(e.fps=e.frameCounter*((n-e.counterTimestamp)/1e3),e.counterTimestamp=n,e.frameCounter=0),a.trigger(e,"tick",s),a.trigger(t,"tick",s),t.world.isModified&&t.render&&t.render.controller&&t.render.controller.clear&&t.render.controller.clear(t.render),a.trigger(e,"beforeUpdate",s),l.update(t,i,o),a.trigger(e,"afterUpdate",s),t.render&&t.render.controller&&(a.trigger(e,"beforeRender",s),a.trigger(t,"beforeRender",s),t.render.controller.world(t.render),a.trigger(e,"afterRender",s),a.trigger(t,"afterRender",s)),a.trigger(e,"afterTick",s),a.trigger(t,"afterTick",s)},o.stop=function(e){t(e.frameRequestId)},o.start=function(e,t){o.run(e,t)}}()},{"./Common":14,"./Engine":15,"./Events":16}],22:[function(e,t,n){var u={};t.exports=u;var i=e("./Events");u._motionWakeThreshold=.18,u._motionSleepThreshold=.08,u._minBias=.9,u.update=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var r=e[i],o=r.speed*r.speed+r.angularSpeed*r.angularSpeed;if(0===r.force.x&&0===r.force.y){var s=Math.min(r.motion,o),a=Math.max(r.motion,o);r.motion=u._minBias*s+(1-u._minBias)*a,0<r.sleepThreshold&&r.motion<u._motionSleepThreshold*n?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold&&u.set(r,!0)):0<r.sleepCounter&&--r.sleepCounter}else u.set(r,!1)}},u.afterCollisions=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var r=e[i];if(r.isActive){var o=r.collision,s=o.bodyA.parent,a=o.bodyB.parent;if(!(s.isSleeping&&a.isSleeping||s.isStatic||a.isStatic)&&(s.isSleeping||a.isSleeping)){var l=s.isSleeping&&!s.isStatic?s:a,c=l===s?a:s;!l.isStatic&&c.motion>u._motionWakeThreshold*n&&u.set(l,!1)}}}},u.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||i.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&i.trigger(e,"sleepEnd"))}},{"./Events":16}],23:[function(e,t,n){var f={};t.exports=f;var S,C=e("../geometry/Vertices"),P=e("../core/Common"),A=e("../body/Body"),M=e("../geometry/Bounds"),E=e("../geometry/Vector");f.rectangle=function(e,t,n,i,r){r=r||{};var o={label:"Rectangle Body",position:{x:e,y:t},vertices:C.fromPath("L 0 0 L "+n+" 0 L "+n+" "+i+" L 0 "+i)};if(r.chamfer){var s=r.chamfer;o.vertices=C.chamfer(o.vertices,s.radius,s.quality,s.qualityMin,s.qualityMax),delete r.chamfer}return A.create(P.extend({},o,r))},f.trapezoid=function(e,t,n,i,r,o){o=o||{};var s,a=n*(r*=.5),l=a+(1-2*r)*n,c=l+a;s=r<.5?"L 0 0 L "+a+" "+-i+" L "+l+" "+-i+" L "+c+" 0":"L 0 0 L "+l+" "+-i+" L "+c+" 0";var u={label:"Trapezoid Body",position:{x:e,y:t},vertices:C.fromPath(s)};if(o.chamfer){var d=o.chamfer;u.vertices=C.chamfer(u.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete o.chamfer}return A.create(P.extend({},u,o))},f.circle=function(e,t,n,i,r){i=i||{};var o={label:"Circle Body",circleRadius:n};r=r||25;var s=Math.ceil(Math.max(10,Math.min(r,n)));return s%2==1&&(s+=1),f.polygon(e,t,s,n,P.extend({},o,i))},f.polygon=function(e,t,n,i,r){if(r=r||{},n<3)return f.circle(e,t,i,r);for(var o=2*Math.PI/n,s="",a=.5*o,l=0;l<n;l+=1){var c=a+l*o,u=Math.cos(c)*i,d=Math.sin(c)*i;s+="L "+u.toFixed(3)+" "+d.toFixed(3)+" "}var h={label:"Polygon Body",position:{x:e,y:t},vertices:C.fromPath(s)};if(r.chamfer){var p=r.chamfer;h.vertices=C.chamfer(h.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete r.chamfer}return A.create(P.extend({},h,r))},f.fromVertices=function(e,t,n,i,r,o,s){var a,l,c,u,d,h,p,f,m;for(i=i||{},l=[],r=void 0!==r&&r,o=void 0!==o?o:.01,s=void 0!==s?s:10,(S=S||P._requireGlobal("decomp","poly-decomp"))||P.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),P.isArray(n[0])||(n=[n]),f=0;f<n.length;f+=1)if(u=n[f],(c=C.isConvex(u))||!S)u=c?C.clockwiseSort(u):C.hull(u),l.push({position:{x:e,y:t},vertices:u});else{var g=u.map(function(e){return[e.x,e.y]});S.makeCCW(g),!1!==o&&S.removeCollinearPoints(g,o);var v=S.quickDecomp(g);for(d=0;d<v.length;d++){var y=v[d].map(function(e){return{x:e[0],y:e[1]}});0<s&&C.area(y)<s||l.push({position:C.centre(y),vertices:y})}}for(d=0;d<l.length;d++)l[d]=A.create(P.extend(l[d],i));if(r)for(d=0;d<l.length;d++){var b=l[d];for(h=d+1;h<l.length;h++){var x=l[h];if(M.overlaps(b.bounds,x.bounds)){var w=b.vertices,_=x.vertices;for(p=0;p<b.vertices.length;p++)for(m=0;m<x.vertices.length;m++){var k=E.magnitudeSquared(E.sub(w[(p+1)%w.length],_[m])),T=E.magnitudeSquared(E.sub(w[p],_[(m+1)%_.length]));k<5&&T<5&&(w[p].isInternal=!0,_[m].isInternal=!0)}}}}return 1<l.length?(a=A.create(P.extend({parts:l.slice(0)},i)),A.setPosition(a,{x:e,y:t}),a):l[0]}},{"../body/Body":1,"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],24:[function(e,t,n){var p={};t.exports=p;var y=e("../body/Composite"),m=e("../constraint/Constraint"),g=e("../core/Common"),b=e("../body/Body"),f=e("./Bodies");p.stack=function(e,t,n,i,r,o,s){for(var a,l=y.create({label:"Stack"}),c=e,u=t,d=0,h=0;h<i;h++){for(var p=0,f=0;f<n;f++){var m=s(c,u,f,h,a,d);if(m){var g=m.bounds.max.y-m.bounds.min.y,v=m.bounds.max.x-m.bounds.min.x;p<g&&(p=g),b.translate(m,{x:.5*v,y:.5*g}),c=m.bounds.max.x+r,y.addBody(l,m),a=m,d+=1}else c+=r}u+=p+o,c=e}return l},p.chain=function(e,t,n,i,r,o){for(var s=e.bodies,a=1;a<s.length;a++){var l=s[a-1],c=s[a],u=l.bounds.max.y-l.bounds.min.y,d=l.bounds.max.x-l.bounds.min.x,h=c.bounds.max.y-c.bounds.min.y,p={bodyA:l,pointA:{x:d*t,y:u*n},bodyB:c,pointB:{x:(c.bounds.max.x-c.bounds.min.x)*i,y:h*r}},f=g.extend(p,o);y.addConstraint(e,m.create(f))}return e.label+=" Chain",e},p.mesh=function(e,t,n,i,r){var o,s,a,l,c,u=e.bodies;for(o=0;o<n;o++){for(s=1;s<t;s++)a=u[s-1+o*t],l=u[s+o*t],y.addConstraint(e,m.create(g.extend({bodyA:a,bodyB:l},r)));if(0<o)for(s=0;s<t;s++)a=u[s+(o-1)*t],l=u[s+o*t],y.addConstraint(e,m.create(g.extend({bodyA:a,bodyB:l},r))),i&&0<s&&(c=u[s-1+(o-1)*t],y.addConstraint(e,m.create(g.extend({bodyA:c,bodyB:l},r)))),i&&s<t-1&&(c=u[s+1+(o-1)*t],y.addConstraint(e,m.create(g.extend({bodyA:c,bodyB:l},r))))}return e.label+=" Mesh",e},p.pyramid=function(l,e,c,u,d,t,h){return p.stack(l,e,c,u,d,t,function(e,t,n,i,r,o){var s=Math.min(u,Math.ceil(c/2)),a=r?r.bounds.max.x-r.bounds.min.x:0;if(!(s<i)&&!(n<(i=s-i)||c-1-i<n))return 1===o&&b.translate(r,{x:(n+(c%2==1?1:-1))*a,y:0}),h(l+(r?n*a:0)+n*d,t,n,i,r,o)})},p.newtonsCradle=function(e,t,n,i,r){for(var o=y.create({label:"Newtons Cradle"}),s=0;s<n;s++){var a=f.circle(e+s*(1.9*i),t+r,i,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),l=m.create({pointA:{x:e+s*(1.9*i),y:t},bodyB:a});y.addBody(o,a),y.addConstraint(o,l)}return o},p.car=function(e,t,n,i,r){var o=b.nextGroup(!0),s=.5*-n+20,a=.5*n-20,l=y.create({label:"Car"}),c=f.rectangle(e,t,n,i,{collisionFilter:{group:o},chamfer:{radius:.5*i},density:2e-4}),u=f.circle(e+s,t+0,r,{collisionFilter:{group:o},friction:.8}),d=f.circle(e+a,t+0,r,{collisionFilter:{group:o},friction:.8}),h=m.create({bodyB:c,pointB:{x:s,y:0},bodyA:u,stiffness:1,length:0}),p=m.create({bodyB:c,pointB:{x:a,y:0},bodyA:d,stiffness:1,length:0});return y.addBody(l,c),y.addBody(l,u),y.addBody(l,d),y.addConstraint(l,h),y.addConstraint(l,p),l},p.softBody=function(e,t,n,i,r,o,s,a,l,c){l=g.extend({inertia:1/0},l),c=g.extend({stiffness:.2,render:{type:"line",anchors:!1}},c);var u=p.stack(e,t,n,i,r,o,function(e,t){return f.circle(e,t,a,l)});return p.mesh(u,n,i,s,c),u.label="Soft Body",u}},{"../body/Body":1,"../body/Composite":2,"../constraint/Constraint":12,"../core/Common":14,"./Bodies":23}],25:[function(e,t,n){var i={};t.exports=i;var s=e("../geometry/Vector"),a=e("../core/Common");i.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var i=(n+1)%e.length,r=s.normalise({x:e[i].y-e[n].y,y:e[n].x-e[i].x}),o=0===r.y?1/0:r.x/r.y;t[o=o.toFixed(3).toString()]=r}return a.values(t)},i.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),i=Math.sin(t),r=0;r<e.length;r++){var o,s=e[r];o=s.x*n-s.y*i,s.y=s.x*i+s.y*n,s.x=o}}},{"../core/Common":14,"../geometry/Vector":28}],26:[function(e,t,n){var i={};(t.exports=i).create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&i.update(t,e),t},i.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var i=0;i<t.length;i++){var r=t[i];r.x>e.max.x&&(e.max.x=r.x),r.x<e.min.x&&(e.min.x=r.x),r.y>e.max.y&&(e.max.y=r.y),r.y<e.min.y&&(e.min.y=r.y)}n&&(0<n.x?e.max.x+=n.x:e.min.x+=n.x,0<n.y?e.max.y+=n.y:e.min.y+=n.y)},i.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},i.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},i.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},i.shift=function(e,t){var n=e.max.x-e.min.x,i=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+i}},{}],27:[function(e,t,n){var b={};t.exports=b;var x=(e("../geometry/Bounds"),e("../core/Common"));b.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||x.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,i,r,o,s,a,l,c,u,d,h,p=[],f=0,m=0,g=0;t=t||15;function v(e,t,n){var i=n%2==1&&1<n;if(!u||e!=u.x||t!=u.y){h=u&&i?(d=u.x,u.y):d=0;var r={x:d+e,y:h+t};!i&&u||(u=r),p.push(r),m=d+e,g=h+t}}function y(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":m=e.x,g=e.y;break;case"H":m=e.x;break;case"V":g=e.y}v(m,g,e.pathSegType)}}for(b._svgPathToAbsolute(e),r=e.getTotalLength(),a=[],n=0;n<e.pathSegList.numberOfItems;n+=1)a.push(e.pathSegList.getItem(n));for(l=a.concat();f<r;){if((s=a[e.getPathSegAtLength(f)])!=c){for(;l.length&&l[0]!=s;)y(l.shift());c=s}switch(s.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=e.getPointAtLength(f),v(o.x,o.y,0)}f+=t}for(n=0,i=l.length;n<i;++n)y(l[n]);return p},b._svgPathToAbsolute=function(e){for(var t,n,i,r,o,s,a=e.pathSegList,l=0,c=0,u=a.numberOfItems,d=0;d<u;++d){var h=a.getItem(d),p=h.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in h&&(l=h.x),"y"in h&&(c=h.y);else switch("x1"in h&&(i=l+h.x1),"x2"in h&&(o=l+h.x2),"y1"in h&&(r=c+h.y1),"y2"in h&&(s=c+h.y2),"x"in h&&(l+=h.x),"y"in h&&(c+=h.y),p){case"m":a.replaceItem(e.createSVGPathSegMovetoAbs(l,c),d);break;case"l":a.replaceItem(e.createSVGPathSegLinetoAbs(l,c),d);break;case"h":a.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),d);break;case"v":a.replaceItem(e.createSVGPathSegLinetoVerticalAbs(c),d);break;case"c":a.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,c,i,r,o,s),d);break;case"s":a.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,c,o,s),d);break;case"q":a.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,c,i,r),d);break;case"t":a.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),d);break;case"a":a.replaceItem(e.createSVGPathSegArcAbs(l,c,h.r1,h.r2,h.angle,h.largeArcFlag,h.sweepFlag),d);break;case"z":case"Z":l=t,c=n}"M"!=p&&"m"!=p||(t=l,n=c)}}},{"../core/Common":14,"../geometry/Bounds":26}],28:[function(e,t,n){var i={};(t.exports=i).create=function(e,t){return{x:e||0,y:t||0}},i.clone=function(e){return{x:e.x,y:e.y}},i.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},i.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},i.rotate=function(e,t,n){var i=Math.cos(t),r=Math.sin(t);n=n||{};var o=e.x*i-e.y*r;return n.y=e.x*r+e.y*i,n.x=o,n},i.rotateAbout=function(e,t,n,i){var r=Math.cos(t),o=Math.sin(t);i=i||{};var s=n.x+((e.x-n.x)*r-(e.y-n.y)*o);return i.y=n.y+((e.x-n.x)*o+(e.y-n.y)*r),i.x=s,i},i.normalise=function(e){var t=i.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},i.dot=function(e,t){return e.x*t.x+e.y*t.y},i.cross=function(e,t){return e.x*t.y-e.y*t.x},i.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},i.add=function(e,t,n){return(n=n||{}).x=e.x+t.x,n.y=e.y+t.y,n},i.sub=function(e,t,n){return(n=n||{}).x=e.x-t.x,n.y=e.y-t.y,n},i.mult=function(e,t){return{x:e.x*t,y:e.y*t}},i.div=function(e,t){return{x:e.x/t,y:e.y/t}},i.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},i.neg=function(e){return{x:-e.x,y:-e.y}},i.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},i._temp=[i.create(),i.create(),i.create(),i.create(),i.create(),i.create()]},{}],29:[function(e,t,n){var a={};t.exports=a;var x=e("../geometry/Vector"),w=e("../core/Common");a.create=function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i],o={x:r.x,y:r.y,index:i,body:t,isInternal:!1};n.push(o)}return n},a.fromPath=function(e,t){var i=[];return e.replace(/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,function(e,t,n){i.push({x:parseFloat(t),y:parseFloat(n)})}),a.create(i,t)},a.centre=function(e){for(var t,n,i,r=a.area(e,!0),o={x:0,y:0},s=0;s<e.length;s++)i=(s+1)%e.length,t=x.cross(e[s],e[i]),n=x.mult(x.add(e[s],e[i]),t),o=x.add(o,n);return x.div(o,6*r)},a.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return x.div(t,e.length)},a.area=function(e,t){for(var n=0,i=e.length-1,r=0;r<e.length;r++)n+=(e[i].x-e[r].x)*(e[i].y+e[r].y),i=r;return t?n/2:Math.abs(n)/2},a.inertia=function(e,t){for(var n,i,r=0,o=0,s=e,a=0;a<s.length;a++)i=(a+1)%s.length,r+=(n=Math.abs(x.cross(s[i],s[a])))*(x.dot(s[i],s[i])+x.dot(s[i],s[a])+x.dot(s[a],s[a])),o+=n;return t/6*(r/o)},a.translate=function(e,t,n){var i;if(n)for(i=0;i<e.length;i++)e[i].x+=t.x*n,e[i].y+=t.y*n;else for(i=0;i<e.length;i++)e[i].x+=t.x,e[i].y+=t.y;return e},a.rotate=function(e,t,n){if(0!==t){for(var i=Math.cos(t),r=Math.sin(t),o=0;o<e.length;o++){var s=e[o],a=s.x-n.x,l=s.y-n.y;s.x=n.x+(a*i-l*r),s.y=n.y+(a*r+l*i)}return e}},a.contains=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=e[(n+1)%e.length];if(0<(t.x-i.x)*(r.y-i.y)+(t.y-i.y)*(i.x-r.x))return!1}return!0},a.scale=function(e,t,n,i){if(1===t&&1===n)return e;i=i||a.centre(e);for(var r,o,s=0;s<e.length;s++)r=e[s],o=x.sub(r,i),e[s].x=i.x+o.x*t,e[s].y=i.y+o.y*n;return e},a.chamfer=function(e,t,n,i,r){t="number"==typeof t?[t]:t||[8],n=void 0!==n?n:-1,i=i||2,r=r||14;for(var o=[],s=0;s<e.length;s++){var a=e[0<=s-1?s-1:e.length-1],l=e[s],c=e[(s+1)%e.length],u=t[s<t.length?s:t.length-1];if(0!==u){var d=x.normalise({x:l.y-a.y,y:a.x-l.x}),h=x.normalise({x:c.y-l.y,y:l.x-c.x}),p=Math.sqrt(2*Math.pow(u,2)),f=x.mult(w.clone(d),u),m=x.normalise(x.mult(x.add(d,h),.5)),g=x.sub(l,x.mult(m,p)),v=n;-1===n&&(v=1.75*Math.pow(u,.32)),(v=w.clamp(v,i,r))%2==1&&(v+=1);for(var y=Math.acos(x.dot(d,h))/v,b=0;b<v;b++)o.push(x.add(x.rotate(f,y*b),g))}else o.push(l)}return o},a.clockwiseSort=function(e){var n=a.mean(e);return e.sort(function(e,t){return x.angle(n,e)-x.angle(n,t)}),e},a.isConvex=function(e){var t,n,i,r,o=0,s=e.length;if(s<3)return null;for(t=0;t<s;t++)if(i=(t+2)%s,r=(e[n=(t+1)%s].x-e[t].x)*(e[i].y-e[n].y),(r-=(e[n].y-e[t].y)*(e[i].x-e[n].x))<0?o|=1:0<r&&(o|=2),3===o)return!1;return 0!==o||null},a.hull=function(e){var t,n,i=[],r=[];for((e=e.slice(0)).sort(function(e,t){var n=e.x-t.x;return 0!=n?n:e.y-t.y}),n=0;n<e.length;n+=1){for(t=e[n];2<=r.length&&x.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}for(n=e.length-1;0<=n;--n){for(t=e[n];2<=i.length&&x.cross3(i[i.length-2],i[i.length-1],t)<=0;)i.pop();i.push(t)}return i.pop(),r.pop(),i.concat(r)}},{"../core/Common":14,"../geometry/Vector":28}],30:[function(e,t,n){var i=t.exports=e("../core/Matter");i.Body=e("../body/Body"),i.Composite=e("../body/Composite"),i.World=e("../body/World"),i.Contact=e("../collision/Contact"),i.Detector=e("../collision/Detector"),i.Grid=e("../collision/Grid"),i.Pairs=e("../collision/Pairs"),i.Pair=e("../collision/Pair"),i.Query=e("../collision/Query"),i.Resolver=e("../collision/Resolver"),i.SAT=e("../collision/SAT"),i.Constraint=e("../constraint/Constraint"),i.MouseConstraint=e("../constraint/MouseConstraint"),i.Common=e("../core/Common"),i.Engine=e("../core/Engine"),i.Events=e("../core/Events"),i.Mouse=e("../core/Mouse"),i.Runner=e("../core/Runner"),i.Sleeping=e("../core/Sleeping"),i.Plugin=e("../core/Plugin"),i.Bodies=e("../factory/Bodies"),i.Composites=e("../factory/Composites"),i.Axes=e("../geometry/Axes"),i.Bounds=e("../geometry/Bounds"),i.Svg=e("../geometry/Svg"),i.Vector=e("../geometry/Vector"),i.Vertices=e("../geometry/Vertices"),i.Render=e("../render/Render"),i.RenderPixi=e("../render/RenderPixi"),i.World.add=i.Composite.add,i.World.remove=i.Composite.remove,i.World.addComposite=i.Composite.addComposite,i.World.addBody=i.Composite.addBody,i.World.addConstraint=i.Composite.addConstraint,i.World.clear=i.Composite.clear,i.Engine.run=i.Runner.run},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Contact":4,"../collision/Detector":5,"../collision/Grid":6,"../collision/Pair":7,"../collision/Pairs":8,"../collision/Query":9,"../collision/Resolver":10,"../collision/SAT":11,"../constraint/Constraint":12,"../constraint/MouseConstraint":13,"../core/Common":14,"../core/Engine":15,"../core/Events":16,"../core/Matter":17,"../core/Metrics":18,"../core/Mouse":19,"../core/Plugin":20,"../core/Runner":21,"../core/Sleeping":22,"../factory/Bodies":23,"../factory/Composites":24,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Svg":27,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31,"../render/RenderPixi":32}],31:[function(e,t,n){var x={};t.exports=x;var g=e("../core/Common"),w=e("../body/Composite"),_=e("../geometry/Bounds"),k=e("../core/Events"),T=e("../collision/Grid"),S=e("../geometry/Vector"),C=e("../core/Mouse");!function(){var i,t;"undefined"!=typeof window&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(g.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),x.create=function(e){var t={controller:x,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#18181d",wireframeBackground:"#0f0f13",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},n=g.extend(t,e);return n.canvas&&(n.canvas.width=n.options.width||n.canvas.width,n.canvas.height=n.options.height||n.canvas.height),n.mouse=e.mouse,n.engine=e.engine,n.canvas=n.canvas||r(n.options.width,n.options.height),n.context=n.canvas.getContext("2d"),n.textures={},n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.canvas.width,y:n.canvas.height}},1!==n.options.pixelRatio&&x.setPixelRatio(n,n.options.pixelRatio),g.isElement(n.element)?n.element.appendChild(n.canvas):n.canvas.parentNode||g.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),n},x.run=function(n){!function e(t){n.frameRequestId=i(e),x.world(n)}()},x.stop=function(e){t(e.frameRequestId)},x.setPixelRatio=function(e,t){var n=e.options,i=e.canvas;"auto"===t&&(t=o(i)),n.pixelRatio=t,i.setAttribute("data-pixel-ratio",t),i.width=n.width*t,i.height=n.height*t,i.style.width=n.width+"px",i.style.height=n.height+"px",e.context.scale(t,t)},x.lookAt=function(e,t,n,i){i=void 0===i||i,t=g.isArray(t)?t:[t],n=n||{x:0,y:0};for(var r={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},o=0;o<t.length;o+=1){var s=t[o],a=s.bounds?s.bounds.min:s.min||s.position||s,l=s.bounds?s.bounds.max:s.max||s.position||s;a&&l&&(a.x<r.min.x&&(r.min.x=a.x),l.x>r.max.x&&(r.max.x=l.x),a.y<r.min.y&&(r.min.y=a.y),l.y>r.max.y&&(r.max.y=l.y))}var c=r.max.x-r.min.x+2*n.x,u=r.max.y-r.min.y+2*n.y,d=e.canvas.height,h=e.canvas.width/d,p=c/u,f=1,m=1;h<p?m=p/h:f=h/p,e.options.hasBounds=!0,e.bounds.min.x=r.min.x,e.bounds.max.x=r.min.x+c*f,e.bounds.min.y=r.min.y,e.bounds.max.y=r.min.y+u*m,i&&(e.bounds.min.x+=.5*c-c*f*.5,e.bounds.max.x+=.5*c-c*f*.5,e.bounds.min.y+=.5*u-u*m*.5,e.bounds.max.y+=.5*u-u*m*.5),e.bounds.min.x-=n.x,e.bounds.max.x-=n.x,e.bounds.min.y-=n.y,e.bounds.max.y-=n.y,e.mouse&&(C.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),C.setOffset(e.mouse,e.bounds.min))},x.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,i=t/e.options.width,r=n/e.options.height;e.context.scale(1/i,1/r),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},x.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},x.world=function(e){var t,n=e.engine,i=n.world,r=e.canvas,o=e.context,s=e.options,a=w.allBodies(i),l=w.allConstraints(i),c=s.wireframes?s.wireframeBackground:s.background,u=[],d=[],h={timestamp:n.timing.timestamp};if(k.trigger(e,"beforeRender",h),e.currentBackground!==c&&b(e,c),o.globalCompositeOperation="source-in",o.fillStyle="transparent",o.fillRect(0,0,r.width,r.height),o.globalCompositeOperation="source-over",s.hasBounds){for(t=0;t<a.length;t++){var p=a[t];_.overlaps(p.bounds,e.bounds)&&u.push(p)}for(t=0;t<l.length;t++){var f=l[t],m=f.bodyA,g=f.bodyB,v=f.pointA,y=f.pointB;m&&(v=S.add(m.position,f.pointA)),g&&(y=S.add(g.position,f.pointB)),v&&y&&(_.contains(e.bounds,v)||_.contains(e.bounds,y))&&d.push(f)}x.startViewTransform(e),e.mouse&&(C.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),C.setOffset(e.mouse,e.bounds.min))}else d=l,u=a;!s.wireframes||n.enableSleeping&&s.showSleeping?x.bodies(e,u,o):(s.showConvexHulls&&x.bodyConvexHulls(e,u,o),x.bodyWireframes(e,u,o)),s.showBounds&&x.bodyBounds(e,u,o),(s.showAxes||s.showAngleIndicator)&&x.bodyAxes(e,u,o),s.showPositions&&x.bodyPositions(e,u,o),s.showVelocity&&x.bodyVelocity(e,u,o),s.showIds&&x.bodyIds(e,u,o),s.showSeparations&&x.separations(e,n.pairs.list,o),s.showCollisions&&x.collisions(e,n.pairs.list,o),s.showVertexNumbers&&x.vertexNumbers(e,u,o),s.showMousePosition&&x.mousePosition(e,e.mouse,o),x.constraints(d,o),s.showBroadphase&&n.broadphase.controller===T&&x.grid(e,n.broadphase,o),s.showDebug&&x.debug(e,o),s.hasBounds&&x.endViewTransform(e),k.trigger(e,"afterRender",h)},x.debug=function(e,t){var n=t,i=e.engine,r=i.world,o=i.metrics,s=e.options;if(w.allBodies(r),500<=i.timing.timestamp-(e.debugTimestamp||0)){var a="";o.timing&&(a+="fps: "+Math.round(o.timing.fps)+"    "),e.debugString=a,e.debugTimestamp=i.timing.timestamp}if(e.debugString){n.font="12px Arial",s.wireframes?n.fillStyle="rgba(255,255,255,0.5)":n.fillStyle="rgba(0,0,0,0.5)";for(var l=e.debugString.split("\n"),c=0;c<l.length;c++)n.fillText(l[c],50,50+18*c)}},x.constraints=function(e,t){for(var n=t,i=0;i<e.length;i++){var r=e[i];if(r.render.visible&&r.pointA&&r.pointB){var o,s,a=r.bodyA,l=r.bodyB;if(o=a?S.add(a.position,r.pointA):r.pointA,"pin"===r.render.type)n.beginPath(),n.arc(o.x,o.y,3,0,2*Math.PI),n.closePath();else{if(s=l?S.add(l.position,r.pointB):r.pointB,n.beginPath(),n.moveTo(o.x,o.y),"spring"===r.render.type)for(var c,u=S.sub(s,o),d=S.perp(S.normalise(u)),h=Math.ceil(g.clamp(r.length/5,12,20)),p=1;p<h;p+=1)c=p%2==0?1:-1,n.lineTo(o.x+u.x*(p/h)+d.x*c*4,o.y+u.y*(p/h)+d.y*c*4);n.lineTo(s.x,s.y)}r.render.lineWidth&&(n.lineWidth=r.render.lineWidth,n.strokeStyle=r.render.strokeStyle,n.stroke()),r.render.anchors&&(n.fillStyle=r.render.strokeStyle,n.beginPath(),n.arc(o.x,o.y,3,0,2*Math.PI),n.arc(s.x,s.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},x.bodyShadows=function(e,t,n){for(var i=n,r=(e.engine,0);r<t.length;r++){var o=t[r];if(o.render.visible){if(o.circleRadius)i.beginPath(),i.arc(o.position.x,o.position.y,o.circleRadius,0,2*Math.PI),i.closePath();else{i.beginPath(),i.moveTo(o.vertices[0].x,o.vertices[0].y);for(var s=1;s<o.vertices.length;s++)i.lineTo(o.vertices[s].x,o.vertices[s].y);i.closePath()}var a=o.position.x-.5*e.options.width,l=o.position.y-.2*e.options.height,c=Math.abs(a)+Math.abs(l);i.shadowColor="rgba(0,0,0,0.15)",i.shadowOffsetX=.05*a,i.shadowOffsetY=.05*l,i.shadowBlur=1+12*Math.min(1,c/1e3),i.fill(),i.shadowColor=null,i.shadowOffsetX=null,i.shadowOffsetY=null,i.shadowBlur=null}}},x.bodies=function(e,t,n){var i,r,o,s,a=n,l=(e.engine,e.options),c=l.showInternalEdges||!l.wireframes;for(o=0;o<t.length;o++)if((i=t[o]).render.visible)for(s=1<i.parts.length?1:0;s<i.parts.length;s++)if((r=i.parts[s]).render.visible){if(l.showSleeping&&i.isSleeping?a.globalAlpha=.5*r.render.opacity:1!==r.render.opacity&&(a.globalAlpha=r.render.opacity),r.render.sprite&&r.render.sprite.texture&&!l.wireframes){var u=r.render.sprite,d=p(e,u.texture);a.translate(r.position.x,r.position.y),a.rotate(r.angle),a.drawImage(d,d.width*-u.xOffset*u.xScale,d.height*-u.yOffset*u.yScale,d.width*u.xScale,d.height*u.yScale),a.rotate(-r.angle),a.translate(-r.position.x,-r.position.y)}else{if(r.circleRadius)a.beginPath(),a.arc(r.position.x,r.position.y,r.circleRadius,0,2*Math.PI);else{a.beginPath(),a.moveTo(r.vertices[0].x,r.vertices[0].y);for(var h=1;h<r.vertices.length;h++)!r.vertices[h-1].isInternal||c?a.lineTo(r.vertices[h].x,r.vertices[h].y):a.moveTo(r.vertices[h].x,r.vertices[h].y),r.vertices[h].isInternal&&!c&&a.moveTo(r.vertices[(h+1)%r.vertices.length].x,r.vertices[(h+1)%r.vertices.length].y);a.lineTo(r.vertices[0].x,r.vertices[0].y),a.closePath()}l.wireframes?(a.lineWidth=1,a.strokeStyle="#bbb",a.stroke()):(a.fillStyle=r.render.fillStyle,r.render.lineWidth&&(a.lineWidth=r.render.lineWidth,a.strokeStyle=r.render.strokeStyle,a.stroke()),a.fill())}a.globalAlpha=1}},x.bodyWireframes=function(e,t,n){var i,r,o,s,a,l=n,c=e.options.showInternalEdges;for(l.beginPath(),o=0;o<t.length;o++)if((i=t[o]).render.visible)for(a=1<i.parts.length?1:0;a<i.parts.length;a++){for(r=i.parts[a],l.moveTo(r.vertices[0].x,r.vertices[0].y),s=1;s<r.vertices.length;s++)!r.vertices[s-1].isInternal||c?l.lineTo(r.vertices[s].x,r.vertices[s].y):l.moveTo(r.vertices[s].x,r.vertices[s].y),r.vertices[s].isInternal&&!c&&l.moveTo(r.vertices[(s+1)%r.vertices.length].x,r.vertices[(s+1)%r.vertices.length].y);l.lineTo(r.vertices[0].x,r.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},x.bodyConvexHulls=function(e,t,n){var i,r,o,s=n;for(s.beginPath(),r=0;r<t.length;r++)if((i=t[r]).render.visible&&1!==i.parts.length){for(s.moveTo(i.vertices[0].x,i.vertices[0].y),o=1;o<i.vertices.length;o++)s.lineTo(i.vertices[o].x,i.vertices[o].y);s.lineTo(i.vertices[0].x,i.vertices[0].y)}s.lineWidth=1,s.strokeStyle="rgba(255,255,255,0.2)",s.stroke()},x.vertexNumbers=function(e,t,n){var i,r,o,s=n;for(i=0;i<t.length;i++){var a=t[i].parts;for(o=1<a.length?1:0;o<a.length;o++){var l=a[o];for(r=0;r<l.vertices.length;r++)s.fillStyle="rgba(255,255,255,0.2)",s.fillText(i+"_"+r,l.position.x+.8*(l.vertices[r].x-l.position.x),l.position.y+.8*(l.vertices[r].y-l.position.y))}}},x.mousePosition=function(e,t,n){var i=n;i.fillStyle="rgba(255,255,255,0.8)",i.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},x.bodyBounds=function(e,t,n){var i=n,r=(e.engine,e.options);i.beginPath();for(var o=0;o<t.length;o++)if(t[o].render.visible)for(var s=t[o].parts,a=1<s.length?1:0;a<s.length;a++){var l=s[a];i.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}r.wireframes?i.strokeStyle="rgba(255,255,255,0.08)":i.strokeStyle="rgba(0,0,0,0.1)",i.lineWidth=1,i.stroke()},x.bodyAxes=function(e,t,n){var i,r,o,s,a=n,l=(e.engine,e.options);for(a.beginPath(),r=0;r<t.length;r++){var c=t[r],u=c.parts;if(c.render.visible)if(l.showAxes)for(o=1<u.length?1:0;o<u.length;o++)for(i=u[o],s=0;s<i.axes.length;s++){var d=i.axes[s];a.moveTo(i.position.x,i.position.y),a.lineTo(i.position.x+20*d.x,i.position.y+20*d.y)}else for(o=1<u.length?1:0;o<u.length;o++)for(i=u[o],s=0;s<i.axes.length;s++)a.moveTo(i.position.x,i.position.y),a.lineTo((i.vertices[0].x+i.vertices[i.vertices.length-1].x)/2,(i.vertices[0].y+i.vertices[i.vertices.length-1].y)/2)}l.wireframes?(a.strokeStyle="indianred",a.lineWidth=1):(a.strokeStyle="rgba(255, 255, 255, 0.4)",a.globalCompositeOperation="overlay",a.lineWidth=2),a.stroke(),a.globalCompositeOperation="source-over"},x.bodyPositions=function(e,t,n){var i,r,o,s,a=n,l=(e.engine,e.options);for(a.beginPath(),o=0;o<t.length;o++)if((i=t[o]).render.visible)for(s=0;s<i.parts.length;s++)r=i.parts[s],a.arc(r.position.x,r.position.y,3,0,2*Math.PI,!1),a.closePath();for(l.wireframes?a.fillStyle="indianred":a.fillStyle="rgba(0,0,0,0.5)",a.fill(),a.beginPath(),o=0;o<t.length;o++)(i=t[o]).render.visible&&(a.arc(i.positionPrev.x,i.positionPrev.y,2,0,2*Math.PI,!1),a.closePath());a.fillStyle="rgba(255,165,0,0.8)",a.fill()},x.bodyVelocity=function(e,t,n){var i=n;i.beginPath();for(var r=0;r<t.length;r++){var o=t[r];o.render.visible&&(i.moveTo(o.position.x,o.position.y),i.lineTo(o.position.x+2*(o.position.x-o.positionPrev.x),o.position.y+2*(o.position.y-o.positionPrev.y)))}i.lineWidth=3,i.strokeStyle="cornflowerblue",i.stroke()},x.bodyIds=function(e,t,n){var i,r,o=n;for(i=0;i<t.length;i++)if(t[i].render.visible){var s=t[i].parts;for(r=1<s.length?1:0;r<s.length;r++){var a=s[r];o.font="12px Arial",o.fillStyle="rgba(255,255,255,0.5)",o.fillText(a.id,a.position.x+10,a.position.y-10)}}},x.collisions=function(e,t,n){var i,r,o,s,a=n,l=e.options;for(a.beginPath(),o=0;o<t.length;o++)if((i=t[o]).isActive)for(r=i.collision,s=0;s<i.activeContacts.length;s++){var c=i.activeContacts[s].vertex;a.rect(c.x-1.5,c.y-1.5,3.5,3.5)}for(l.wireframes?a.fillStyle="rgba(255,255,255,0.7)":a.fillStyle="orange",a.fill(),a.beginPath(),o=0;o<t.length;o++)if((i=t[o]).isActive&&(r=i.collision,0<i.activeContacts.length)){var u=i.activeContacts[0].vertex.x,d=i.activeContacts[0].vertex.y;2===i.activeContacts.length&&(u=(i.activeContacts[0].vertex.x+i.activeContacts[1].vertex.x)/2,d=(i.activeContacts[0].vertex.y+i.activeContacts[1].vertex.y)/2),r.bodyB===r.supports[0].body||!0===r.bodyA.isStatic?a.moveTo(u-8*r.normal.x,d-8*r.normal.y):a.moveTo(u+8*r.normal.x,d+8*r.normal.y),a.lineTo(u,d)}l.wireframes?a.strokeStyle="rgba(255,165,0,0.7)":a.strokeStyle="orange",a.lineWidth=1,a.stroke()},x.separations=function(e,t,n){var i,r,o,s,a,l=n,c=e.options;for(l.beginPath(),a=0;a<t.length;a++)if((i=t[a]).isActive){o=(r=i.collision).bodyA;var u=1;(s=r.bodyB).isStatic||o.isStatic||(u=.5),s.isStatic&&(u=0),l.moveTo(s.position.x,s.position.y),l.lineTo(s.position.x-r.penetration.x*u,s.position.y-r.penetration.y*u),u=1,s.isStatic||o.isStatic||(u=.5),o.isStatic&&(u=0),l.moveTo(o.position.x,o.position.y),l.lineTo(o.position.x+r.penetration.x*u,o.position.y+r.penetration.y*u)}c.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},x.grid=function(e,t,n){var i=n;e.options.wireframes?i.strokeStyle="rgba(255,180,0,0.1)":i.strokeStyle="rgba(255,180,0,0.5)",i.beginPath();for(var r=g.keys(t.buckets),o=0;o<r.length;o++){var s=r[o];if(!(t.buckets[s].length<2)){var a=s.split(/C|R/);i.rect(.5+parseInt(a[1],10)*t.bucketWidth,.5+parseInt(a[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}i.lineWidth=1,i.stroke()},x.inspector=function(e,t){var n,i=(e.engine,e.selected),r=e.render,o=r.options;if(o.hasBounds){var s=r.bounds.max.x-r.bounds.min.x,a=r.bounds.max.y-r.bounds.min.y,l=s/r.options.width,c=a/r.options.height;t.scale(1/l,1/c),t.translate(-r.bounds.min.x,-r.bounds.min.y)}for(var u=0;u<i.length;u++){var d=i[u].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),d.type){case"body":n=d.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var h=d.pointA;d.bodyA&&(h=d.pointB),t.beginPath(),t.arc(h.x,h.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),o.hasBounds&&t.setTransform(1,0,0,1,0,0)};var r=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},o=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},p=function(e,t){var n=e.textures[t];return n||((n=e.textures[t]=new Image).src=t,n)},b=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},{"../body/Composite":2,"../collision/Grid":6,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../geometry/Bounds":26,"../geometry/Vector":28}],32:[function(e,t,n){var b={};t.exports=b;var x=e("../geometry/Bounds"),w=e("../body/Composite"),p=e("../core/Common"),r=e("../core/Events"),_=e("../geometry/Vector");!function(){var i,t;"undefined"!=typeof window&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(function(){e(p.now())},1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),b.create=function(e){p.warn("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)");var t={controller:b,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},n=p.extend(t,e),i=!n.options.wireframes&&"transparent"===n.options.background;return n.pixiOptions=n.pixiOptions||{view:n.canvas,transparent:i,antialias:!0,backgroundColor:e.background},n.mouse=e.mouse,n.engine=e.engine,n.renderer=n.renderer||new PIXI.WebGLRenderer(n.options.width,n.options.height,n.pixiOptions),n.container=n.container||new PIXI.Container,n.spriteContainer=n.spriteContainer||new PIXI.Container,n.canvas=n.canvas||n.renderer.view,n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.options.width,y:n.options.height}},r.on(n.engine,"beforeUpdate",function(){b.clear(n)}),n.textures={},n.sprites={},n.primitives={},n.container.addChild(n.spriteContainer),p.isElement(n.element)?n.element.appendChild(n.canvas):p.warn('No "render.element" passed, "render.canvas" was not inserted into document.'),n.canvas.oncontextmenu=function(){return!1},n.canvas.onselectstart=function(){return!1},n},b.run=function(n){!function e(t){n.frameRequestId=i(e),b.world(n)}()},b.stop=function(e){t(e.frameRequestId)},b.clear=function(e){for(var t=e.container,n=e.spriteContainer;t.children[0];)t.removeChild(t.children[0]);for(;n.children[0];)n.removeChild(n.children[0]);var i=e.sprites["bg-0"];e.textures={},e.sprites={},e.primitives={},(e.sprites["bg-0"]=i)&&t.addChildAt(i,0),e.container.addChild(e.spriteContainer),e.currentBackground=null,t.scale.set(1,1),t.position.set(0,0)},b.setBackground=function(e,t){if(e.currentBackground!==t){var n=t.indexOf&&-1!==t.indexOf("#"),i=e.sprites["bg-0"];if(n){var r=p.colorToNumber(t);e.renderer.backgroundColor=r,i&&e.container.removeChild(i)}else if(!i){var o=s(e,t);(i=e.sprites["bg-0"]=new PIXI.Sprite(o)).position.x=0,i.position.y=0,e.container.addChildAt(i,0)}e.currentBackground=t}},b.world=function(e){var t,n=e.engine.world,i=e.renderer,r=e.container,o=e.options,s=w.allBodies(n),a=w.allConstraints(n),l=[];o.wireframes?b.setBackground(e,o.wireframeBackground):b.setBackground(e,o.background);var c=e.bounds.max.x-e.bounds.min.x,u=e.bounds.max.y-e.bounds.min.y,d=c/e.options.width,h=u/e.options.height;if(o.hasBounds){for(t=0;t<s.length;t++){var p=s[t];p.render.sprite.visible=x.overlaps(p.bounds,e.bounds)}for(t=0;t<a.length;t++){var f=a[t],m=f.bodyA,g=f.bodyB,v=f.pointA,y=f.pointB;m&&(v=_.add(m.position,f.pointA)),g&&(y=_.add(g.position,f.pointB)),v&&y&&(x.contains(e.bounds,v)||x.contains(e.bounds,y))&&l.push(f)}r.scale.set(1/d,1/h),r.position.set(-e.bounds.min.x*(1/d),-e.bounds.min.y*(1/h))}else l=a;for(t=0;t<s.length;t++)b.body(e,s[t]);for(t=0;t<l.length;t++)b.constraint(e,l[t]);i.render(r)},b.constraint=function(e,t){var n=(e.engine,t.bodyA),i=t.bodyB,r=t.pointA,o=t.pointB,s=e.container,a=t.render,l="c-"+t.id,c=e.primitives[l];c=c||(e.primitives[l]=new PIXI.Graphics),a.visible&&t.pointA&&t.pointB?(-1===p.indexOf(s.children,c)&&s.addChild(c),c.clear(),c.beginFill(0,0),c.lineStyle(a.lineWidth,p.colorToNumber(a.strokeStyle),1),n?c.moveTo(n.position.x+r.x,n.position.y+r.y):c.moveTo(r.x,r.y),i?c.lineTo(i.position.x+o.x,i.position.y+o.y):c.lineTo(o.x,o.y),c.endFill()):c.clear()},b.body=function(e,t){var n=(e.engine,t.render);if(n.visible)if(n.sprite&&n.sprite.texture){var i="b-"+t.id,r=e.sprites[i],o=e.spriteContainer;r=r||(e.sprites[i]=c(e,t)),-1===p.indexOf(o.children,r)&&o.addChild(r),r.position.x=t.position.x,r.position.y=t.position.y,r.rotation=t.angle,r.scale.x=n.sprite.xScale||1,r.scale.y=n.sprite.yScale||1}else{var s="b-"+t.id,a=e.primitives[s],l=e.container;a||((a=e.primitives[s]=u(e,t)).initialAngle=t.angle),-1===p.indexOf(l.children,a)&&l.addChild(a),a.position.x=t.position.x,a.position.y=t.position.y,a.rotation=t.angle-a.initialAngle}};var c=function(e,t){var n=t.render.sprite.texture,i=s(e,n),r=new PIXI.Sprite(i);return r.anchor.x=t.render.sprite.xOffset,r.anchor.y=t.render.sprite.yOffset,r},u=function(e,t){var n,i=t.render,r=e.options,o=new PIXI.Graphics,s=p.colorToNumber(i.fillStyle),a=p.colorToNumber(i.strokeStyle),l=p.colorToNumber(i.strokeStyle),c=p.colorToNumber("#bbb"),u=p.colorToNumber("#CD5C5C");o.clear();for(var d=1<t.parts.length?1:0;d<t.parts.length;d++){n=t.parts[d],r.wireframes?(o.beginFill(0,0),o.lineStyle(1,c,1)):(o.beginFill(s,1),o.lineStyle(i.lineWidth,a,1)),o.moveTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y);for(var h=1;h<n.vertices.length;h++)o.lineTo(n.vertices[h].x-t.position.x,n.vertices[h].y-t.position.y);o.lineTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y),o.endFill(),(r.showAngleIndicator||r.showAxes)&&(o.beginFill(0,0),r.wireframes?o.lineStyle(1,u,1):o.lineStyle(1,l),o.moveTo(n.position.x-t.position.x,n.position.y-t.position.y),o.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2-t.position.x,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2-t.position.y),o.endFill())}return o},s=function(e,t){var n=e.textures[t];return n=n||(e.textures[t]=PIXI.Texture.fromImage(t))}}()},{"../body/Composite":2,"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"../geometry/Vector":28}]},{},[30])(30)}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return"string"==typeof e}function p(e){return"function"==typeof e}function k(e){return"number"==typeof e}function i(e){return void 0===e}function T(e){return"object"==typeof e}function L(e){return!1!==e}function t(){return"undefined"!=typeof window}function S(e){return p(e)||V(e)}function r(e){return(he=re(e,ze))&&Gt}function C(e,t){return!t&&void 0}function s(e,t){return e&&(ze[e]=t)&&he&&(he[e]=t)||ze}function P(){return 0}function N(e){var t,n,i=e[0];if(T(i)||p(i)||(e=[e]),!(t=(i._gsap||{}).harness)){for(n=Ze.length;n--&&!Ze[n].targetTest(i););t=Ze[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new bt(e[n],t)))||e.splice(n,1);return e}function D(e){return e._gsap||N(rt(e))[0]._gsap}function o(e,t){var n=e[t];return p(n)?e[t]():i(n)&&e.getAttribute(t)||n}function f(e,t){return(e=e.split(",")).forEach(t)||e}function j(e){return Math.round(1e4*e)/1e4}function a(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n}function l(e,t,n){var i,r=k(e[1]),o=(r?2:1)+(t<2?0:1),s=e[o];return r&&(s.duration=e[1]),1===t?(s.runBackwards=1,s.immediateRender=L(s.immediateRender)):2===t&&(i=e[o-1],s.startAt=i,s.immediateRender=L(s.immediateRender)),s.parent=n,s}function R(){var e,t,n=Ge.length,i=Ge.slice(0);for(Ke={},e=Ge.length=0;e<n;e++)(t=i[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)}function c(e,t,n,i){Ge.length&&R(),e.render(t,n,i),Ge.length&&R()}function u(e){var t=parseFloat(e);return t||0===t?t:e}function d(e){return e}function F(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}function A(e,t){for(var n in t)n in e||"duration"===n||"ease"===n||(e[n]=t[n])}function h(e,t){for(var n in t)e[n]=T(t[n])?h(e[n]||(e[n]={}),t[n]):t[n];return e}function q(e,t){var n,i={};for(n in e)n in t||(i[n]=e[n]);return i}function m(e,t,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r=t._prev,o=t._next;r?r._next=o:e[n]===t&&(e[n]=o),o?o._prev=r:e[i]===t&&(e[i]=r),t._dp=e,t._next=t._prev=t.parent=null}function X(e,t){!e.parent||t&&!e.parent.autoRemoveChildren||e.parent.remove(e),e._act=0}function g(e){for(var t=e;t;)t._dirty=1,t=t.parent;return e}function v(e){return e._repeat?oe(e._tTime,e=e.duration()+e._rDelay)*e:0}function y(e,t){return 0<t._ts?(e-t._start)*t._ts:(t._dirty?t.totalDuration():t._tDur)+(e-t._start)*t._ts}function b(e,t,n){if(t.parent&&X(t),t._start=n+t._delay,t._end=t._start+(t.totalDuration()/t._ts||0),function(e,t,n,i,r){void 0===n&&(n="_first"),void 0===i&&(i="_last");var o,s=e[i];if(r)for(o=t[r];s&&s[r]>o;)s=s._prev;s?(t._next=s._next,s._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=s,t.parent=e}(e,t,"_first","_last",e._sort?"_start":0),(e._recent=t)._time||!t._dur&&t._initted){var i=(e.rawTime()-t._start)*t._ts;(!t._dur||nt(0,t.totalDuration(),i)-t._tTime>Oe)&&t.render(i,!0)}if(g(e),e._dp&&e._time>=e._dur&&e._ts&&e._dur<e.duration())for(var r=e;r._dp;)r.totalTime(r._tTime,!0),r=r._dp;return e}function x(e,t,n,i){return function e(t,n){var i,r,o,s,a,l,c,u,d,h,p,f,m=t.vars,g=m.ease,v=m.startAt,y=m.immediateRender,b=m.lazy,x=m.onUpdate,w=m.onUpdateParams,_=m.callbackScope,k=m.runBackwards,T=m.yoyoEase,S=m.keyframes,C=m.autoRevert,P=t._dur,A=t._startAt,M=t._targets,E=t.parent,I=E&&"nested"===E.data?E.parent._targets:M,O="auto"===t._overwrite,B=t.timeline;if(!B||S&&g||(g="none"),t._ease=mt(g,Ee.ease),t._yEase=T?ft(mt(!0===T?g:T,Ee.ease)):0,T&&t._yoyo&&!t._repeat&&(T=t._yEase,t._yEase=t._ease,t._ease=T),!B){if(A&&A.render(-1,!0).kill(),v){if(X(t._startAt=Mt.set(M,F({data:"isStart",overwrite:!1,parent:E,immediateRender:!0,lazy:L(b),startAt:null,delay:0,onUpdate:x,onUpdateParams:w,callbackScope:_,stagger:0},v))),y)if(0<n)C||(t._startAt=0);else if(P)return}else if(k&&P)if(A)C||(t._startAt=0);else if(n&&(y=!1),X(t._startAt=Mt.set(M,re(q(m,Ue),{overwrite:!1,data:"isFromStart",lazy:y&&L(b),immediateRender:y,stagger:0,parent:E}))),y){if(!n)return}else e(t._startAt,Oe);for(i=q(m,Ue),f=(u=M[t._pt=0]?D(M[0]).harness:0)&&m[u.prop],b=P&&L(b)||b&&!P,r=0;r<M.length;r++){if(c=(a=M[r])._gsap||N(M)[r]._gsap,t._ptLookup[r]=h={},Ke[c.id]&&R(),p=I===M?r:I.indexOf(a),u&&!1!==(d=new u).init(a,f||i,t,p,I)&&(t._pt=s=new Yt(t._pt,a,d.name,0,1,d.render,d,0,d.priority),d._props.forEach(function(e){h[e]=s}),d.priority&&(l=1)),!u||f)for(o in i)Qe[o]&&(d=kt(o,i,t,p,a,I))?d.priority&&(l=1):h[o]=s=Tt.call(t,a,o,"get",i[o],p,I,0,m.stringFilter);t._op&&t._op[r]&&t.kill(a,t._op[r]),O&&t._pt&&(St=t,le.killTweensOf(a,h,"started"),St=0),t._pt&&b&&(Ke[c.id]=1)}l&&Xt(t),t._onInit&&t._onInit(t)}t._from=!B&&!!m.runBackwards,t._onUpdate=x,t._initted=1}(e,t),!e._initted||!n&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&(Ge.push(e),e._lazy=[t,i])}function w(e){if(e instanceof _t)return g(e);var t=e._repeat;return e._tDur=t?t<0?1e20:j(e._dur*(t+1)+e._rDelay*t):e._dur,g(e.parent),e}function M(e,t){var n,i,r=e.labels,o=e._recent||tt,s=e.duration()>=Ie?o.endTime(!1):e._dur;return V(t)&&(isNaN(t)||t in r)?"<"===(n=t.charAt(0))||">"===n?("<"===n?o._start:o.endTime(0<=o._repeat))+(parseFloat(t.substr(1))||0):(n=t.indexOf("="))<0?(t in r||(r[t]=s),r[t]):(i=+(t.charAt(n-1)+t.substr(n+1)),1<n?M(e,t.substr(0,n-1))+i:s+i):null==t?s:+t}function E(e,t){return e||0===e?t(e):t}function I(e){return(e+"").substr((parseFloat(e)+"").length)}function O(e){return e&&T(e)&&"length"in e&&e.length-1 in e&&T(e[0])&&!e.nodeType&&e!==ce}function B(e){if(p(e))return e;var f=T(e)?e:{each:e},m=mt(f.ease),g=f.from||0,v=parseFloat(f.base)||0,y={},t=0<g&&g<1,b=isNaN(g)||t,x=f.axis,w=g,_=g;return V(g)?w=_={center:.5,edges:.5,end:1}[g]||0:!t&&b&&(w=g[0],_=g[1]),function(e,t,n){var i,r,o,s,a,l,c,u,d,h=(n||f).length,p=y[h];if(!p){if(!(d="auto"===f.grid?0:(f.grid||[1,Ie])[1])){for(c=-Ie;c<(c=n[d++].getBoundingClientRect().left)&&d<h;);d--}for(p=y[h]=[],i=b?Math.min(d,h)*w-.5:g%d,r=b?h*_/d-.5:g/d|0,u=Ie,l=c=0;l<h;l++)o=l%d-i,s=r-(l/d|0),p[l]=a=x?Math.abs("y"===x?s:o):De(o*o+s*s),c<a&&(c=a),a<u&&(u=a);p.max=c-u,p.min=u,p.v=h=(parseFloat(f.amount)||parseFloat(f.each)*(h<d?h-1:x?"y"===x?h/d:d:Math.max(d,h/d))||0)*("edges"===g?-1:1),p.b=h<0?v-h:v,p.u=I(f.amount||f.each)||0,m=m&&h<0?ft(m):m}return h=(p[e]-p.min)/p.max||0,j(p.b+(m?m(h):h)*p.v)+p.u}}function Y(t){var n=t<1?Math.pow(10,(t+"").length-2):1;return function(e){return~~(Math.round(parseFloat(e)/t)*t*n)/n+(k(e)?0:I(e))}}function H(l,e){var c,u,t=Ve(l);return!t&&T(l)&&(c=t=l.radius||Ie,l=rt(l.values),(u=!k(l[0]))&&(c*=c)),E(e,t?function(e){for(var t,n,i=parseFloat(u?e.x:e),r=parseFloat(u?e.y:0),o=Ie,s=0,a=l.length;a--;)(t=u?(t=l[a].x-i)*t+(n=l[a].y-r)*n:Math.abs(l[a]-i))<o&&(o=t,s=a);return s=!c||o<=c?l[s]:e,u||s===e||k(e)?s:s+I(e)}:Y(l))}function W(e,t,n,i){return E(Ve(e)?!t:!0===n?!!(n=0):!i,function(){return Ve(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&~~(Math.round((e+Math.random()*(t-e))/n)*n*i)/i})}function z(t,n,e){return E(e,function(e){return t[~~n(e)]})}function U(e){for(var t,n,i,r,o=0,s="";~(t=e.indexOf("random(",o));)i=e.indexOf(")",t),r="["===e.charAt(t+7),n=e.substr(t+7,i-t-7).match(r?We:je),s+=e.substr(o,t-o)+W(r?n:+n[0],+n[1],+n[2]||1e-5),o=i+1;return s+e.substr(o,e.length-o)}function G(e,t,n){var i,r,o,s=e.labels,a=Ie;for(i in s)(r=s[i]-t)<0==!!n&&r&&a>(r=Math.abs(r))&&(o=i,a=r);return o}function K(e){return X(e),e.progress()<1&&ae(e,"onInterrupt"),e}function Q(e,t,n){return(6*(e=e<0?e+1:1<e?e-1:e)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*ot+.5|0}function $(e,t){var n,i,r,o,s,a,l,c,u,d,h=e?k(e)?[e>>16,e>>8&ot,e&ot]:0:st.black;if(!h){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),st[e])h=st[e];else if("#"===e.charAt(0))4===e.length&&(e="#"+(n=e.charAt(1))+n+(i=e.charAt(2))+i+(r=e.charAt(3))+r),h=[(e=parseInt(e.substr(1),16))>>16,e>>8&ot,e&ot];else if("hsl"===e.substr(0,3))if(h=d=e.match(je),t){if(~e.indexOf("="))return e.match(qe)}else o=+h[0]%360/360,s=h[1]/100,n=2*(a=h[2]/100)-(i=a<=.5?a*(s+1):a+s-a*s),3<h.length&&(h[3]*=1),h[0]=Q(o+1/3,n,i),h[1]=Q(o,n,i),h[2]=Q(o-1/3,n,i);else h=e.match(je)||st.transparent;h=h.map(Number)}return t&&!d&&(n=h[0]/ot,i=h[1]/ot,r=h[2]/ot,a=((l=Math.max(n,i,r))+(c=Math.min(n,i,r)))/2,l===c?o=s=0:(u=l-c,s=.5<a?u/(2-l-c):u/(l+c),o=l===n?(i-r)/u+(i<r?6:0):l===i?(r-n)/u+2:(n-i)/u+4,o*=60),h[0]=o+.5|0,h[1]=100*s+.5|0,h[2]=100*a+.5|0),h}function J(e,t){var n,i,r,o=(e+"").match(at),s=0,a="";if(!o)return e;for(n=0;n<o.length;n++)i=o[n],s+=(r=e.substr(s,e.indexOf(i,s)-s)).length+i.length,3===(i=$(i,t)).length&&i.push(1),a+=r+(t?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return a+e.substr(s)}function Z(e){var t,n=e.join(" ");at.lastIndex=0,at.test(n)&&(t=lt.test(n),e[0]=J(e[0],t),e[1]=J(e[1],t))}function ee(e,t,n,i){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===i&&(i=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var r,o={easeIn:t,easeOut:n,easeInOut:i};return f(e,function(e){for(var t in dt[e]=ze[e]=o,dt[r=e.toLowerCase()]=n,o)dt[r+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=dt[e+"."+t]=o[t]}),1}function te(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}}function ne(n,e,t){function i(e){return 1===e?1:r*Math.pow(2,-10*e)*Fe((e-s)*o)+1}var r=1<=e?e:1,o=(t||(n?.3:.45))/(e<1?e:1),s=o/Be*(Math.asin(1/r)||0),a="out"===n?i:"in"===n?function(e){return 1-i(1-e)}:te(i);return o=Be/o,a.config=function(e,t){return ne(n,e,t)},a}function ie(t,n){function i(e){return--e*e*((n+1)*e+n)+1}void 0===n&&(n=1.70158);var e="out"===t?i:"in"===t?function(e){return 1-i(1-e)}:te(i);return e.config=function(e){return ie(t,e)},e}function re(e,t){for(var n in t)e[n]=t[n];return e}function oe(e,t){return(e/=t)&&~~e===e?~~e-1:~~e}function se(t,e,n,i,r){var o=e-t,s=i-n;return E(r,function(e){return n+(e-t)/o*s})}function ae(e,t,n){var i,r,o=e.vars,s=o[t];return s&&(i=o[t+"Params"],r=o.callbackScope||e,n&&Ge.length&&R(),i?s.apply(r,i):s.call(r))}var le,ce,ue,de,he,pe,fe,me,ge,ve,ye,be,xe,we,_e,ke,Te,Se,Ce,Pe,Ae,Me={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ee={duration:.5,overwrite:!1,delay:0},Ie=1e8,Oe=1/Ie,Be=2*Math.PI,Le=Be/4,Ne=0,De=Math.sqrt,Re=Math.cos,Fe=Math.sin,Ve=Array.isArray,je=/(?:-?\.?\d|\.)+/gi,qe=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,Xe=/[-+=\.]*\d+(?:\.|e-|e)*\d*/gi,Ye=/\(([^()]+)\)/i,He=/[\+-]=-?[\.\d]+/,We=/[#\-+\.]*\b[a-z\d-=+%.]+/gi,ze={},Ue={},Ge=[],Ke={},Qe={},$e={},Je=30,Ze=[],et="onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",tt={_start:0,endTime:P},nt=function(e,t,n){return n<e?e:t<n?t:n},it=[].slice,rt=function(e,t){return!V(e)||t||!ue&&ut()?Ve(e)?(n=t,void 0===i&&(i=[]),e.forEach(function(e){return V(e)&&!n||O(e)?i.push.apply(i,rt(e)):i.push(e)})||i):O(e)?it.call(e,0):e?[e]:[]:it.call(de.querySelectorAll(e),0);var n,i},ot=255,st={aqua:[0,ot,ot],lime:[0,ot,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,ot],navy:[0,0,128],white:[ot,ot,ot],olive:[128,128,0],yellow:[ot,ot,0],orange:[ot,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[ot,0,0],pink:[ot,192,203],cyan:[0,ot,ot],transparent:[ot,ot,ot,0]},at=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(e in st)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),lt=/hsl[a]?\(/,ct=(xe=Date.now,we=500,_e=33,ke=xe(),Te=ke,Ce=Se=1/60,be={time:0,frame:0,tick:function(){gt(!0)},wake:function(){pe&&(!ue&&t()&&(ce=ue=window,de=ce.document||{},ze.gsap=Gt,(ce.gsapVersions||(ce.gsapVersions=[])).push(Gt.version),r(he||ce.GreenSockGlobals||!ce.gsap&&ce||{}),ye=ce.requestAnimationFrame),ge&&be.sleep(),ve=ye||function(e){return setTimeout(e,1e3*(Ce-be.time)+1|0)},me=1,gt(2))},sleep:function(){(ye?ce.cancelAnimationFrame:clearTimeout)(ge),me=0,ve=P},lagSmoothing:function(e,t){we=e||1e8,_e=Math.min(t,we,0)},fps:function(e){Se=1/(e||60),Ce=be.time+Se},add:function(e){Pe.indexOf(e)<0&&Pe.push(e),ut()},remove:function(e){var t;~(t=Pe.indexOf(e))&&Pe.splice(t,1)},_listeners:Pe=[]}),ut=function(){return!me&&ct.wake()},dt={},ht=/^[\d.\-M][\d.\-,\s]/,pt=/["']/g,ft=function(t){return function(e){return 1-t(1-e)}},mt=function(e,t){return e&&(p(e)?e:dt[e]||(i=((n=e)+"").split("("),(r=dt[i[0]])&&1<i.length&&r.config?r.config.apply(null,~n.indexOf("{")?[function(e){for(var t,n,i,r={},o=e.substr(1,e.length-3).split(":"),s=o[0],a=1,l=o.length;a<l;a++)n=o[a],t=a!==l-1?n.lastIndexOf(","):n.length,i=n.substr(0,t),r[s]=isNaN(i)?i.replace(pt,"").trim():+i,s=n.substr(t+1).trim();return r}(i[1])]:Ye.exec(n)[1].split(",").map(u)):dt._CE&&ht.test(n)?dt._CE("",n):r))||t;var n,i,r};function gt(t){var e,n,i=xe()-Te,r=!0===t;we<i&&(ke+=i-_e),Te+=i,be.time=(Te-ke)/1e3,(0<(e=be.time-Ce)||r)&&(be.frame++,Ce+=e+(Se<=e?.004:Se-e),n=1),r||(ge=ve(gt)),n&&Pe.forEach(function(e){return e(be.time,i,be.frame,t)})}function vt(e){return e<1/2.75?Ae*e*e:e<.7272727272727273?Ae*Math.pow(e-1.5/2.75,2)+.75:e<.9090909090909092?Ae*(e-=2.25/2.75)*e+.9375:Ae*Math.pow(e-2.625/2.75,2)+.984375}f("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;ee(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},function(e){return 1-Math.pow(1-e,n)},function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2})}),dt.Linear.easeNone=dt.none=dt.Linear.easeIn,ee("Elastic",ne("in"),ne("out"),ne()),Ae=7.5625,ee("Bounce",function(e){return 1-vt(1-e)},vt),ee("Expo",function(e){return e?Math.pow(2,10*(e-1)):0}),ee("Circ",function(e){return-(De(1-e*e)-1)}),ee("Sine",function(e){return 1-Re(e*Le)}),ee("Back",ie("in"),ie("out"),ie()),dt.SteppedEase=dt.steps=ze.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,i=e+(t?0:1),r=t?1:0;return function(e){return((i*nt(0,.99999999,e)|0)+r)*n}}},Ee.ease=dt["quad.out"];var yt,bt=function(e,t){this.id=Ne++,(e._gsap=this).target=e,this.harness=t,this.get=t?t.get:o,this.set=t?t.getSetter:Ft},xt=((yt=wt.prototype).delay=function(e){return e||0===e?(this._delay=e,this):this._delay},yt.duration=function(e){var t=arguments.length,n=this._repeat,i=0<n?n*((t?e:this._dur)+this._rDelay):0;return t?this.totalDuration(n<0?e:e+i):this.totalDuration()&&this._dur},yt.totalDuration=function(e){if(!arguments.length)return this._tDur;var t=this._repeat,n=(e||this._rDelay)&&t<0;return this._tDur=n?1e20:e,this._dur=n?e:(e-t*this._rDelay)/(t+1),this._dirty=0,g(this.parent),this},yt.totalTime=function(e,t){if(ut(),!arguments.length)return this._tTime;var n,i=this.parent||this._dp;if(i&&i.smoothChildTiming&&this._ts){for(n=this._start,this._start=i._time-(0<this._ts?e/this._ts:((this._dirty?this.totalDuration():this._tDur)-e)/-this._ts),this._end+=this._start-n,i._dirty||g(i);i.parent;)i.parent._time!==i._start+(0<i._ts?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;this.parent||b(this._dp,this,this._start-this._delay)}return this._tTime===e&&this._dur||(this._ts||(this._pTime=e),c(this,e,t)),this},yt.time=function(e,t){return arguments.length?this.totalTime((e+v(this))%this.duration()||(e?this._dur:0),t):this._time},yt.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._tTime/this.totalDuration()},yt.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+v(this),t):this.duration()?this._time/this._dur:this.ratio},yt.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?oe(this._tTime,n)+1:1},yt.timeScale=function(e){return arguments.length?null!==this._pauseTS?(this._pauseTS=e,this):(this._ts=e,function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this).totalTime(this._tTime,!0)):this._ts||this._pauseTS||0},yt.paused=function(e){var t=!this._ts;return arguments.length?(t!==e&&(e?(this._pauseTS=this._ts,this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(this._ts=this._pauseTS||1,this._pauseTS=null,e=this._tTime||this._pTime,1===this.progress()&&(this._tTime-=Oe),this.totalTime(e,!0))),this):t},yt.startTime=function(e){return arguments.length?(this.parent&&this.parent._sort&&b(this.parent,this,e-this._delay),this):this._start},yt.endTime=function(e){return this._start+(L(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},yt.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?y(t.rawTime(e),this):this._tTime:this._tTime},yt.repeat=function(e){return arguments.length?(this._repeat=e,w(this)):this._repeat},yt.repeatDelay=function(e){return arguments.length?(this._rDelay=e,w(this)):this._rDelay},yt.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},yt.seek=function(e,t){return this.totalTime(M(this,e),L(t))},yt.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,L(t))},yt.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},yt.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},yt.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},yt.resume=function(){return this.paused(!1)},yt.reversed=function(e){var t=this._ts||this._pauseTS||0;return arguments.length?(e!==this.reversed()&&(this[null===this._pauseTS?"_ts":"_pauseTS"]=Math.abs(t)*(e?-1:1),this.totalTime(this._tTime,!0)),this):t<0},yt.invalidate=function(){return this._initted=0,this},yt.isActive=function(e){var t,n=this.parent||this._dp,i=this._start;return!n||this._ts&&(this._initted||!e)&&n.isActive(e)&&(t=n.rawTime(!0))>=i&&t<this.endTime(!0)-Oe},yt.eventCallback=function(e,t,n){var i=this.vars;return 1<arguments.length?(t?(i[e]=t,n&&(i[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete i[e],this):i[e]},yt.then=function(i){var r=this;return new Promise(function(t){function e(){var e=r.then;r.then=null,(n=n(r))&&(n.then||n===r)&&(r._prom=n,r.then=e),t(n),r.then=e}var n=i||d;r._initted&&1===r.totalProgress()&&0<=r._ts||!r._tTime&&r._ts<0?e():r._prom=e})},yt.kill=function(){K(this)},wt);function wt(e,t){var n=e.parent||le;this.vars=e,this._dur=this._tDur=+e.duration||0,this._delay=+e.delay||0,(this._repeat=e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase,w(this)),this._ts=1,this.data=e.data,me||ct.wake(),n&&b(n,this,t||0===t?t:n._time),e.reversed&&this.reversed(!0),e.paused&&this.paused(!0)}F(xt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:0,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Oe,_prom:0,_pauseTS:null});var _t=function(i){function e(e,t){var n;return void 0===e&&(e={}),(n=i.call(this,e,t)||this).labels={},n.smoothChildTiming=L(e.smoothChildTiming),n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=L(e.sortChildren),n}n(e,i);var t=e.prototype;return t.to=function(e,t,n,i){return new Mt(e,l(arguments,0,this),M(this,k(t)?i:n)),this},t.from=function(e,t,n,i){return new Mt(e,l(arguments,1,this),M(this,k(t)?i:n)),this},t.fromTo=function(e,t,n,i,r){return new Mt(e,l(arguments,2,this),M(this,k(t)?r:i)),this},t.set=function(e,t,n){return t.duration=0,t.parent=this,t.repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Mt(e,t,M(this,n)),this},t.call=function(e,t,n){return b(this,Mt.delayedCall(0,e,t),M(this,n))},t.staggerTo=function(e,t,n,i,r,o,s){return n.duration=t,n.stagger=n.stagger||i,n.onComplete=o,n.onCompleteParams=s,n.parent=this,new Mt(e,n,M(this,r)),this},t.staggerFrom=function(e,t,n,i,r,o,s){return n.runBackwards=1,n.immediateRender=L(n.immediateRender),this.staggerTo(e,t,n,i,r,o,s)},t.staggerFromTo=function(e,t,n,i,r,o,s,a){return i.startAt=n,i.immediateRender=L(i.immediateRender),this.staggerTo(e,t,i,r,o,s,a)},t.render=function(e,t,n){var i,r,o,s,a,l,c,u,d,h,p,f=this._time,m=this._dirty?this.totalDuration():this._tDur,g=this._dur,v=m-Oe<e&&0<=e&&this!==le?m:e<Oe?0:e,y=this._zTime<0!=e<0&&(this._initted||!g);if(v!==this._tTime||n||y){if(y&&(g||(f=this._zTime),!e&&t||(this._zTime=e)),i=v,d=this._start,l=0===(u=this._ts),f!==this._time&&g&&(i+=this._time-f),this._repeat&&(p=this._yoyo,(g<(i=j(v%(a=g+this._rDelay)))||m===v)&&(i=g),(s=~~(v/a))&&s===v/a&&(i=g,s--),p&&1&s&&(i=g-i),s!==(h=oe(this._tTime,a))&&!this._lock)){var b=p&&1&h,x=b===(p&&1&s);if(s<h&&(b=!b),f=b?0:g,this._lock=1,this.render(f,t,!g)._lock=0,!t&&this.parent&&ae(this,"onRepeat"),f!==this._time||l!=!this._ts)return this;if(x&&(this._lock=2,f=b?g+1e-4:-1e-4,this.render(f,!0)),this._lock=0,!this._ts&&!l)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,n){var i;if(t<n)for(i=e._first;i&&i._start<=n;){if(!i._dur&&"isPause"===i.data&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(!i._dur&&"isPause"===i.data&&i._start<t)return i;i=i._prev}}(this,j(f),j(i)))&&(v-=i-(i=c._start)),this._tTime=v,this._time=i,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1),f||!i||t||ae(this,"onStart"),f<=i&&0<=e)for(r=this._first;r;){if(o=r._next,(r._act||i>=r._start)&&r._ts&&c!==r){if(r.parent!==this)return this.render(e,t,n);if(r.render(0<r._ts?(i-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(i-r._start)*r._ts,t,n),i!==this._time||!this._ts&&!l){c=0;break}}r=o}else{r=this._last;for(var w=e<0?e:i;r;){if(o=r._prev,(r._act||w<=r._end)&&r._ts&&c!==r){if(r.parent!==this)return this.render(e,t,n);if(r.render(0<r._ts?(w-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(w-r._start)*r._ts,t,n),i!==this._time||!this._ts&&!l){c=0;break}}r=o}}if(c&&!t&&(this.pause(),c.render(f<=i?0:-Oe)._zTime=f<=i?1:-1,this._ts))return this._start=d,this.render(e,t,n);this._onUpdate&&!t&&ae(this,"onUpdate",!0),(v===m||!v&&this._ts<0)&&(d!==this._start&&Math.abs(u)===Math.abs(this._ts)||(!i||m>=this.totalDuration())&&(!e&&g||X(this,1),t||e<0&&!f||(ae(this,v===m?"onComplete":"onReverseComplete",!0),this._prom&&this._prom())))}return this},t.add=function(e,t){var n=this;if(k(t)||(t=M(this,t)),!(e instanceof xt)){if(Ve(e))return e.forEach(function(e){return n.add(e,t)}),g(this);if(V(e))return this.addLabel(e,t);if(!p(e))return this;e=Mt.delayedCall(0,e)}return this!==e?b(this,e,t):this},t.getChildren=function(e,t,n,i){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===i&&(i=-Ie);for(var r=[],o=this._first;o;)o._start>=i&&(o instanceof Mt?t&&r.push(o):(n&&r.push(o),e&&r.push.apply(r,o.getChildren(!0,t,n)))),o=o._next;return r},t.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},t.remove=function(e){return V(e)?this.removeLabel(e):p(e)?this.killTweensOf(e):(m(this,e),e===this._recent&&(this._recent=this._last),g(this))},t.totalTime=function(e,t){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=ct.time-(0<this._ts?e/this._ts:(this.totalDuration()-e)/-this._ts)),i.prototype.totalTime.call(this,e,t),this._forcing=0,this):this._tTime},t.addLabel=function(e,t){return this.labels[e]=M(this,t),this},t.removeLabel=function(e){return delete this.labels[e],this},t.addPause=function(e,t,n){var i=Mt.delayedCall(0,t||P,n);return i.data="isPause",this._hasPause=1,b(this,i,M(this,e))},t.removePause=function(e){var t=this._first;for(e=M(this,e);t;)t._start===e&&"isPause"===t.data&&X(t),t=t._next},t.killTweensOf=function(e,t,n){for(var i=this.getTweensOf(e,n),r=i.length;r--;)St!==i[r]&&i[r].kill(e,t);return this},t.getTweensOf=function(e,t){for(var n,i=[],r=rt(e),o=this._first;o;)o instanceof Mt?!a(o._targets,r)||t&&!o.isActive("started"===t)||i.push(o):(n=o.getTweensOf(r,t)).length&&i.push.apply(i,n),o=o._next;return i},t.tweenTo=function(e,t){var n=this,i=M(n,e),r=t&&t.startAt,o=Mt.to(n,F({ease:"none",lazy:!1,time:i,duration:Math.abs(i-(r&&"time"in r?r.time:n._time))/n.timeScale()||Oe,onStart:function(){n.pause();var e=Math.abs(i-n._time)/n.timeScale();o._dur!==e&&(o._dur=e,o.render(o._time,!0,!0)),t&&t.onStart&&t.onStart.apply(o,t.onStartParams||[])}},t));return o},t.tweenFromTo=function(e,t,n){return this.tweenTo(t,F({startAt:{time:M(this,e)}},n))},t.recent=function(){return this._recent},t.nextLabel=function(e){return void 0===e&&(e=this._time),G(this,M(this,e))},t.previousLabel=function(e){return void 0===e&&(e=this._time),G(this,M(this,e),1)},t.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+Oe)},t.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var i,r=this._first,o=this.labels;r;)r._start>=n&&(r._start+=e),r=r._next;if(t)for(i in o)o[i]>=n&&(o[i]+=e);return g(this)},t.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return i.prototype.invalidate.call(this)},t.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._time=this._tTime=0,e&&(this.labels={}),g(this)},t.totalDuration=function(e){var t,n,i=0,r=this,o=r._last,s=Ie,a=r._repeat,l=a*r._rDelay||0,c=a<0;if(arguments.length)return c?r:r.timeScale(r.totalDuration()/e);if(r._dirty){for(;o;)t=o._prev,o._dirty&&o.totalDuration(),o._start>s&&r._sort&&o._ts&&!r._lock?(r._lock=1,b(r,o,o._start-o._delay),r._lock=0):s=o._start,o._start<0&&o._ts&&(i-=o._start,(!r.parent&&!r._dp||r.parent&&r.parent.smoothChildTiming)&&(r._start+=o._start/r._ts,r._time-=o._start,r._tTime-=o._start),r.shiftChildren(-o._start,!1,-Ie),s=0),i<(n=o._end=o._start+o._tDur/Math.abs(o._ts||o._pauseTS||Oe))&&o._ts&&(i=j(n)),o=t;r._dur=r===le&&r._time>i?r._time:Math.min(Ie,i),r._tDur=c&&(r._dur||l)?1e20:Math.min(Ie,i*(a+1)+l),r._end=r._start+(r._tDur/Math.abs(r._ts||r._pauseTS||Oe)||0),r._dirty=0}return r._tDur},e.updateRoot=function(e){if(le._ts&&c(le,y(e,le)),ct.frame>=Je){Je+=Me.autoSleep||120;var t=le._first;if((!t||!t._ts)&&Me.autoSleep&&ct._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||ct.sleep()}}},e}(xt);function kt(e,t,n,i,r,o){var s,a,l,c;if(Qe[e]&&!1!==(s=new Qe[e]).init(r,s.rawVars?t[e]:function(e,t,n,i,r){if(p(e)&&(e=Ct(e,r,t,n,i)),!T(e)||e.style&&e.nodeType||Ve(e))return V(e)?Ct(e,r,t,n,i):e;var o,s={};for(o in e)s[o]=Ct(e[o],r,t,n,i);return s}(t[e],i,r,o,n),n,i,o)&&(n._pt=a=new Yt(n._pt,r,e,0,1,s.render,s,0,s.priority),n!==fe))for(l=n._ptLookup[n._targets.indexOf(r)],c=s._props.length;c--;)l[s._props[c]]=a;return s}F(_t.prototype,{_lock:0,_hasPause:0,_forcing:0});function Tt(e,t,n,i,r,o,s,a,l){p(i)&&(i=i(r||0,e,o));var c,u=e[t],d="get"!==n?n:p(u)?l?e[t.indexOf("set")||!p(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():u,h=p(u)?l?Rt:Dt:Nt;if(V(i)&&(~i.indexOf("random(")&&(i=U(i)),"="===i.charAt(1)&&(i=parseFloat(d)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+(I(d)||0))),d!==i)return isNaN(d+i)?function(e,t,n,i,r,o,s){var a,l,c,u,d,h,p,f,m=new Yt(this._pt,e,t,0,1,qt,null,r),g=0,v=0;for(m.b=n,m.e=i,n+="",(p=~(i+="").indexOf("random("))&&(i=U(i)),o&&(o(f=[n,i],e,t),n=f[0],i=f[1]),l=n.match(Xe)||[];a=Xe.exec(i);)u=a[0],d=i.substring(g,a.index),c?c=(c+1)%5:"rgba("===d.substr(-5)&&(c=1),u!==l[v++]&&(h=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:d||1===v?d:",",s:h,c:"="===u.charAt(1)?parseFloat(u.substr(2))*("-"===u.charAt(0)?-1:1):parseFloat(u)-h,m:c&&c<4?Math.round:0},g=Xe.lastIndex);return m.c=g<i.length?i.substring(g,i.length):"",m.fp=s,(He.test(i)||p)&&(m.e=0),this._pt=m}.call(this,e,t,d,i,h,a||Me.stringFilter,l):(c=new Yt(this._pt,e,t,+d||0,i-(d||0),"boolean"==typeof u?jt:Vt,0,h),l&&(c.fp=l),s&&c.modifier(s,this,e),this._pt=c)}var St,Ct=function(e,t,n,i,r){return p(e)?e.call(t,n,i,r):V(e)&&~e.indexOf("random(")?U(e):e},Pt=et+",repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",At=(Pt+",id,stagger,delay,duration,paused").split(","),Mt=function(w){function r(e,t,n){var i;"number"==typeof t&&(n.duration=t,t=n,n=null);var r,o,s,a,l,c,u,d,h=(i=w.call(this,function(e){var t=e.parent||le,n=e.keyframes?A:F;if(L(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent;return e}(t),n)||this).vars,p=h.duration,f=h.delay,m=h.immediateRender,g=h.stagger,v=h.overwrite,y=h.keyframes,b=h.defaults,x=Ve(e)&&k(e[0])?[e]:rt(e);if(i._targets=x.length?N(x):C(0,!Me.nullTargetWarn)||[],i._ptLookup=[],i._overwrite=v,y||g||S(p)||S(f)){if(t=i.vars,(r=i.timeline=new _t({data:"nested",defaults:b||{}})).kill(),r.parent=_(i),y)F(r.vars.defaults,{ease:"none"}),y.forEach(function(e){return r.to(x,e,">")});else{if(a=x.length,u=g?B(g):P,T(g))for(l in g)~Pt.indexOf(l)&&((d=d||{})[l]=g[l]);for(o=0;o<a;o++){for(l in s={},t)At.indexOf(l)<0&&(s[l]=t[l]);s.stagger=0,d&&re(s,d),t.yoyoEase&&!t.repeat&&(s.yoyoEase=t.yoyoEase),c=x[o],s.duration=+Ct(p,_(i),o,c,x),s.delay=(+Ct(f,_(i),o,c,x)||0)-i._delay,!g&&1===a&&s.delay&&(i._delay=f=s.delay,i._start+=f,s.delay=0),r.to(c,s,u(o,c,x))}p=f=0}p||i.duration(p=r.duration())}else i.timeline=0;return!0===v&&(St=_(i),le.killTweensOf(x),St=0),(m||!p&&!y&&i._start===i.parent._time&&L(m)&&function e(t){return!t||t._ts&&e(t.parent)}(_(i))&&"nested"!==i.parent.data)&&(i._tTime=-Oe,i.render(Math.max(0,-f))),i}n(r,w);var e=r.prototype;return e.render=function(e,t,n){var i,r,o,s,a,l,c,u,d,h=this._time,p=this._tDur,f=this._dur,m=p-Oe<e&&0<=e?p:e<Oe?0:e;if(f){if(m!==this._tTime||!e||n||this._startAt&&this._zTime<0!=e<0){if(i=m,u=this.timeline,this._repeat){if(f<(i=j(m%(s=f+this._rDelay)))&&(i=f),(o=~~(m/s))&&o===m/s&&(i=f,o--),(l=this._yoyo&&1&o)&&(d=this._yEase,i=f-i),a=oe(this._tTime,s),i===h&&!n&&this._initted)return this;o!==a&&this.vars.repeatRefresh&&!this._lock&&(this._lock=n=1,this.render(s*o,!0).invalidate()._lock=0)}if(!this._initted&&x(this,i,n,t))return this;for(this._tTime=m,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(d||this._ease)(i/f),this._from&&(this.ratio=c=1-c),h||!i||t||ae(this,"onStart"),r=this._pt;r;)r.r(c,r.d),r=r._next;u&&u.render(e<0?e:!i&&l?-Oe:u._dur*c,t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,n),ae(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!t&&this.parent&&ae(this,"onRepeat"),m!==p&&m||this._tTime!==m||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,n),!e&&f||!(m||this._ts<0)||X(this,1),t||e<0&&!h||(ae(this,m===p?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}}else!function(e,t,n,i){var r,o=e._zTime<0?0:1,s=t<0?0:1,a=e._rDelay,l=0;if(a&&e._repeat&&(l=nt(0,e._tDur,t),oe(l,a)!==oe(e._tTime,a)&&(o=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),(e._initted||!x(e,t,i,n))&&(s!==o||i||e._zTime===Oe||!t&&e._zTime)){for(e._zTime=t||(n?Oe:0),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=l,n||ae(e,"onStart"),r=e._pt;r;)r.r(s,r.d),r=r._next;!s&&e._startAt&&!e._onUpdate&&e._start&&e._startAt.render(t,!0,i),e._onUpdate&&!n&&ae(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&ae(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(e.ratio&&X(e,1),n||(ae(e,e.ratio?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}}(this,e,t,n);return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),w.prototype.invalidate.call(this)},e.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t)&&(this._lazy=0,this.parent))return K(this);if(this.timeline)return this.timeline.killTweensOf(e,t,St&&!0!==St.vars.overwrite),this;var n,i,r,o,s,a,l,c=this._targets,u=e?rt(e):c,d=this._ptLookup,h=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0}(c,u))return K(this);for(n=this._op=this._op||[],"all"!==t&&(V(t)&&(s={},f(t,function(e){return s[e]=1}),t=s),t=function(e,t){var n,i,r,o,s=e[0]?D(e[0]).harness:0,a=s&&s.aliases;if(!a)return t;for(i in n=re({},t),a)if(i in n)for(r=(o=a[i].split(",")).length;r--;)n[o[r]]=n[i];return n}(c,t)),l=c.length;l--;)if(~u.indexOf(c[l]))for(s in i=d[l],"all"===t?(n[l]=t,o=i,r={}):(r=n[l]=n[l]||{},o=t),o)(a=i&&i[s])&&("kill"in a.d&&!0!==a.d.kill(s)||m(this,a,"_pt"),delete i[s]),"all"!==r&&(r[s]=1);return this._initted&&!this._pt&&h&&K(this),this},r.to=function(e,t,n){return new r(e,t,n)},r.from=function(e,t){return new r(e,l(arguments,1))},r.delayedCall=function(e,t,n,i){return new r(t,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:t,onReverseComplete:t,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},r.fromTo=function(e,t,n){return new r(e,l(arguments,2))},r.set=function(e,t){return t.duration=0,t.repeatDelay||(t.repeat=0),new r(e,t)},r.killTweensOf=function(e,t,n){return le.killTweensOf(e,t,n)},r}(xt);function Et(e,t,n){return e.setAttribute(t,n)}function It(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)}F(Mt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),f("staggerTo,staggerFrom,staggerFromTo",function(n){Mt[n]=function(){var e=new _t,t=rt(arguments);return t.splice("staggerFromTo"===n?5:4,0,0),e[n].apply(e,t)}});function Ot(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next}function Bt(e,t,n,i){for(var r,o=this._pt;o;)r=o._next,o.p===i&&o.modifier(e,t,n),o=r}function Lt(e){for(var t,n,i=this._pt;i;)n=i._next,i.p===e&&!i.op||i.op===e?m(this,i,"_pt"):i.dep||(t=1),i=n;return!t}var Nt=function(e,t,n){return e[t]=n},Dt=function(e,t,n){return e[t](n)},Rt=function(e,t,n,i){return e[t](i.fp,n)},Ft=function(e,t){return p(e[t])?Dt:i(e[t])&&e.setAttribute?Et:Nt},Vt=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4,t)},jt=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},qt=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(1===e&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},Xt=function(e){for(var t,n,i,r,o=e._pt;o;){for(t=o._next,n=i;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:r)?o._prev._next=o:i=o,(o._next=n)?n._prev=o:r=o,o=t}e._pt=i},Yt=(Ht.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=It,this.m=e,this.mt=n,this.tween=t},Ht);function Ht(e,t,n,i,r,o,s,a,l){this.t=t,this.s=i,this.c=r,this.p=n,this.r=o||Vt,this.d=s||this,this.set=a||Nt,this.pr=l||0,(this._next=e)&&(e._prev=this)}f(et+",parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",function(e){Ue[e]=1,"on"===e.substr(0,2)&&(Ue[e+"Params"]=1)}),ze.TweenMax=ze.TweenLite=Mt,ze.TimelineLite=ze.TimelineMax=_t,le=new _t({sortChildren:!1,defaults:Ee,autoRemoveChildren:!0,id:"root"}),Me.stringFilter=Z;var Wt={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){return function(e){var t=(e=!e.name&&e.default||e).name,n=p(e),i=t&&!n&&e.init?function(){this._props=[]}:e,r={init:P,render:Ot,add:Tt,kill:Lt,modifier:Bt,rawVars:0},o={targetTest:0,get:0,getSetter:Ft,aliases:{},register:0};if(ut(),e!==i){if(Qe[t])return;F(i,F(q(e,r),o)),re(i.prototype,re(r,q(e,o))),Qe[i.prop=t]=i,e.targetTest&&(Ze.push(i),Ue[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}s(t,i),e.register&&e.register(Gt,i,Yt)}(e)})},timeline:function(e){return new _t(e)},getTweensOf:function(e,t){return le.getTweensOf(e,t)},getProperty:function(i,e,t,n){V(i)&&(i=rt(i)[0]);var r=D(i||{}).get,o=t?d:u;return"native"===t&&(t=""),i?e?o((Qe[e]&&Qe[e].get||r)(i,e,t,n)):function(e,t,n){return o((Qe[e]&&Qe[e].get||r)(i,e,t,n))}:i},quickSetter:function(n,t,i){if(1<(n=rt(n)).length){var r=n.map(function(e){return Gt.quickSetter(e,t,i)}),o=r.length;return function(e){for(var t=o;t--;)r[t](e)}}n=n[0]||{};var s=Qe[t],a=D(n),l=s?function(e){var t=new s;fe._pt=0,t.init(n,i?e+i:e,fe,0,[n]),t.render(1,t),fe._pt&&Ot(1,fe)}:a.set(n,t);return s?l:function(e){return l(n,t,i?e+i:e,a,1)}},isTweening:function(e){return 0<le.getTweensOf(e,!0).length},defaults:function(e){return e&&e.ease&&(e.ease=mt(e.ease,Ee.ease)),h(Ee,e||{})},config:function(e){return h(Me,e||{})},registerEffect:function(e){var i=e.name,n=e.effect,t=e.plugins,r=e.defaults,o=e.extendTimeline;(t||"").split(",").forEach(function(e){return e&&!Qe[e]&&!ze[e]&&C()}),$e[i]=function(e,t){return n(rt(e),F(t||{},r))},o&&(_t.prototype[i]=function(e,t,n){return this.add($e[i](e,T(t)?t:(n=t)&&{}),n)})},registerEase:function(e,t){dt[e]=mt(t)},parseEase:function(e,t){return arguments.length?mt(e,t):dt},getById:function(e){return le.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,i,r=new _t(e);for(r.smoothChildTiming=L(e.smoothChildTiming),le.remove(r),r._dp=0,r._time=r._tTime=le._time,n=le._first;n;)i=n._next,!t&&!n._dur&&n instanceof Mt&&n.vars.onComplete===n._targets[0]||b(r,n,n._start-n._delay),n=i;return b(le,r,0),r},utils:{wrap:function e(t,n,i){var r=n-t;return Ve(t)?z(t,e(0,t.length),n):E(i,function(e){return(r+(e-t)%r)%r+t})},wrapYoyo:function e(t,n,i){var r=n-t,o=2*r;return Ve(t)?z(t,e(0,t.length-1),n):E(i,function(e){return t+(r<(e=(o+(e-t)%o)%o)?o-e:e)})},distribute:B,random:W,snap:H,normalize:function(e,t,n){return se(e,t,0,1,n)},getUnit:I,clamp:function(t,n,e){return E(e,function(e){return nt(t,n,e)})},splitColor:$,toArray:rt,mapRange:se,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},unitize:function(t,n){return function(e){return t(parseFloat(e))+(n||I(e))}},interpolate:function e(t,n,i,r){var o=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!o){var s,a,l,c,u,d=V(t),h={};if(!0===i&&(r=1)&&(i=null),d)t={p:t},n={p:n};else if(Ve(t)&&!Ve(n)){for(l=[],c=t.length,u=c-2,a=1;a<c;a++)l.push(e(t[a-1],t[a]));c--,o=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},i=n}else r||(t=re(Ve(t)?[]:{},t));if(!l){for(s in n)Tt.call(h,t,s,"get",n[s]);o=function(e){return Ot(e,h)||(d?t.p:t)}}}return E(i,o)}},install:r,effects:$e,ticker:ct,updateRoot:_t.updateRoot,plugins:Qe,globalTimeline:le,core:{PropTween:Yt,globals:s,Tween:Mt,Timeline:_t,Animation:xt,getCache:D}};function zt(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n}function Ut(e,r){return{name:e,rawVars:1,init:function(e,i,t){t._onInit=function(e){var t,n;if(V(i)&&(t={},f(i,function(e){return t[e]=1}),i=t),r){for(n in t={},i)t[n]=r(i[n]);i=t}!function(e,t){var n,i,r,o=e._targets;for(n in t)for(i=o.length;i--;)(r=(r=e._ptLookup[i][n])&&r.d)&&(r._pt&&(r=zt(r,n)),r&&r.modifier&&r.modifier(t[n],e,o[i],n))}(e,i)}}}}f("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Wt[e]=Mt[e]}),ct.add(_t.updateRoot),fe=Wt.to({},{duration:0});var Gt=Wt.registerPlugin({name:"attr",init:function(e,t,n,i,r){for(var o in t)this.add(e,"setAttribute",(e.getAttribute(o)||0)+"",t[o],i,r,0,0,o),this._props.push(o)}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n])}},Ut("roundProps",Y),Ut("modifiers"),Ut("snap",H))||Wt;function Kt(e,t){return t.set(t.t,t.p,~~(1e3*(t.s+t.c*e))/1e3+t.u,t)}function Qt(e,t){return t.set(t.t,t.p,1===e?t.e:~~(1e3*(t.s+t.c*e))/1e3+t.u,t)}function $t(e,t){return t.set(t.t,t.p,e?~~(1e3*(t.s+t.c*e))/1e3+t.u:t.b,t)}function Jt(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)}function Zt(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)}function en(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)}function tn(e,t,n){return e.style[t]=n}function nn(e,t,n){return e.style.setProperty(t,n)}function rn(e,t,n){return e._gsap[t]=n}function on(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n}function sn(e,t,n,i,r){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(r,o)}function an(e,t,n,i,r){var o=e._gsap;o[t]=n,o.renderTransform(r,o)}function ln(e,t){var n=Cn.createElementNS?Cn.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Cn.createElement(e);return n.style?n:Cn.createElement(e)}function cn(e,t,n){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(ii,"-$1").toLowerCase())||i.getPropertyValue(t)||!n&&cn(e,di(t)||t,1)||""}function un(){"undefined"==typeof window||(Cn=window.document,Pn=Cn.documentElement,Mn=ln("div")||{style:{}},En=ln("div"),li=di(li),ci=di(ci),Mn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",On=!!di("perspective"),An=1)}function dn(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])}function hn(t){var n;try{n=t.getBBox()}catch(e){n=function e(t){var n,i=ln("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(Pn.appendChild(i),i.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return o?r.insertBefore(this,o):r.appendChild(this),Pn.removeChild(i),this.style.cssText=s,n}.call(t,!0)}return!n||n.width||n.x||n.y?n:{x:+dn(t,["x","cx","x1"])||0,y:+dn(t,["y","cy","y1"])||0,width:0,height:0}}function pn(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!hn(e))}function fn(e,t){if(t){var n=e.style;t in Zn&&(t=li),n.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),n.removeProperty(t.replace(ii,"-$1").toLowerCase())):n.removeAttribute(t)}}function mn(e,t,n,i,r,o){var s=new Yt(e._pt,t,n,0,1,o?en:Zt);return(e._pt=s).b=i,s.e=r,e._props.push(n),s}function gn(e,t,n,i){var r,o,s,a,l=parseFloat(n),c=(n+"").substr((l+"").length)||"px",u=Mn.style,d=oi.test(t),h="svg"===e.tagName.toLowerCase(),p=(h?"client":"offset")+(d?"Width":"Height"),f="px"===i;return i===c||hi[i]||hi[c]?l:(a=e.getCTM&&pn(e),"%"===i&&Zn[t]?j(l/(a?e.getBBox()[d?"width":"height"]:e[p])*100):(u[d?"width":"height"]=100+(f?c:i),o="em"===i&&e.appendChild&&!h?e:e.parentNode,a&&(o=(e.ownerSVGElement||{}).parentNode),o&&o!==Cn&&o.appendChild||(o=Cn.body),(s=o._gsap)&&"%"===i&&s.width&&d&&s.time===ct.time?j(l/s.width*100):(o.appendChild(Mn),r=Mn[p],o.removeChild(Mn),d&&"%"===i&&((s=D(o)).time=ct.time,s.width=o[p]),j(f?r*l/100:100/r*l))))}function vn(e,t,n,i){var r;return An||un(),t in ai&&"transform"!==t&&~(t=ai[t]).indexOf(",")&&(t=t.split(",")[0]),Zn[t]&&"transform"!==t?(r=vi(e,i),r="transformOrigin"!==t?r[t]:yi(cn(e,ci))+r.zOrigin+"px"):(r=e.style[t])&&"auto"!==r&&!i&&!~r.indexOf("calc(")||(r=cn(e,t)||o(e,t)||("opacity"===t?1:0)),n?gn(e,t,r,n)+n:r}function yn(e,t,n,i){var r,o,s,a,l,c,u,d,h,p,f,m,g=new Yt(this._pt,e.style,t,0,1,qt),v=0,y=0;if(g.b=n,g.e=i,n+="","auto"==(i+="")&&(e.style[t]=i,i=cn(e,t)||i,e.style[t]=n),Z(r=[n,i]),i=r[1],!!(c=(n=r[0]).indexOf("rgba("))!=!!(u=i.indexOf("rgba("))&&(c?n=n.substr(c)+" "+n.substr(0,c-1):i=i.substr(u)+" "+i.substr(0,u-1)),s=n.match(ri)||[],(i.match(ri)||[]).length){for(;o=ri.exec(i);)u=o[0],h=i.substring(v,o.index),l?l=(l+1)%5:"rgba("===h.substr(-5)&&(l=1),u!==(c=s[y++]||"")&&(a=parseFloat(c)||0,f=c.substr((a+"").length),(m="="===u.charAt(1)?+(u.charAt(0)+"1"):0)&&(u=u.substr(2)),d=parseFloat(u),p=u.substr((d+"").length),v=ri.lastIndex-p.length,p||(p=p||Me.units[t]||f,v===i.length&&(i+=p,g.e+=p)),f!==p&&(a=gn(e,t,c,p)||0),g._pt={_next:g._pt,p:h||1===y?h:",",s:a,c:m?m*d:d-a,m:l&&l<4?Math.round:0});g.c=v<i.length?i.substring(v,i.length):""}else g.r="display"===t&&"none"===i?en:Zt;return He.test(i)&&(g.e=0),this._pt=g}function bn(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,i,r,o=t.t,s=o.style,a=t.u;if("all"===a||!0===a)s.cssText="",i=1;else for(r=(a=a.split(",")).length;-1<--r;)n=a[r],Zn[n]&&(i=1,n="transformOrigin"===n?ci:li),fn(o,n);i&&(fn(o,li),(i=o._gsap)&&(i.svg&&o.removeAttribute("transform"),vi(o,1)))}}function xn(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e}function wn(e){var t=cn(e,li);return xn(t)?mi:t.substr(7).match(qe).map(j)}function _n(e,t){var n,i,r,o,s=e._gsap,a=e.style,l=wn(e);return s.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(r=e.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?mi:l:(l!==mi||e.offsetParent||e===Pn||s.svg||(r=a.display,a.display="block",(n=e.parentNode)&&e.offsetParent||(o=1,i=e.nextSibling,Pn.appendChild(e)),l=wn(e),r?a.display=r:fn(e,"display"),o&&(i?n.insertBefore(e,i):n?n.appendChild(e):Pn.removeChild(e))),t&&6<l.length?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)}function kn(e,t,n,i,r,o){var s,a,l,c=e._gsap,u=r||_n(e,!0),d=c.xOrigin||0,h=c.yOrigin||0,p=c.xOffset||0,f=c.yOffset||0,m=u[0],g=u[1],v=u[2],y=u[3],b=u[4],x=u[5],w=t.split(" "),_=parseFloat(w[0])||0,k=parseFloat(w[1])||0;n?u!==mi&&(a=m*y-g*v)&&(l=_*(-g/a)+k*(m/a)-(m*x-g*b)/a,_=_*(y/a)+k*(-v/a)+(v*x-y*b)/a,k=l):(_=(s=hn(e)).x+(~w[0].indexOf("%")?_/100*s.width:_),k=s.y+(~(w[1]||w[0]).indexOf("%")?k/100*s.height:k)),i||!1!==i&&c.smooth?(b=_-d,x=k-h,c.xOffset=p+(b*m+x*v)-b,c.yOffset=f+(b*g+x*y)-x):c.xOffset=c.yOffset=0,c.xOrigin=_,c.yOrigin=k,c.smooth=!!i,c.origin=t,c.originIsAbsolute=!!n,e.style[ci]="0px 0px",o&&(mn(o,c,"xOrigin",d,_),mn(o,c,"yOrigin",h,k),mn(o,c,"xOffset",p,c.xOffset),mn(o,c,"yOffset",f,c.yOffset))}function Tn(e,t,n){var i=I(t);return j(parseFloat(t)+parseFloat(gn(e,"x",n+"px",i)))+i}function Sn(e,t,n){var i,r,o,s,a,l,c,u=En.style,d=n._gsap;for(r in u.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",u[li]=t,Cn.body.appendChild(En),i=vi(En,1),Zn)(o=d[r])!==(s=i[r])&&"perspective"!==r&&(a=I(o)!==(c=I(s))?gn(n,r,o,c):parseFloat(o),l=parseFloat(s),e._pt=new Yt(e._pt,d,r,a,l-a,Kt),e._pt.u=c,e._props.push(r));Cn.body.removeChild(En)}Mt.version=_t.version=Gt.version="3.0.4",pe=1,t()&&ut();var Cn,Pn,An,Mn,En,In,On,Bn,Ln,Nn=dt.Power0,Dn=dt.Power1,Rn=dt.Power2,Fn=dt.Power3,Vn=dt.Power4,jn=dt.Linear,qn=dt.Quad,Xn=dt.Cubic,Yn=dt.Quart,Hn=dt.Quint,Wn=dt.Strong,zn=dt.Elastic,Un=dt.Back,Gn=dt.SteppedEase,Kn=dt.Bounce,Qn=dt.Sine,$n=dt.Expo,Jn=dt.Circ,Zn={},ei=180/Math.PI,ti=Math.PI/180,ni=Math.atan2,ii=/([A-Z])/g,ri=/[-+=\.]*\d+[\.e-]*\d*[a-z%]*/g,oi=/(?:left|right|width|margin|padding|x)/i,si=/[\s,\(]\S/,ai={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},li="transform",ci=li+"Origin",ui="O,Moz,ms,Ms,Webkit".split(","),di=function(e,t){var n=(t||Mn).style,i=5;if(e in n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(ui[i]+e in n););return i<0?null:(3===i?"ms":0<=i?ui[i]:"")+e},hi={deg:1,rad:1,turn:1},pi={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},fi={clearProps:function(e,t,n,i,r){if("isFromStart"!==r.data){var o=e._pt=new Yt(e._pt,t,n,0,0,bn);return o.u=i,o.pr=-10,o.tween=r,e._props.push(n),1}}},mi=[1,0,0,1,0,0],gi={},vi=function(e,t){var n=e._gsap||new bt(e);if("x"in n&&!t&&!n.uncache)return n;var i,r,o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,x,w,_,k,T,S,C,P,A,M,E,I,O,B=e.style,L=n.scaleX<0,N=n.xOrigin||0,D=n.yOrigin||0,R="deg",F=cn(e,ci)||"0";return i=r=o=l=c=u=d=h=p=0,s=a=1,n.svg=!(!e.getCTM||!pn(e)),f=_n(e,n.svg),n.svg&&kn(e,F,n.originIsAbsolute,!1!==n.smooth,f),f!==mi&&(y=f[0],b=f[1],x=f[2],w=f[3],i=_=f[4],r=k=f[5],6===f.length?(s=Math.sqrt(y*y+b*b),a=Math.sqrt(w*w+x*x),l=y||b?ni(b,y)*ei:0,d=x||w?ni(x,w)*ei+l:0,n.svg&&(i-=N-(N*y+D*x),r-=D-(N*b+D*w))):(O=f[6],E=f[7],P=f[8],A=f[9],M=f[10],I=f[11],i=f[12],r=f[13],o=f[14],c=(m=ni(O,M))*ei,m&&(T=_*(g=Math.cos(-m))+P*(v=Math.sin(-m)),S=k*g+A*v,C=O*g+M*v,P=_*-v+P*g,A=k*-v+A*g,M=O*-v+M*g,I=E*-v+I*g,_=T,k=S,O=C),u=(m=ni(-x,M))*ei,m&&(g=Math.cos(-m),I=w*(v=Math.sin(-m))+I*g,y=T=y*g-P*v,b=S=b*g-A*v,x=C=x*g-M*v),l=(m=ni(b,y))*ei,m&&(T=y*(g=Math.cos(m))+b*(v=Math.sin(m)),S=_*g+k*v,b=b*g-y*v,k=k*g-_*v,y=T,_=S),c&&359.9<Math.abs(c)+Math.abs(l)&&(c=l=0,u=180-u),s=j(Math.sqrt(y*y+b*b+x*x)),a=j(Math.sqrt(k*k+O*O)),m=ni(_,k),d=2e-4<Math.abs(m)?m*ei:0,p=I?1/(I<0?-I:I):0),n.svg&&(f=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!xn(cn(e,li)),f&&e.setAttribute("transform",f))),90<Math.abs(d)&&Math.abs(d)<270&&(L?(s*=-1,d+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,d+=d<=0?180:-180)),n.x=((n.xPercent=i&&Math.round(e.offsetWidth/2)===Math.round(-i)?-50:0)?0:i)+"px",n.y=((n.yPercent=r&&Math.round(e.offsetHeight/2)===Math.round(-r)?-50:0)?0:r)+"px",n.z=o+"px",n.scaleX=j(s),n.scaleY=j(a),n.rotation=j(l)+R,n.rotationX=j(c)+R,n.rotationY=j(u)+R,n.skewX=d+R,n.skewY=h+R,n.transformPerspective=p+"px",(n.zOrigin=parseFloat(F.split(" ")[2])||0)&&(B[ci]=yi(F)),n.xOffset=n.yOffset=0,n.force3D=Me.force3D,n.renderTransform=n.svg?Ti:On?ki:bi,n.uncache=0,n},yi=function(e){return(e=e.split(" "))[0]+" "+e[1]},bi=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,ki(e,t)},xi="0deg",wi="0px",_i=") ",ki=function(e,t){var n=t||this,i=n.xPercent,r=n.yPercent,o=n.x,s=n.y,a=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,d=n.skewX,h=n.skewY,p=n.scaleX,f=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,b="",x="auto"===g&&e&&1!==e||!0===g;if(y&&(u!==xi||c!==xi)){var w,_=parseFloat(c)*ti,k=Math.sin(_),T=Math.cos(_);_=parseFloat(u)*ti,o=Tn(v,o,k*(w=Math.cos(_))*-y),s=Tn(v,s,-Math.sin(_)*-y),a=Tn(v,a,T*w*-y+y)}(i||r)&&(b="translate("+i+"%, "+r+"%) "),!x&&o===wi&&s===wi&&a===wi||(b+=a!==wi||x?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+_i),m!==wi&&(b+="perspective("+m+_i),l!==xi&&(b+="rotate("+l+_i),c!==xi&&(b+="rotateY("+c+_i),u!==xi&&(b+="rotateX("+u+_i),d===xi&&h===xi||(b+="skew("+d+", "+h+_i),1===p&&1===f||(b+="scale("+p+", "+f+_i),v.style[li]=b||"translate(0, 0)"},Ti=function(e,t){var n,i,r,o,s,a=t||this,l=a.xPercent,c=a.yPercent,u=a.x,d=a.y,h=a.rotation,p=a.skewX,f=a.skewY,m=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,b=a.yOrigin,x=a.xOffset,w=a.yOffset,_=a.forceCSS,k=parseFloat(u),T=parseFloat(d);h=parseFloat(h),p=parseFloat(p),(f=parseFloat(f))&&(p+=f=parseFloat(f),h+=f),h||p?(h*=ti,p*=ti,n=Math.cos(h)*m,i=Math.sin(h)*m,r=Math.sin(h-p)*-g,o=Math.cos(h-p)*g,p&&(f*=ti,s=Math.tan(p-f),r*=s=Math.sqrt(1+s*s),o*=s,f&&(s=Math.tan(f),n*=s=Math.sqrt(1+s*s),i*=s)),n=j(n),i=j(i),r=j(r),o=j(o)):(n=m,o=g,i=r=0),(k&&!~(u+"").indexOf("px")||T&&!~(d+"").indexOf("px"))&&(k=gn(v,"x",u,"px"),T=gn(v,"y",d,"px")),(y||b||x||w)&&(k=j(k+y-(y*n+b*r)+x),T=j(T+b-(y*i+b*o)+w)),(l||c)&&(k=j(k+l/100*(s=v.getBBox()).width),T=j(T+c/100*s.height)),s="matrix("+n+","+i+","+r+","+o+","+k+","+T+")",v.setAttribute("transform",s),_&&(v.style[li]=s)},Si={name:"css",register:un,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,p,f,m,g,v,y,b,x,w,_,k,T,S,C,P,A,M,E,I,O,B,L,N,D,R=this._props,F=e.style;for(d in An||un(),t)if("autoRound"!==d&&(s=t[d],!Qe[d]||!kt(d,t,n,i,e,r)))if(u=fi[d],"function"==(c=typeof s)&&(c=typeof(s=s.call(n,i,e,r))),"string"===c&&~s.indexOf("random(")&&(s=U(s)),u)u(this,e,d,s,n)&&(b=1);else if("--"===d.substr(0,2))this.add(F,"setProperty",getComputedStyle(e).getPropertyValue(d)+"",s+"",i,r,0,0,d);else{if(o=vn(e,d),l=parseFloat(o),(f="string"===c&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0)&&(s=s.substr(2)),a=parseFloat(s),d in ai&&("autoAlpha"===d&&(1===l&&"hidden"===vn(e,"visibility")&&a&&(l=0),mn(this,F,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==d&&"transform"!==d&&~(d=ai[d]).indexOf(",")&&(d=d.split(",")[0])),m=d in Zn)if(g||(v=e._gsap,y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new Yt(this._pt,F,li,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===d)this._pt=new Yt(this._pt,v,"scaleY",v.scaleY,f?f*a:a-v.scaleY),R.push("scaleY",d),d+="X";else{if("transformOrigin"===d){D=N=L=void 0,L=(B=s).split(" "),N=L[0],D=L[1]||"50%","top"!==N&&"bottom"!==N&&"left"!==D&&"right"!==D||(B=N,N=D,D=B),L[0]=pi[N]||N,L[1]=pi[D]||D,s=L.join(" "),v.svg?kn(e,s,0,y,0,this):((p=parseFloat(s.split(" ")[2]))!==v.zOrigin&&mn(this,v,"zOrigin",v.zOrigin,p),mn(this,F,d,yi(o),yi(s)));continue}if("svgOrigin"===d){kn(e,s,1,y,0,this);continue}if(d in gi){x=this,w=v,_=d,k=l,S=f,I=P=C=void 0,A=360,M=V(T=s),E=parseFloat(T)*(M&&~T.indexOf("rad")?ei:1),O=k+(I=S?E*S:E-k)+"deg",M&&("short"===(C=T.split("_")[1])&&(I%=A)!=I%180&&(I+=I<0?A:-A),"cw"===C&&I<0?I=(I+36e9)%A-~~(I/A)*A:"ccw"===C&&0<I&&(I=(I-36e9)%A-~~(I/A)*A)),x._pt=P=new Yt(x._pt,w,_,k,I,Qt),P.e=O,P.u="deg",x._props.push(_);continue}if("smoothOrigin"===d){mn(this,v,"smooth",v.smooth,s);continue}if("force3D"===d){v[d]=s;continue}if("transform"===d){Sn(this,s,e);continue}}else d in F||(d=di(d)||d);if(m||(a||0===a)&&(l||0===l)&&!si.test(s)&&d in F)(h=(o+"").substr((l+"").length))!==(p=(s+"").substr((a+"").length)||(d in Me.units?Me.units[d]:h))&&(l=gn(e,d,o,p)),this._pt=new Yt(this._pt,m?v:F,d,l,f?f*a:a-l,"px"!==p||!1===t.autoRound||m?Kt:Jt),this._pt.u=p||0,h!==p&&(this._pt.b=o,this._pt.r=$t);else if(d in F)yn.call(this,e,d,o,s);else{if(!(d in e))continue;this.add(e,d,e[d],s,i,r)}R.push(d)}b&&Xt(this)},get:vn,aliases:ai,getSetter:function(e,t,n){return t in Zn&&t!==ci&&(e._gsap.x||vn(e,"x"))?n&&In===n?"scale"===t?on:rn:(In=n||{})&&("scale"===t?sn:an):e.style&&!i(e.style[t])?tn:~t.indexOf("-")?nn:Ft(e,t)}};Gt.utils.checkPrefix=di,Ln=f("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(Bn="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){Zn[e]=1}),f(Bn,function(e){Me.units[e]="deg",gi[e]=1}),ai[Ln[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Bn,f("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,9:rotateX,10:rotateY",function(e){var t=e.split(":");ai[t[1]]=Ln[t[0]]}),f("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){Me.units[e]="px"}),Gt.registerPlugin(Si);var Ci=Gt.registerPlugin(Si)||Gt;e.Back=Un,e.Bounce=Kn,e.CSSPlugin=Si,e.Circ=Jn,e.Cubic=Xn,e.Elastic=zn,e.Expo=$n,e.Linear=jn,e.Power0=Nn,e.Power1=Dn,e.Power2=Rn,e.Power3=Fn,e.Power4=Vn,e.Quad=qn,e.Quart=Yn,e.Quint=Hn,e.Sine=Qn,e.SteppedEase=Gn,e.Strong=Wn,e.TimelineLite=_t,e.TimelineMax=_t,e.TweenLite=Mt,e.TweenMax=Mt,e.default=Ci,e.gsap=Ci,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function t(){return"undefined"!=typeof window}function n(){return i||t()&&(i=window.gsap)&&i.registerPlugin&&i}function p(e){return Math.round(1e4*e)/1e4}function f(e){return parseFloat(e||0)}function v(e,t){return f(e.getAttribute(t))}function y(e,t,n,i,r,o){return P(Math.pow((f(n)-f(e))*r,2)+Math.pow((f(i)-f(t))*o,2))}function b(e){return"non-scaling-stroke"===e.getAttribute("vector-effect")}function m(e){if(!(e=w(e)[0]))return 0;var t,n,i,r,o,s,a,l=e.tagName.toLowerCase(),c=e.style,u=1,d=1;b(e)&&(d=e.getScreenCTM(),u=P(d.a*d.a+d.b*d.b),d=P(d.d*d.d+d.c*d.c));try{n=e.getBBox()}catch(e){}var h=n||{x:0,y:0,width:0,height:0},p=h.x,f=h.y,m=h.width,g=h.height;if(n&&(m||g)||!C[l]||(m=v(e,C[l][0]),g=v(e,C[l][1]),"rect"!==l&&"line"!==l&&(m*=2,g*=2),"line"===l&&(p=v(e,"x1"),f=v(e,"y1"),m=Math.abs(m-p),g=Math.abs(g-f))),"path"===l)r=c.strokeDasharray,c.strokeDasharray="none",t=e.getTotalLength()||0,t*=(u+d)/2,c.strokeDasharray=r;else if("rect"===l)t=2*m*u+2*g*d;else if("line"===l)t=y(p,f,p+m,f+g,u,d);else if("polyline"===l||"polygon"===l)for(i=e.getAttribute("points").match(S)||[],"polygon"===l&&i.push(i[0],i[1]),t=0,o=2;o<i.length;o+=2)t+=y(i[o-2],i[o-1],i[o],i[o+1],u,d)||0;else"circle"!==l&&"ellipse"!==l||(s=m/2*u,a=g/2*d,t=Math.PI*(3*(s+a)-P((3*s+a)*(s+3*a))));return t||0}function g(e,t){if(!(e=w(e)[0]))return[0,0];t=t||m(e)+1;var n=_.getComputedStyle(e),i=n.strokeDasharray||"",r=f(n.strokeDashoffset),o=i.indexOf(",");return o<0&&(o=i.indexOf(" ")),t<(i=o<0?t:f(i.substr(0,o))||1e-5)&&(i=t),[Math.max(0,-r),Math.max(0,i-r)]}function x(){t()&&(_=window,T=i=n(),w=i.utils.toArray,k=-1!==((_.navigator||{}).userAgent||"").indexOf("Edge"))}var i,w,_,k,T,S=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,C={rect:["width","height"],circle:["r","r"],ellipse:["rx","ry"],line:["x2","y2"]},P=Math.sqrt,r={version:"3.0.4",name:"drawSVG",register:function(e){i=e,x()},init:function(e,t){if(!e.getBBox)return!1;T||x();var n,i,r,o,s,a,l,c,u,d,h=m(e)+1;return this._style=e.style,this._target=e,t+""=="true"?t="0 100%":t?-1===(t+"").indexOf(" ")&&(t="0 "+t):t="0 0",s=t,l=(n=g(e,a=h))[0],d=s.indexOf(" "),u=d<0?(c=void 0!==l?l+"":s,s):(c=s.substr(0,d),s.substr(d+1)),c=~c.indexOf("%")?f(c)/100*a:f(c),i=(u=~u.indexOf("%")?f(u)/100*a:f(u))<c?[u,c]:[c,u],this._length=p(h+10),0===n[0]&&0===i[0]?(r=Math.max(1e-5,i[1]-h),this._dash=p(h+r),this._offset=p(h-n[1]+r),this._offsetPT=this.add(this,"_offset",this._offset,p(h-i[1]+r))):(this._dash=p(n[1]-n[0])||1e-6,this._offset=p(-n[0]),this._dashPT=this.add(this,"_dash",this._dash,p(i[1]-i[0])||1e-5),this._offsetPT=this.add(this,"_offset",this._offset,p(-i[0]))),k&&(o=_.getComputedStyle(e)).strokeLinecap!==o.strokeLinejoin&&(i=f(o.strokeMiterlimit),this.add(e.style,"strokeMiterlimit",i,i+.01)),this._live=b(e)||~(t+"").indexOf("live"),this._props.push("drawSVG"),1},render:function(e,t){var n,i,r,o,s=t._pt,a=t._style;if(s){for(t._live&&(n=m(t._target)+11)!==t._length&&(i=n/t._length,t._length=n,t._offsetPT.s*=i,t._offsetPT.c*=i,t._dashPT?(t._dashPT.s*=i,t._dashPT.c*=i):t._dash*=i);s;)s.r(e,s.d),s=s._next;r=t._dash,o=t._offset,n=t._length,a.strokeDashoffset=t._offset,1!==e&&e?a.strokeDasharray=r+"px,"+n+"px":(r-o<.001&&n-r<=10&&(a.strokeDashoffset=o+1),a.strokeDasharray=o<.001&&n-r<=10?"none":o===r?"0px, 999999px":r+"px,"+n+"px")}},getLength:m,getPosition:g};n()&&i.registerPlugin(r),e.DrawSVGPlugin=r,e.default=r,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function c(e,t){if(e.parentNode&&(u||function(e){var t=e.ownerDocument||e;!(y in e.style)&&"msTransform"in e.style&&(b=(y="msTransform")+"Origin");for(;t.parentNode&&(t=t.parentNode););return d=window,v=new _e,t&&(h=(u=t).documentElement,f=t.body),t}(e))){var n=T(e),i=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",r=n?t?"rect":"g":"div",o=2!==t?0:100,s=3===t?100:0,a="position:absolute;display:block;pointer-events:none;",l=u.createElementNS?u.createElementNS(i.replace(/^https/,"http"),r):u.createElement(r);return t&&(n?(g=g||c(e),l.setAttribute("width",1),l.setAttribute("height",1),l.setAttribute("transform","translate("+o+","+s+")"),g.appendChild(l)):(m||((m=c(e)).style.cssText=a),l.style.cssText=a+"width:1px;height:1px;top:"+s+"px;left:"+o+"px",m.appendChild(l))),l}throw"Need document and parent."}function p(e,t,n,i,r,o,s){return e.a=t,e.b=n,e.c=i,e.d=r,e.e=o,e.f=s,e}var u,d,h,f,m,g,v,t,y="transform",b=y+"Origin",x=[],w=[],_=function(){return d.pageYOffset||u.scrollTop||h.scrollTop||f.scrollTop||0},k=function(){return d.pageXOffset||u.scrollLeft||h.scrollLeft||f.scrollLeft||0},T=function(e){return e.ownerSVGElement||("svg"===(e.tagName+"").toLowerCase()?e:null)},S=function e(t){return"fixed"===d.getComputedStyle(t).position||((t=t.parentNode)&&1===t.nodeType?e(t):void 0)},C=function(e){var t,n,i,r,o,s=T(e),a=e===s,l=s?x:w;return e===d?e:(l.length||l.push(c(e,1),c(e,2),c(e,3)),t=s?g:m,s?(i=a?{x:0,y:0}:e.getBBox(),(n=e.transform?e.transform.baseVal:[]).length?(r=(n=n.consolidate().matrix).a*i.x+n.c*i.y,o=n.b*i.x+n.d*i.y):(n=v,"g"===e.tagName.toLowerCase()?r=o=0:(r=i.x,o=i.y)),t.setAttribute("transform","matrix("+n.a+","+n.b+","+n.c+","+n.d+","+(n.e+r)+","+(n.f+o)+")"),(a?s:e.parentNode).appendChild(t)):(t.style.top=e.offsetTop+"px",t.style.left=e.offsetLeft+"px",n=d.getComputedStyle(e),t.style[y]=n[y],t.style[b]=n[b],t.style.position="fixed"===n.position?"fixed":"absolute",e.parentNode.appendChild(t)),t)},_e=((t=n.prototype).inverse=function(){var e=this.a,t=this.b,n=this.c,i=this.d,r=this.e,o=this.f,s=e*i-t*n;return p(this,i/s,-t/s,-n/s,e/s,(n*o-i*r)/s,-(e*o-t*r)/s)},t.multiply=function(e){var t=this.a,n=this.b,i=this.c,r=this.d,o=this.e,s=this.f,a=e.a,l=e.c,c=e.b,u=e.d,d=e.e,h=e.f;return p(this,a*t+c*i,a*n+c*r,l*t+u*i,l*n+u*r,o+d*t+h*i,s+d*n+h*r)},t.equals=function(e){var t=this.a,n=this.b,i=this.c,r=this.d,o=this.e,s=this.f;return t===e.a&&n===e.b&&i===e.c&&r===e.d&&o===e.e&&s===e.f},t.apply=function(e,t){void 0===t&&(t={});var n=e.x,i=e.y,r=this.a,o=this.b,s=this.c,a=this.d,l=this.e,c=this.f;return t.x=n*r+i*s+l,t.y=n*o+i*a+c,t},n);function n(e,t,n,i,r,o){void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=1),void 0===r&&(r=0),void 0===o&&(o=0),p(this,e,t,n,i,r,o)}function ke(e,t){if(!e||!e.parentNode)return new _e;var n=T(e)?x:w,i=C(e),r=n[0].getBoundingClientRect(),o=n[1].getBoundingClientRect(),s=n[2].getBoundingClientRect(),a=i.parentNode,l=S(e),c=new _e((o.left-r.left)/100,(o.top-r.top)/100,(s.left-r.left)/100,(s.top-r.top)/100,r.left+(l?0:k()),r.top+(l?0:_()));return a.removeChild(i),t?c.inverse():c}function o(){return"undefined"!=typeof window}function s(){return Qe||o()&&(Qe=window.gsap)&&Qe.registerPlugin&&Qe}function Te(e){return"function"==typeof e}function Se(e){return"object"==typeof e}function Ce(e){return void 0===e}function a(){return!1}function Pe(e){return Math.round(1e4*e)/1e4}function l(e,t){var n=Je.createElementNS?Je.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Je.createElement(e);return n.style?n:Je.createElement(e)}function Ae(e,t){var n,i={};for(n in e)i[n]=t?e[n]*t:e[n];return i}function Me(){return gt.forEach(function(e){return e()})}function i(){return!gt.length&&Qe.ticker.remove(Me)}function Ee(e){for(var t=gt.length;t--;)gt[t]===e&&gt.splice(t,1);Qe.to(i,{overwrite:!0,delay:15,duration:0,onComplete:i,data:"_draggable"})}function Ie(e,t,n,i){if(e.addEventListener){var r=it[t];i=i||(O?{passive:!1}:null),e.addEventListener(r||t,n,i),r&&t!==r&&"pointer"!==r.substr(0,7)&&e.addEventListener(t,n,i)}}function Oe(e,t,n){if(e.removeEventListener){var i=it[t];e.removeEventListener(i||t,n),i&&t!==i&&"pointer"!==i.substr(0,7)&&e.removeEventListener(t,n)}}function Be(e){e.preventDefault&&(e.preventDefault(),e.preventManipulation&&e.preventManipulation())}function r(e){ot=e.touches&&rt<e.touches.length,Oe(e.target,"touchend",r)}function Le(e){ot=e.touches&&rt<e.touches.length,Ie(e.target,"touchend",r)}function Ne(e){return $e.pageYOffset||e.scrollTop||e.documentElement.scrollTop||e.body.scrollTop||0}function De(e){return $e.pageXOffset||e.scrollLeft||e.documentElement.scrollLeft||e.body.scrollLeft||0}function Re(e,t){Ie(e,"scroll",t),_t(e.parentNode)||Re(e.parentNode,t)}function Fe(e,t){Oe(e,"scroll",t),_t(e.parentNode)||Fe(e.parentNode,t)}function P(e,t){var n="x"===t?"Width":"Height",i="scroll"+n,r="client"+n;return Math.max(0,_t(e)?Math.max(Ze[i],A[i])-($e["inner"+n]||Ze[r]||A[r]):e[i]-e[r])}function Ve(e){var t=P(e,"x"),n=P(e,"y");_t(e)?e=wt:Ve(e.parentNode),e._gsMaxScrollX=t,e._gsMaxScrollY=n,e._gsScrollX=e.scrollLeft||0,e._gsScrollY=e.scrollTop||0}function je(e,t,n){var i=e.style;i&&(Ce(i[t])&&(t=I(t,e)||t),null==n?i.removeProperty&&i.removeProperty(t.replace(/([A-Z])/g,"-$1").toLowerCase()):i[t]=n)}function qe(e){return $e.getComputedStyle(e instanceof Element?e:e.host||(e.parentNode||{}).host||e)}function Xe(e){if(e===$e)return F.left=F.top=0,F.width=F.right=Ze.clientWidth||e.innerWidth||A.clientWidth||0,F.height=F.bottom=(e.innerHeight||0)-20<Ze.clientHeight?Ze.clientHeight:e.innerHeight||A.clientHeight||0,F;var t=e.ownerDocument||Je,n=Ce(e.pageX)?e.nodeType||Ce(e.left)||Ce(e.top)?tt(e)[0].getBoundingClientRect():e:{left:e.pageX-De(t),top:e.pageY-Ne(t),right:e.pageX-De(t)+1,bottom:e.pageY-Ne(t)+1};return Ce(n.right)&&!Ce(n.width)?(n.right=n.left+n.width,n.bottom=n.top+n.height):Ce(n.width)&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n}function Ye(e,t,n){var i,r=e.vars,o=r[n],s=e._listeners[t];return Te(o)&&(i=o.apply(r.callbackScope||e,r[n+"Params"]||[e.pointerEvent])),s&&!1===e.dispatchEvent(t)&&(i=!1),i}function He(e,t){var n,i,r,o=tt(e)[0];return o.nodeType||o===$e?V(o,t):Ce(e.left)?{left:i=e.min||e.minX||e.minRotation||0,top:n=e.min||e.minY||0,width:(e.max||e.maxX||e.maxRotation||0)-i,height:(e.max||e.maxY||0)-n}:(r={x:0,y:0},{left:e.left-r.x,top:e.top-r.y,width:e.width,height:e.height})}function We(r,o,e,t,s,n){var i,a,l,c={};if(o)if(1!==s&&o instanceof Array){if(c.end=i=[],l=o.length,Se(o[0]))for(a=0;a<l;a++)i[a]=Ae(o[a],s);else for(a=0;a<l;a++)i[a]=o[a]*s;e+=1.1,t-=1.1}else Te(o)?c.end=function(e){var t,n,i=o.call(r,e);if(1!==s)if(Se(i)){for(n in t={},i)t[n]=i[n]*s;i=t}else i*=s;return i}:c.end=o;return!e&&0!==e||(c.max=e),!t&&0!==t||(c.min=t),n&&(c.velocity=0),c}function ze(e){var t;return!(!e||!e.getAttribute||e===A)&&(!("true"!==(t=e.getAttribute("data-clickable"))&&("false"===t||!e.onclick&&!R.test(e.nodeName+"")&&"true"!==e.getAttribute("contentEditable")))||ze(e.parentNode))}function Ue(e,t){for(var n,i=e.length;i--;)(n=e[i]).ondragstart=n.onselectstart=t?null:a,Qe.set(n,{lazy:!0,userSelect:t?"text":"none"})}function Ge(o,r){o=Qe.utils.toArray(o)[0],r=r||{};var s,a,l,e,c,u,d=document.createElement("div"),h=d.style,t=o.firstChild,p=0,f=0,m=o.scrollTop,g=o.scrollLeft,v=o.scrollWidth,y=o.scrollHeight,b=0,x=0,w=0;B&&!1!==r.force3D?(c="translate3d(",u="px,0px)"):D&&(c="translate(",u="px)"),this.scrollTop=function(e,t){if(!arguments.length)return-this.top();this.top(-e,t)},this.scrollLeft=function(e,t){if(!arguments.length)return-this.left();this.left(-e,t)},this.left=function(e,t){if(!arguments.length)return-(o.scrollLeft+f);var n=o.scrollLeft-g,i=f;if((2<n||n<-2)&&!t)return g=o.scrollLeft,Qe.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-g),void(r.onKill&&r.onKill());(e=-e)<0?(f=e-.5|0,e=0):x<e?(f=e-x|0,e=x):f=0,(f||i)&&(this._skip||(h[D]=c+-f+"px,"+-p+u),0<=f+b&&(h.paddingRight=f+b+"px")),o.scrollLeft=0|e,g=o.scrollLeft},this.top=function(e,t){if(!arguments.length)return-(o.scrollTop+p);var n=o.scrollTop-m,i=p;if((2<n||n<-2)&&!t)return m=o.scrollTop,Qe.killTweensOf(this,{top:1,scrollTop:1}),this.top(-m),void(r.onKill&&r.onKill());(e=-e)<0?(p=e-.5|0,e=0):w<e?(p=e-w|0,e=w):p=0,(p||i)&&(this._skip||(h[D]=c+-f+"px,"+-p+u)),o.scrollTop=0|e,m=o.scrollTop},this.maxScrollTop=function(){return w},this.maxScrollLeft=function(){return x},this.disable=function(){for(t=d.firstChild;t;)e=t.nextSibling,o.appendChild(t),t=e;o===d.parentNode&&o.removeChild(d)},this.enable=function(){if((t=o.firstChild)!==d){for(;t;)e=t.nextSibling,d.appendChild(t),t=e;o.appendChild(d),this.calibrate()}},this.calibrate=function(e){var t,n,i,r=o.clientWidth===s;m=o.scrollTop,g=o.scrollLeft,r&&o.clientHeight===a&&d.offsetHeight===l&&v===o.scrollWidth&&y===o.scrollHeight&&!e||((p||f)&&(n=this.left(),i=this.top(),this.left(-o.scrollLeft),this.top(-o.scrollTop)),t=qe(o),r&&!e||(h.display="block",h.width="auto",h.paddingRight="0px",(b=Math.max(0,o.scrollWidth-o.clientWidth))&&(b+=parseFloat(t.paddingLeft)+(L?parseFloat(t.paddingRight):0))),h.display="inline-block",h.position="relative",h.overflow="visible",h.verticalAlign="top",h.boxSizing="content-box",h.width="100%",h.paddingRight=b+"px",L&&(h.paddingBottom=t.paddingBottom),s=o.clientWidth,a=o.clientHeight,v=o.scrollWidth,y=o.scrollHeight,x=o.scrollWidth-s,w=o.scrollHeight-a,l=d.offsetHeight,h.display="block",(n||i)&&(this.left(n),this.top(i)))},this.content=d,this.element=o,this._skip=!1,this.enable()}function Ke(){var e,t,n,i,r;o()&&document.body&&($e=window,Je=document,Ze=Je.documentElement,A=Je.body,M=l("div"),ct=!!window.PointerEvent,(et=l("div")).style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",lt="grab"===et.style.cursor?"grab":"move",st=$e.navigator&&-1!==$e.navigator.userAgent.toLowerCase().indexOf("android"),nt="ontouchstart"in Ze&&"orientation"in $e,t=l("div"),i=(n=l("div")).style,r=A,i.display="inline-block",i.position="relative",t.style.cssText=n.innerHTML="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",t.appendChild(n),r.appendChild(t),e=n.offsetHeight+18>t.scrollHeight,r.removeChild(t),L=e,it=function(e){for(var t=e.split(","),n=(Ce(M.onpointerdown)?Ce(M.onmspointerdown)?e:"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":"pointerdown,pointermove,pointerup,pointercancel").split(","),i={},r=4;-1<--r;)i[t[r]]=n[r],i[n[r]]=t[r];try{Ze.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){O=1}}))}catch(e){}return i}("touchstart,touchmove,touchend,touchcancel"),Ie(Je,"touchcancel",a),Ie($e,"touchmove",a),A&&A.addEventListener("touchstart",a),Ie(Je,"contextmenu",function(){for(var e in vt)vt[e].isPressed&&vt[e].endDrag()}),Qe=E=s()),Qe&&(at=Qe.plugins.inertia,I=Qe.utils.checkPrefix,D=I(D),ut=I(ut),tt=Qe.utils.toArray,B=!!I("perspective"))}var Qe,$e,Je,Ze,A,M,et,E,I,tt,O,nt,it,rt,ot,st,at,lt,ct,B,L,N,D="transform",ut="transformOrigin",dt=Array.isArray,ht=180/Math.PI,pt=1e20,ft=new _e,mt=Date.now||function(){return(new Date).getTime()},gt=[],vt={},yt=0,R=/^(?:a|input|textarea|button|select)$/i,bt=0,xt={},wt={},_t=function(e){return!(e&&e!==Ze&&9!==e.nodeType&&e!==Je.body&&e!==$e&&e.nodeType&&e.parentNode)},F={},kt={},V=function(e,t){t=tt(t)[0];var n,i,r,o,s,a,l,c,u,d,h,p,f,m,g=e.getBBox&&e.ownerSVGElement,v=e.ownerDocument||Je;if(e===$e)r=Ne(v),i=(n=De(v))+(v.documentElement.clientWidth||e.innerWidth||v.body.clientWidth||0),o=r+((e.innerHeight||0)-20<v.documentElement.clientHeight?v.documentElement.clientHeight:e.innerHeight||v.body.clientHeight||0);else{if(t===$e||Ce(t))return e.getBoundingClientRect();n=r=0,g?(h=(d=e.getBBox()).width,p=d.height):(e.viewBox&&(d=e.viewBox.baseVal)&&(n=d.x||0,r=d.y||0,h=d.width,p=d.height),h||(f=qe(e),h=(parseFloat(f.width)||e.clientWidth||0)+parseFloat(f.borderLeftWidth)+parseFloat(f.borderRightWidth),p=(parseFloat(f.height)||e.clientHeight||0)+parseFloat(f.borderTopWidth)+parseFloat(f.borderBottomWidth))),i=h,o=p}return e===t?{left:n,top:r,width:i-n,height:o-r}:(a=(s=ke(t,!0).multiply(ke(e))).apply({x:n,y:r}),l=s.apply({x:i,y:r}),c=s.apply({x:i,y:o}),u=s.apply({x:n,y:o}),n=Math.min(a.x,l.x,c.x,u.x),r=Math.min(a.y,l.y,c.y,u.y),{left:n+((m=t.parentNode||{}).scrollLeft||0),top:r+(m.scrollTop||0),width:Math.max(a.x,l.x,c.x,u.x)-n,height:Math.max(a.y,l.y,c.y,u.y)-r})},j=((N=q.prototype).addEventListener=function(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);~n.indexOf(t)||n.push(t)},N.removeEventListener=function(e,t){var n=this._listeners[e],i=n&&n.indexOf(t)||-1;-1<i&&n.splice(i,1)},N.dispatchEvent=function(t){var n,i=this;return(this._listeners[t]||[]).forEach(function(e){return!1===e.call(i,{type:t,target:i.target})&&(n=!1)}),n},q);function q(e){this._listeners={},this.target=e||this}var Tt,X,Y,H=(Y=Tt=j,(X=St).prototype=Object.create(Y.prototype),(X.prototype.constructor=X).__proto__=Y,St.register=function(e){Qe=e,Ke()},St.create=function(e,t){return E||Ke(),tt(e).map(function(e){return new St(e,t)})},St.get=function(e){return vt[(tt(e)[0]||{})._gsDragID]},St.timeSinceDrag=function(){return(mt()-bt)/1e3},St.hitTest=function(e,t,n){if(e===t)return!1;var i,r,o,s=Xe(e),a=Xe(t),l=s.top,c=s.left,u=s.right,d=s.bottom,h=s.width,p=s.height,f=a.left>u||a.right<c||a.top>d||a.bottom<l;return f||!n?!f:(o=-1!==(n+"").indexOf("%"),n=parseFloat(n)||0,(i={left:Math.max(c,a.left),top:Math.max(l,a.top)}).width=Math.min(u,a.right)-i.left,i.height=Math.min(d,a.bottom)-i.top,!(i.width<0||i.height<0)&&(o?h*p*(n*=.01)<=(r=i.width*i.height)||r>=a.width*a.height*n:i.width>n&&i.height>n))},St);function St(f,m){var e;function o(e,t){return parseFloat(me.get(f,e,t))}function s(e){if(!(re.isPressed&&e.which<2))return Be(e),e.stopPropagation(),!1;re.endDrag()}function p(e){if(re.autoScroll&&re.isDragging&&(le||F)){var t,n,i,r,o,s,a,l,c=f,u=15*re.autoScroll;for(le=!1,wt.scrollTop=null!=$e.pageYOffset?$e.pageYOffset:null!=ve.documentElement.scrollTop?ve.documentElement.scrollTop:ve.body.scrollTop,wt.scrollLeft=null!=$e.pageXOffset?$e.pageXOffset:null!=ve.documentElement.scrollLeft?ve.documentElement.scrollLeft:ve.body.scrollLeft,r=re.pointerX-wt.scrollLeft,o=re.pointerY-wt.scrollTop;c&&!n;)t=(n=_t(c.parentNode))?wt:c.parentNode,i=n?{bottom:Math.max(Ze.clientHeight,$e.innerHeight||0),right:Math.max(Ze.clientWidth,$e.innerWidth||0),left:0,top:0}:t.getBoundingClientRect(),s=a=0,ne&&((l=t._gsMaxScrollY-t.scrollTop)<0?a=l:o>i.bottom-de&&l?(le=!0,a=Math.min(l,u*(1-Math.max(0,i.bottom-o)/de)|0)):o<i.top+ce&&t.scrollTop&&(le=!0,a=-Math.min(t.scrollTop,u*(1-Math.max(0,o-i.top)/ce)|0)),a&&(t.scrollTop+=a)),te&&((l=t._gsMaxScrollX-t.scrollLeft)<0?s=l:r>i.right-ue&&l?(le=!0,s=Math.min(l,u*(1-Math.max(0,i.right-r)/ue)|0)):r<i.left+he&&t.scrollLeft&&(le=!0,s=-Math.min(t.scrollLeft,u*(1-Math.max(0,r-i.left)/he)|0)),s&&(t.scrollLeft+=s)),n&&(s||a)&&($e.scrollTo(t.scrollLeft,t.scrollTop),xe(re.pointerX+s,re.pointerY+a)),c=t}if(F){var d=re.x,h=re.y;J?(re.deltaX=d-parseFloat(me.rotation),re.rotation=d,me.rotation=d+"deg",me.renderTransform(1,me)):k?(ne&&(re.deltaY=h-k.top(),k.top(h)),te&&(re.deltaX=d-k.left(),k.left(d))):$?(ne&&(re.deltaY=h-parseFloat(me.y),me.y=h+"px"),te&&(re.deltaX=d-parseFloat(me.x),me.x=d+"px"),me.renderTransform(1,me)):(ne&&(re.deltaY=h-parseFloat(f.style.top||0),f.style.top=h+"px"),te&&(re.deltaY=d-parseFloat(f.style.left||0),f.style.left=d+"px")),!M||e||G||(!(G=!0)===Ye(re,"drag","onDrag")&&(te&&(re.x-=re.deltaX),ne&&(re.y-=re.deltaY),p(!0)),G=!1)}F=!1}function l(e,t){var n,i,r=re.x,o=re.y;f._gsap||(me=Qe.core.getCache(f)),$?(re.x=parseFloat(me.x),re.y=parseFloat(me.y)):J?re.x=re.rotation=parseFloat(me.rotation):k?(re.y=k.top(),re.x=k.left()):(re.y=parseInt(f.style.top||(i=qe(f))&&i.top,10)||0,re.x=parseInt(f.style.left||(i||{}).left,10)||0),(V||j||q)&&!t&&(re.isDragging||re.isThrowing)&&(q&&(xt.x=re.x,xt.y=re.y,(n=q(xt)).x!==re.x&&(re.x=n.x,F=!0),n.y!==re.y&&(re.y=n.y,F=!0)),V&&(n=V(re.x))!==re.x&&(re.x=n,J&&(re.rotation=n),F=!0),j&&((n=j(re.y))!==re.y&&(re.y=n),F=!0)),F&&p(!0),e||(re.deltaX=re.x-r,re.deltaY=re.y-o,Ye(re,"throwupdate","onThrowUpdate"))}function r(s,a,l,n){return null==a&&(a=-pt),null==l&&(l=pt),Te(s)?function(e){var t=re.isPressed?1-re.edgeResistance:1;return s.call(re,l<e?l+(e-l)*t:e<a?a+(e-a)*t:e)*n}:dt(s)?function(e){for(var t,n,i=s.length,r=0,o=pt;-1<--i;)(n=(t=s[i])-e)<0&&(n=-n),n<o&&a<=t&&t<=l&&(r=i,o=n);return s[r]}:isNaN(s)?function(e){return e}:function(){return s*n}}function c(){var e,t,n,i,l,a,c,u,d,h,p;A=!1,k?(k.calibrate(),re.minX=O=-k.maxScrollLeft(),re.minY=L=-k.maxScrollTop(),re.maxX=I=re.maxY=B=0,A=!0):m.bounds&&(e=He(m.bounds,f.parentNode),J?(re.minX=O=e.left,re.maxX=I=e.left+e.width,re.minY=L=re.maxY=B=0):Ce(m.bounds.maxX)&&Ce(m.bounds.maxY)?(t=He(f,f.parentNode),re.minX=O=Math.round(o(Z,"px")+e.left-t.left),re.minY=L=Math.round(o(ee,"px")+e.top-t.top),re.maxX=I=Math.round(O+(e.width-t.width)),re.maxY=B=Math.round(L+(e.height-t.height))):(e=m.bounds,re.minX=O=e.minX,re.minY=L=e.minY,re.maxX=I=e.maxX,re.maxY=B=e.maxY),I<O&&(re.minX=I,re.maxX=I=O,O=re.minX),B<L&&(re.minY=B,re.maxY=B=L,L=re.minY),J&&(re.minRotation=O,re.maxRotation=I),A=!0),m.liveSnap&&(n=!0===m.liveSnap?m.snap||{}:m.liveSnap,i=dt(n)||Te(n),J?(V=r(i?n:n.rotation,O,I,1),j=null):n.points?(l=i?n:n.points,a=O,c=I,u=L,d=B,h=n.radius,p=k?-1:1,h=h&&h<pt?h*h:pt,q=Te(l)?function(e){var t,n,i,r=re.isPressed?1-re.edgeResistance:1,o=e.x,s=e.y;return e.x=o=c<o?c+(o-c)*r:o<a?a+(o-a)*r:o,e.y=s=d<s?d+(s-d)*r:s<u?u+(s-u)*r:s,(t=l.call(re,e))!==e&&(e.x=t.x,e.y=t.y),1!==p&&(e.x*=p,e.y*=p),h<pt&&(n=e.x-o,i=e.y-s,h<n*n+i*i&&(e.x=o,e.y=s)),e}:dt(l)?function(e){for(var t,n,i,r,o=l.length,s=0,a=pt;-1<--o;)(r=(t=(i=l[o]).x-e.x)*t+(n=i.y-e.y)*n)<a&&(s=o,a=r);return a<=h?l[s]:e}:function(e){return e}):(te&&(V=r(i?n:n.x||n.left||n.scrollLeft,O,I,k?-1:1)),ne&&(j=r(i?n:n.y||n.top||n.scrollTop,L,B,k?-1:1))))}function a(){re.isThrowing=!1,Ye(re,"throwcomplete","onThrowComplete")}function u(){re.isThrowing=!1}function h(e,t){var n,i,r,o;e&&at?(!0===e&&(n=m.snap||m.liveSnap||{},i=dt(n)||Te(n),e={resistance:(m.throwResistance||m.resistance||1e3)/(J?10:1)},J?e.rotation=We(re,i?n:n.rotation,I,O,1,t):(te&&(e[Z]=We(re,i?n:n.points||n.x||n.left,I,O,k?-1:1,t||"x"===re.lockedAxis)),ne&&(e[ee]=We(re,i?n:n.points||n.y||n.top,B,L,k?-1:1,t||"y"===re.lockedAxis)),(n.points||dt(n)&&Se(n[0]))&&(e.linkedProps=Z+","+ee,e.radius=n.radius))),re.isThrowing=!0,o=isNaN(m.overshootTolerance)?1===m.edgeResistance?0:1-re.edgeResistance+.2:m.overshootTolerance,e.duration||(e.duration={max:Math.max(m.minDuration||0,"maxDuration"in m?m.maxDuration:2),min:isNaN(m.minDuration)?0===o||Se(e)&&1e3<e.resistance?0:.5:m.minDuration,overshoot:o}),re.tween=r=Qe.to(k||f,{inertia:e,data:"_draggable",onComplete:a,onInterrupt:u,onUpdate:m.fastMode?Ye:l,onUpdateParams:m.fastMode?[re,"onthrowupdate","onThrowUpdate"]:n&&n.radius?[!1,!0]:[]}),m.fastMode||(k&&(k._skip=!0),r.render(r.duration(),!0,!0),l(!0,!0),re.endX=re.x,re.endY=re.y,J&&(re.endRotation=re.x),r.play(0),l(!0,!0),k&&(k._skip=!1))):A&&re.applyBounds()}function d(e){var t,n=H;H=ke(f.parentNode,!0),e&&re.isPressed&&!H.equals(n||new _e)&&(t=n.inverse().apply({x:T,y:S}),H.apply(t,t),T=t.x,S=t.y),H.equals(ft)&&(H=null)}function g(){var e,t,n,i,r=1-re.edgeResistance;d(!1),H&&(kt.x=re.pointerX,kt.y=re.pointerY,H.apply(kt,kt),T=kt.x,S=kt.y),F&&(xe(re.pointerX,re.pointerY),p(!0)),k?(c(),P=k.top(),C=k.left()):(ye()?(l(!0,!0),c()):re.applyBounds(),J?(e=f.ownerSVGElement?[me.xOrigin-f.getBBox().x,me.yOrigin-f.getBBox().y]:(qe(f)[ut]||"0 0").split(" "),R=re.rotationOrigin=ke(f).apply({x:parseFloat(e[0])||0,y:parseFloat(e[1])||0}),l(!0,!0),n=re.pointerX-R.x,i=R.y-re.pointerY,ge&&(n-=De(ve),i+=Ne(ve)),C=re.x,P=re.y=Math.atan2(i,n)*ht):((t=!ge&&f.parentNode)&&t.scrollTop,t&&t.scrollLeft,P=o(ee,"px"),C=o(Z,"px"))),A&&r&&(I<C?C=I+(C-I)/r:C<O&&(C=O-(O-C)/r),J||(B<P?P=B+(P-B)/r:P<L&&(P=L-(L-P)/r))),re.startX=C,re.startY=P}function v(){!et.parentNode||ye()||re.isDragging||et.parentNode.removeChild(et)}function y(e,t){var n,i;if(_&&!re.isPressed&&e&&("mousedown"!==e.type&&"pointerdown"!==e.type||t||!(mt()-fe<30)||!it[re.pointerEvent.type])){if(W=ye(),re.pointerEvent=e,it[e.type]?(Ie(Y=~e.type.indexOf("touch")?e.currentTarget||e.target:ve,"touchend",we),Ie(Y,"touchmove",be),Ie(Y,"touchcancel",we),Ie(ve,"touchstart",Le)):(Y=null,Ie(ve,"mousemove",be)),U=null,ct||(Ie(ve,"mouseup",we),e&&e.target&&Ie(e.target,"mouseup",we)),X=pe.call(re,e.target)&&!1===m.dragClickables&&!t)return Ie(e.target,"change",we),Ye(re,"pressInit","onPressInit"),Ye(re,"press","onPress"),void Ue(oe,!0);if((z=!(!Y||te==ne||!1===re.vars.allowNativeTouchScrolling||re.vars.allowContextMenu&&e&&(e.ctrlKey||2<e.which))&&(te?"y":"x"))||re.allowEventDefault||(Be(e),Ie($e,"touchforcechange",Be)),e.changedTouches?(e=N=e.changedTouches[0],D=e.identifier):e.pointerId?D=e.pointerId:N=D=null,rt++,i=p,gt.push(i),1===gt.length&&Qe.ticker.add(Me),S=re.pointerY=e.pageY,T=re.pointerX=e.pageX,Ye(re,"pressInit","onPressInit"),(z||re.autoScroll)&&Ve(f.parentNode),!f.parentNode||!re.autoScroll||k||J||!f.parentNode._gsMaxScrollX||et.parentNode||f.getBBox||(et.style.width=f.parentNode.scrollWidth+"px",f.parentNode.appendChild(et)),g(),re.tween&&re.tween.kill(),re.isThrowing=!1,Qe.killTweensOf(k||f,se,!0),k&&Qe.killTweensOf(f,{scrollTo:1},!0),re.tween=re.lockedAxis=null,!m.zIndexBoost&&(J||k||!1===m.zIndexBoost)||(f.style.zIndex=St.zIndex++),re.isPressed=!0,M=!(!m.onDrag&&!re._listeners.drag),E=!(!m.onMove&&!re._listeners.move),!J&&(!1!==m.cursor||m.activeCursor))for(n=oe.length;-1<--n;)Qe.set(oe[n],{cursor:m.activeCursor||m.cursor||("grab"===lt?"grabbing":lt)});Ye(re,"press","onPress")}}function b(e){if(e&&re.isDragging&&!k){var t=e.target||f.parentNode,n=t.scrollLeft-t._gsScrollX,i=t.scrollTop-t._gsScrollY;(n||i)&&(H?(T-=n*H.a+i*H.c,S-=i*H.d+n*H.b):(T-=n,S-=i),t._gsScrollX+=n,t._gsScrollY+=i,xe(re.pointerX,re.pointerY))}}function x(e){var t=mt(),n=t-fe<40,i=t-ae<40,r=n&&K===fe,o=re.pointerEvent&&re.pointerEvent.defaultPrevented,s=n&&Q===fe,a=e.isTrusted||null==e.isTrusted&&n&&r;if((r||i&&!1!==re.vars.suppressClickOnDrag)&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),n&&(!re.pointerEvent||!re.pointerEvent.defaultPrevented)&&(!r||a&&!s))return a&&r&&(Q=fe),void(K=fe);(re.isPressed||i||n)&&(a&&e.detail&&n&&!o||Be(e))}function w(e){return H?{x:e.x*H.a+e.y*H.c+H.e,y:e.x*H.b+e.y*H.d+H.f}:{x:e.x,y:e.y}}e=Tt.call(this)||this,Qe||Ke(),f=tt(f)[0],at=at||Qe.plugins.inertia,e.vars=m=Ae(m||{}),e.target=f,e.x=e.y=e.rotation=0,e.dragResistance=parseFloat(m.dragResistance)||0,e.edgeResistance=isNaN(m.edgeResistance)?1:parseFloat(m.edgeResistance)||0,e.lockAxis=m.lockAxis,e.autoScroll=m.autoScroll||0,e.lockedAxis=null,e.allowEventDefault=!!m.allowEventDefault,Qe.getProperty(f,"x");var _,k,T,S,C,P,A,M,E,I,O,B,L,N,D,R,F,t,V,j,q,X,Y,H,W,z,U,G,K,Q,n=(m.type||"x,y").toLowerCase(),$=~n.indexOf("x")||~n.indexOf("y"),J=-1!==n.indexOf("rotation"),Z=J?"rotation":$?"x":"left",ee=$?"y":"top",te=!(!~n.indexOf("x")&&!~n.indexOf("left")&&"scroll"!==n),ne=!(!~n.indexOf("y")&&!~n.indexOf("top")&&"scroll"!==n),ie=m.minimumMovement||2,re=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),oe=tt(m.trigger||m.handle||f),se={},ae=0,le=!1,ce=m.autoScrollMarginTop||40,ue=m.autoScrollMarginRight||40,de=m.autoScrollMarginBottom||40,he=m.autoScrollMarginLeft||40,pe=m.clickableTest||ze,fe=0,me=f._gsap||Qe.core.getCache(f),ge=function e(t){return"fixed"===qe(t).position||((t=t.parentNode)&&1===t.nodeType?e(t):void 0)}(f),ve=f.ownerDocument||Je,ye=function(){return re.tween&&re.tween.isActive()},be=function(e){var t,n,i,r,o,s,a=e;if(_&&!ot&&re.isPressed&&e){if(t=(re.pointerEvent=e).changedTouches){if((e=t[0])!==N&&e.identifier!==D){for(r=t.length;-1<--r&&(e=t[r]).identifier!==D;);if(r<0)return}}else if(e.pointerId&&D&&e.pointerId!==D)return;Y&&z&&!U&&(kt.x=e.pageX,kt.y=e.pageY,H&&H.apply(kt,kt),n=kt.x,i=kt.y,((o=Math.abs(n-T))!==(s=Math.abs(i-S))&&(ie<o||ie<s)||st&&z===U)&&(U=s<o&&te?"x":"y",z&&U!==z&&Ie($e,"touchforcechange",Be),!1!==re.vars.lockAxisOnTouchScroll&&(re.lockedAxis="x"===U?"y":"x",Te(re.vars.onLockAxis)&&re.vars.onLockAxis.call(re,a)),st&&z===U))?we(a):(re.allowEventDefault||z&&(!U||z===U)||!1===a.cancelable||Be(a),re.autoScroll&&(le=!0),xe(e.pageX-(ge?De(ve):0),e.pageY-(ge?Ne(ve):0),E))}},xe=function(e,t,n){var i,r,o,s,a,l,c=1-re.dragResistance,u=1-re.edgeResistance,d=re.pointerX,h=re.pointerY,p=P,f=re.x,m=re.y,g=re.endX,v=re.endY,y=re.endRotation,b=F;re.pointerX=e,re.pointerY=t,J?(s=Math.atan2(R.y-t,e-R.x)*ht,180<(a=re.y-s)?(P-=360,re.y=s):a<-180&&(P+=360,re.y=s),o=re.x!==C||Math.abs(P-s)>ie?(re.y=s,C+(P-s)*c):C):(H&&(l=e*H.a+t*H.c+H.e,t=e*H.b+t*H.d+H.f,e=l),(r=t-S)<ie&&-ie<r&&(r=0),(i=e-T)<ie&&-ie<i&&(i=0),(re.lockAxis||re.lockedAxis)&&(i||r)&&((l=re.lockedAxis)||(re.lockedAxis=l=te&&Math.abs(i)>Math.abs(r)?"y":ne?"x":null,l&&Te(re.vars.onLockAxis)&&re.vars.onLockAxis.call(re,re.pointerEvent)),"y"===l?r=0:"x"===l&&(i=0)),o=Pe(C+i*c),s=Pe(P+r*c)),(V||j||q)&&(re.x!==o||re.y!==s&&!J)?(q&&(xt.x=o,xt.y=s,o=Pe((l=q(xt)).x),s=Pe(l.y)),V&&(o=Pe(V(o))),j&&(s=Pe(j(s)))):A&&(I<o?o=I+Math.round((o-I)*u):o<O&&(o=O+Math.round((o-O)*u)),J||(B<s?s=Math.round(B+(s-B)*u):s<L&&(s=Math.round(L+(s-L)*u)))),re.x===o&&(re.y===s||J)||(J?(re.endRotation=re.x=re.endX=o,F=!0):(ne&&(re.y=re.endY=s,F=!0),te&&(re.x=re.endX=o,F=!0)),n&&!1===Ye(re,"move","onMove")?(re.pointerX=d,re.pointerY=h,P=p,re.x=f,re.y=m,re.endX=g,re.endY=v,re.endRotation=y,F=b):!re.isDragging&&re.isPressed&&(re.isDragging=!0,Ye(re,"dragstart","onDragStart")))},we=function e(t,n){if(_&&re.isPressed&&(!t||null==D||n||!(t.pointerId&&t.pointerId!==D||t.changedTouches&&!function(e,t){for(var n=e.length;n--;)if(e[n].identifier===t)return 1}(t.changedTouches,D)))){re.isPressed=!1;var i,r,o,s,a,l=t,c=re.isDragging,u=re.vars.allowContextMenu&&t&&(t.ctrlKey||2<t.which),d=Qe.delayedCall(.001,v);if(Y?(Oe(Y,"touchend",e),Oe(Y,"touchmove",be),Oe(Y,"touchcancel",e),Oe(ve,"touchstart",Le)):Oe(ve,"mousemove",be),Oe($e,"touchforcechange",Be),ct||(Oe(ve,"mouseup",e),t&&t.target&&Oe(t.target,"mouseup",e)),F=!1,X&&!u)return t&&(Oe(t.target,"change",e),re.pointerEvent=l),Ue(oe,!1),Ye(re,"release","onRelease"),Ye(re,"click","onClick"),void(X=!1);if(Ee(p),!J)for(r=oe.length;-1<--r;)je(oe[r],"cursor",m.cursor||(!1!==m.cursor?lt:null));if(c&&(ae=bt=mt(),re.isDragging=!1),rt--,t){if((i=t.changedTouches)&&(t=i[0])!==N&&t.identifier!==D){for(r=i.length;-1<--r&&(t=i[r]).identifier!==D;);if(r<0)return}re.pointerEvent=l,re.pointerX=t.pageX,re.pointerY=t.pageY}return u&&l?(Be(l),Ye(re,"release","onRelease")):l&&!c?(W&&(m.snap||m.bounds)&&h(m.inertia||m.throwProps),Ye(re,"release","onRelease"),st&&"touchmove"===l.type||-1!==l.type.indexOf("cancel")||(Ye(re,"click","onClick"),mt()-fe<300&&Ye(re,"doubleclick","onDoubleClick"),s=l.target||f,fe=mt(),a=function(){fe===K||!re.enabled()||re.isPressed||l.defaultPrevented||(s.click?s.click():ve.createEvent&&((o=ve.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,$e,1,re.pointerEvent.screenX,re.pointerEvent.screenY,re.pointerX,re.pointerY,!1,!1,!1,!1,0,null),s.dispatchEvent(o)))},st||l.defaultPrevented||Qe.delayedCall(.05,a))):(h(m.inertia||m.throwProps),re.allowEventDefault||!l||!1===m.dragClickables&&pe.call(re,l.target)||!c||z&&(!U||z!==U)||!1===l.cancelable||Be(l),Ye(re,"release","onRelease")),ye()&&d.duration(re.tween.duration()),c&&Ye(re,"dragend","onDragEnd"),!0}};return(t=St.get(f))&&t.kill(),e.startDrag=function(e,t){var n,i,r,o;y(e||re.pointerEvent,!0),t&&!re.hitTest(e||re.pointerEvent)&&(n=Xe(e||re.pointerEvent),i=Xe(f),r=w({x:n.left+n.width/2,y:n.top+n.height/2}),o=w({x:i.left+i.width/2,y:i.top+i.height/2}),T-=r.x-o.x,S-=r.y-o.y),re.isDragging||(re.isDragging=!0,Ye(re,"dragstart","onDragStart"))},e.drag=be,e.endDrag=function(e){return we(e||re.pointerEvent,!0)},e.timeSinceDrag=function(){return re.isDragging?0:(mt()-ae)/1e3},e.timeSinceClick=function(){return(mt()-fe)/1e3},e.hitTest=function(e,t){return St.hitTest(re.target,e,t)},e.getDirection=function(e,t){var n,i,r,o,s,a,l="velocity"===e&&at?e:Se(e)&&!J?"element":"start";return"element"===l&&(s=Xe(re.target),a=Xe(e)),n="start"===l?re.x-C:"velocity"===l?at.getVelocity(f,Z):s.left+s.width/2-(a.left+a.width/2),J?n<0?"counter-clockwise":"clockwise":(t=t||2,i="start"===l?re.y-P:"velocity"===l?at.getVelocity(f,ee):s.top+s.height/2-(a.top+a.height/2),o=(r=Math.abs(n/i))<1/t?"":n<0?"left":"right",r<t&&(""!==o&&(o+="-"),o+=i<0?"up":"down"),o)},e.applyBounds=function(e,t){var n,i,r,o,s,a;if(e&&m.bounds!==e)return m.bounds=e,re.update(!0,t);if(l(!0),c(),A&&!ye()){if(n=re.x,i=re.y,I<n?n=I:n<O&&(n=O),B<i?i=B:i<L&&(i=L),(re.x!==n||re.y!==i)&&(r=!0,re.x=re.endX=n,J?re.endRotation=n:re.y=re.endY=i,p(F=!0),re.autoScroll&&!re.isDragging))for(Ve(f.parentNode),o=f,wt.scrollTop=null!=$e.pageYOffset?$e.pageYOffset:null!=ve.documentElement.scrollTop?ve.documentElement.scrollTop:ve.body.scrollTop,wt.scrollLeft=null!=$e.pageXOffset?$e.pageXOffset:null!=ve.documentElement.scrollLeft?ve.documentElement.scrollLeft:ve.body.scrollLeft;o&&!a;)s=(a=_t(o.parentNode))?wt:o.parentNode,ne&&s.scrollTop>s._gsMaxScrollY&&(s.scrollTop=s._gsMaxScrollY),te&&s.scrollLeft>s._gsMaxScrollX&&(s.scrollLeft=s._gsMaxScrollX),o=s;re.isThrowing&&(r||re.endX>I||re.endX<O||re.endY>B||re.endY<L)&&h(m.inertia||m.throwProps,r)}return re},e.update=function(e,t,n){var i=re.x,r=re.y;return d(!t),e?re.applyBounds():(F&&n&&p(!0),l(!0)),t&&(xe(re.pointerX,re.pointerY),F&&p(!0)),re.isPressed&&!t&&(te&&.01<Math.abs(i-re.x)||ne&&.01<Math.abs(r-re.y)&&!J)&&g(),re.autoScroll&&(Ve(f.parentNode),le=re.isDragging,p(!0),Fe(f,b),Re(f,b)),re},e.enable=function(e){var t,n,i,r={lazy:!0};if("soft"!==e){for(n=oe.length;-1<--n;)i=oe[n],ct||Ie(i,"mousedown",y),Ie(i,"touchstart",y),Ie(i,"click",x,!0),J||!1===r.cursor||(r.cursor=r.cursor||lt),Qe.utils.checkPrefix("touchCallout")&&(r.touchCallout="none"),r.touchAction=te==ne?"none":r.allowNativeTouchScrolling||r.allowEventDefault?"manipulation":te?"pan-y":"pan-x",Qe.set(i,r),i.getBBox&&i.ownerSVGElement&&Qe.set(i.ownerSVGElement,{touchAction:te==ne?"none":r.allowNativeTouchScrolling||r.allowEventDefault?"manipulation":te?"pan-y":"pan-x"}),re.vars.allowContextMenu||Ie(i,"contextmenu",s);Ue(oe,!1)}return Re(f,b),_=!0,at&&"soft"!==e&&at.track(k||f,$?"x,y":J?"rotation":"top,left"),f._gsDragID=t="d"+yt++,vt[t]=re,k&&(k.enable(),k.element._gsDragID=t),r.bounds&&(g(),re.applyBounds()),re},e.disable=function(e){var t,n,i=re.isDragging;if(!J)for(t=oe.length;-1<--t;)je(oe[t],"cursor",null);if("soft"!==e){for(t=oe.length;-1<--t;)je(n=oe[t],"touchCallout",null),je(n,"touchAction",null),Oe(n,"mousedown",y),Oe(n,"touchstart",y),Oe(n,"click",x),Oe(n,"contextmenu",s);Ue(oe,!0),Y&&(Oe(Y,"touchcancel",we),Oe(Y,"touchend",we),Oe(Y,"touchmove",be)),Oe(ve,"mouseup",we),Oe(ve,"mousemove",be)}return Fe(f,b),_=!1,at&&"soft"!==e&&at.untrack(k||f,$?"x,y":J?"rotation":"top,left"),k&&k.disable(),Ee(p),re.isDragging=re.isPressed=X=!1,i&&Ye(re,"dragend","onDragEnd"),re},e.enabled=function(e,t){return arguments.length?e?re.enable(t):re.disable(t):_},e.kill=function(){return re.isThrowing=!1,Qe.killTweensOf(k||f,se,!0),re.disable(),Qe.set(oe,{clearProps:"userSelect"}),delete vt[f._gsDragID],re},~n.indexOf("scroll")&&(k=e.scrollProxy=new Ge(f,function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}({onKill:function(){re.isPressed&&we(null)}},m)),f.style.overflowY=ne&&!nt?"auto":"hidden",f.style.overflowX=te&&!nt?"auto":"hidden",f=k.content),J?se.rotation=1:(te&&(se[Z]=1),ne&&(se[ee]=1)),me.force3D=!("force3D"in m)||m.force3D,e.enable(),e}!function(e,t){for(var n in t)n in e||(e[n]=t[n])}(H.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1}),H.zIndex=1e3,H.version="3.0.4",s()&&Qe.registerPlugin(H),e.Draggable=H,e.default=H,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function t(){return o||"undefined"!=typeof window&&(o=window.gsap)}function n(e){return u(e).id}function d(e){return m[n("string"==typeof e?f(e)[0]:e)]}function r(e){var t,n=a;if(.05<=e-c)for(c=e;n;)((t=n.g(n.t,n.p))!==n.v1||.2<e-n.t1)&&(n.v2=n.v1,n.v1=t,n.t2=n.t1,n.t1=e),n=n._next}function h(){(o=t())&&(f=o.utils.toArray,s=o.utils.getUnit,u=o.core.getCache,l=o.ticker,p=1)}function i(e,t,n,i){this.t=e,this.p=t,this.g=e._gsap.get,this.rCap=g[n||s(this.g(e,t))],this.v1=this.v2=0,this.t1=this.t2=l.time,i&&((this._next=i)._prev=this)}var o,p,f,s,a,l,c,u,m={},g={deg:360,rad:2*Math.PI},v=function(){function u(e,t){p||h(),this.target=f(e)[0],(m[n(this.target)]=this)._props={},t&&this.add(t)}u.register=function(e){o=e,h()};var e=u.prototype;return e.get=function(e,t){var n,i,r,o=this._props[e];return n=parseFloat(t?o.v1:o.g(o.t,o.p))-parseFloat(o.v2),(i=o.rCap)&&(n%=i)!=n%(i/2)&&(n=n<0?n+i:n-i),r=n/((t?o.t1:l.time)-o.t2),Math.round(1e4*r)/1e4},e.getAll=function(){var e,t={},n=this._props;for(e in n)t[e]=this.get(e);return t},e.isTracking=function(e){return e in this._props},e.add=function(e,t){e in this._props||(a||(l.add(r),c=l.time),a=this._props[e]=new i(this.target,e,t,a))},e.remove=function(e){var t,n,i=this._props[e];i&&(t=i._prev,n=i._next,t&&(t._next=n),n?n._prev=t:a===i&&(l.remove(r),a=0),delete this._props[e])},e.kill=function(e){for(var t in this._props)this.remove(t);e||delete m[n(this.target)]},u.track=function(e,t,n){p||h();for(var i,r,o=[],s=f(e),a=t.split(","),l=(n||"").split(","),c=s.length;c--;){for(i=d(s[c])||new u(s[c]),r=a.length;r--;)i.add(a[r],l[r]||l[0]);o.push(i)}return o},u.untrack=function(e,t){var n=(t||"").split(",");f(e).forEach(function(e){var t=d(e);t&&(n.length?n.forEach(function(e){return t.remove(e)}):t.kill(1))})},u.isTracking=function(e,t){var n=d(e);return n&&n.isTracking(t)},u.getVelocity=function(e,t){var n=d(e);return n&&n.isTracking(t)?n.get(t):void 0},u}();function y(){return x||"undefined"!=typeof window&&(x=window.gsap)&&x.registerPlugin&&x}function _(e){return"number"==typeof e}function k(e){return"object"==typeof e}function T(e){return"function"==typeof e}function S(e){return e}function C(e,t,n){for(var i in t)i in e||i===n||(e[i]=t[i]);return e}function b(e,t,n,i,r){var o,s,a,l,c=t.length,u=0,d=H;if(k(e)){for(;c--;){for(a in o=t[c],s=0,e)s+=(l=o[a]-e[a])*l;s<d&&(u=c,d=s)}if((r||H)<H&&r<Math.sqrt(d))return e}else for(;c--;)(s=(o=t[c])-e)<0&&(s=-s),s<d&&i<=o&&o<=n&&(u=c,d=s);return t[u]}function P(e,t,n,i,r,o){if("auto"===e.end)return e;var s,a,l=e.end;if(n=isNaN(n)?H:n,i=isNaN(i)?-H:i,k(t)){if(s=t.calculated?t:(T(l)?l(t):b(t,l,n,i,o))||t,!t.calculated){for(a in s)t[a]=s[a];t.calculated=!0}s=s[r]}else s=T(l)?l(t):Y(l)?b(t,l,n,i,o):parseFloat(l);return n<s?s=n:s<i&&(s=i),{max:s,min:s,unitFactor:e.unitFactor}}function A(e,t,n){return isNaN(e[t])?n:+e[t]}function M(e,t){return.05*t*e/j}function E(e,t,n){return Math.abs((t-e)*j/n/.05)}function I(e,t,n,i){if(t.linkedProps){var r,o,s,a,l,c,u=t.linkedProps.split(","),d={};for(r=0;r<u.length;r++)(s=t[o=u[r]])&&(a=_(s.velocity)?s.velocity:(l=l||X(e))&&l.isTracking(o)?l.get(o):0,c=Math.abs(a/A(s,"resistance",i)),d[o]=parseFloat(n(e,o))+M(a,c));return d}}function O(){(x=y())&&(w=x.parseEase,L=x.utils.toArray,R=x.utils.getUnit,V=x.core.getCache,q=x.utils.clamp,N=w("power3"),j=N(.05),F=x.core.PropTween,x.config({resistance:100,unitFactors:{time:1e3,totalTime:1e3}}),D=x.config(),x.registerPlugin(v),B=1)}v.getByTarget=d,t()&&o.registerPlugin(v);var x,B,w,L,N,D,R,F,V,j,q,X=v.getByTarget,Y=Array.isArray,H=1e10,W={resistance:1,checkpoint:1,preventOvershoot:1,linkedProps:1,radius:1,duration:1},z={version:"3.0.4",name:"inertia",register:function(e){x=e,O()},init:function(e,t,n,i,r){B||O();var o=X(e);if("auto"===t){if(!o)return;t=o.getAll()}this.target=e,this.tween=n;var s,a,l,c,u,d,h,p,f,m=e._gsap,g=m.get,v=t.duration,y=k(v),b=t.preventOvershoot||y&&0===v.overshoot,x=A(t,"resistance",D.resistance),w=_(v)?v:function(e,t,n,i,r,o){if(void 0===n&&(n=10),void 0===i&&(i=.2),void 0===r&&(r=1),void 0===o&&(o=0),"string"==typeof e&&(e=L(e)[0]),!e)return 0;var s,a,l,c,u,d,h,p,f,m,g=0,v=H,y=t.inertia||t,b=V(e).get,x=A(y,"resistance",D.resistance);for(s in m=I(e,y,b,x),y)W[s]||(k(a=y[s])||((p=p||X(e))&&p.isTracking(s)?a=_(a)?{velocity:a}:{velocity:p.get(s)}:(c=+a||0,l=Math.abs(c/x))),k(a)&&(c=_(a.velocity)?a.velocity:(p=p||X(e))&&p.isTracking(s)?p.get(s):0,l=q(i,n,Math.abs(c/A(a,"resistance",x))),d=(u=parseFloat(b(e,s))||0)+M(c,l),"end"in a&&(a=P(a,m&&s in m?m:d,a.max,a.min,s,y.radius),o&&(y[s]=C(a,y[s],"end"))),"max"in a&&d>+a.max+1e-10?(f=a.unitFactor||D.unitFactors[s]||1,(h=u>a.max&&a.min!==a.max||-15<c*f&&c*f<45?i+.1*(n-i):E(u,a.max,c))+r<v&&(v=h+r)):"min"in a&&d<a.min-1e-10&&(f=a.unitFactor||D.unitFactors[s]||1,(h=u<a.min&&a.min!==a.max||-45<c*f&&c*f<15?i+.1*(n-i):E(u,a.min,c))+r<v&&(v=h+r)),g<h&&(g=h)),g<l&&(g=l));return v<g&&(g=v),n<g?n:g<i?i:g}(e,t,y&&v.max||10,y&&v.min||.2,y&&"overshoot"in v?+v.overshoot:b?0:1);for(s in f=I(e,t,g,x),t)W[s]||(T(a=t[s])&&(a=a(i,e,r)),_(a)?u=a:k(a)&&!isNaN(a.velocity)?u=+a.velocity:o&&o.isTracking(s)&&(u=o.get(s)),d=M(u,w),p=0,l=g(e,s),c=R(l),l=parseFloat(l),k(a)&&(h=l+d,"end"in a&&(a=P(a,f&&s in f?f:h,a.max,a.min,s,t.radius)),"max"in a&&+a.max<h?b||a.preventOvershoot?d=a.max-l:p=a.max-l-d:"min"in a&&+a.min>h&&(b||a.preventOvershoot?d=a.min-l:p=a.min-l-d)),this._props.push(s),this._pt=new F(this._pt,e,s,l,0,S,0,m.set(e,s,this)),this._pt.u=c||0,this._pt.c1=d,this._pt.c2=p);return n.duration(w),1},render:function(e,t){var n,i=t._pt;for(e=N(t.tween._time/t.tween._dur);i;)i.set(i.t,i.p,(n=i.s+i.c1*e+i.c2*e*e,Math.round(1e4*n)/1e4+i.u),i.d,e),i=i._next}};"track,untrack,isTracking,getVelocity,getByTarget".split(",").forEach(function(e){return z[e]=v[e]}),y()&&x.registerPlugin(z),e.InertiaPlugin=z,e.VelocityTracker=v,e.default=z,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function r(){return b||"undefined"!=typeof window&&(b=window.gsap)&&b.registerPlugin&&b}function v(e,t){return!!(void 0===e?t:e&&!~(e+"").indexOf("false"))}function t(e){if(b=e||r()){s=b.registerEase;var t,n=b.parseEase(),i=function(n){return function(e){var t=.5+e/2;n.config=function(e){return n(2*(1-e)*e*t+e*e)}}};for(t in n)n[t].config||i(n[t]);for(t in s("slow",a),s("expoScale",l),s("rough",c),u)"version"!==t&&b.core.globals(t,u[t])}}function n(e,t,n){var i=(e=Math.min(1,e||.7))<1?t||0===t?t:.7:0,r=(1-e)/2,o=r+e,s=v(n);return function(e){var t=e+(.5-e)*i;return e<r?s?1-(e=1-e/r)*e:t-(e=1-e/r)*e*e*e*t:o<e?s?1===e?0:1-(e=(e-o)/r)*e:t+(e-t)*(e=(e-o)/r)*e*e*e:s?1:t}}function i(t,e,n){var i=Math.log(e/t),r=e-t;return n=n&&b.parseEase(n),function(e){return(t*Math.exp(i*(n?n(e):e))-t)/r}}function y(e,t,n){this.t=e,this.v=t,n&&(((this.next=n).prev=this).c=n.v-t,this.gap=n.t-e)}function o(e){"object"!=typeof e&&(e={points:+e||20});for(var t,n,i,r,o,s,a,l=e.taper||"none",c=[],u=0,d=0|(+e.points||20),h=d,p=v(e.randomize,!0),f=v(e.clamp),m=b?b.parseEase(e.template):0,g=.4*(+e.strength||1);-1<--h;)t=p?Math.random():1/d*h,n=m?m(t):t,i="none"===l?g:"out"===l?(r=1-t)*r*g:"in"===l?t*t*g:t<.5?(r=2*t)*r*.5*g:(r=2*(1-t))*r*.5*g,p?n+=Math.random()*i-.5*i:h%2?n+=.5*i:n-=.5*i,f&&(1<n?n=1:n<0&&(n=0)),c[u++]={x:t,y:n};for(c.sort(function(e,t){return e.x-t.x}),s=new y(1,1,null),h=d;h--;)s=new y((o=c[h]).x,o.y,s);return a=new y(0,0,s.t?s:s.next),function(e){var t=a;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return(a=t).v+(e-t.t)/t.gap*t.c}}var b,s,a=n(.7);(a.ease=a).config=n;var l=i(1,2);l.config=i;var c=o();(c.ease=c).config=o;var u={SlowMo:a,RoughEase:c,ExpoScaleEase:l};for(var d in u)u[d].register=t,u[d].version="3.0.4";r()&&b.registerPlugin(a),e.EasePack=u,e.ExpoScaleEase=l,e.RoughEase=c,e.SlowMo=a,e.default=u,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function t(){return"undefined"!=typeof window}function n(){return i||t()&&(i=window.gsap)&&i.registerPlugin&&i}function s(e){return"string"==typeof e}function f(e,t){var n="x"===t?"Width":"Height",i="scroll"+n,r="client"+n;return e===m||e===d||e===h?Math.max(d[i],h[i])-(m["inner"+n]||d[r]||h[r]):e[i]-e["offset"+n]}function a(e,t){var n="scroll"+("x"===t?"Left":"Top");return e===m&&(null!=e.pageXOffset?n="page"+t.toUpperCase()+"Offset":e=null!=d[n]?d:h),function(){return e[n]}}function r(e,t){var n=p(e)[0].getBoundingClientRect(),i=!t||t===m||t===h,r=i?{top:d.clientTop-(m.pageYOffset||d.scrollTop||h.scrollTop||0),left:d.clientLeft-(m.pageXOffset||d.scrollLeft||h.scrollLeft||0)}:t.getBoundingClientRect(),o={x:n.left-r.left,y:n.top-r.top};return!i&&t&&(o.x+=a(t,"x")(),o.y+=a(t,"y")()),o}function l(e,t,n,i){return isNaN(e)?s(e)&&"="===e.charAt(1)?parseFloat(e.substr(2))*("-"===e.charAt(0)?-1:1)+i:"max"===e?f(t,n):Math.min(f(t,n),r(e,t)[n]):parseFloat(e)}function c(){i=n(),t()&&i&&document.body&&(m=window,h=document.body,d=document.documentElement,p=i.utils.toArray,i.config({autoKillThreshold:7}),g=i.config(),u=1)}var i,u,m,d,h,p,g,o={version:"3.0.4",name:"scrollTo",rawVars:1,register:function(e){i=e,c()},init:function(e,t,n,i,r){u||c();var o=this;o.isWin=e===m,o.target=e,o.tween=n,"object"!=typeof t?s((t={y:t}).y)&&"max"!==t.y&&"="!==t.y.charAt(1)&&(t.x=t.y):t.nodeType&&(t={y:t,x:t}),o.vars=t,o.autoKill=!!t.autoKill,o.getX=a(e,"x"),o.getY=a(e,"y"),o.x=o.xPrev=o.getX(),o.y=o.yPrev=o.getY(),null!=t.x?(o.add(o,"x",o.x,l(t.x,e,"x",o.x)-(t.offsetX||0),i,r,Math.round),o._props.push("scrollTo_x")):o.skipX=1,null!=t.y?(o.add(o,"y",o.y,l(t.y,e,"y",o.y)-(t.offsetY||0),i,r,Math.round),o._props.push("scrollTo_y")):o.skipY=1},render:function(e,t){for(var n,i,r,o,s,a=t._pt,l=t.target,c=t.tween,u=t.autoKill,d=t.xPrev,h=t.yPrev,p=t.isWin;a;)a.r(e,a.d),a=a._next;n=p||!t.skipX?t.getX():d,r=(i=p||!t.skipY?t.getY():h)-h,o=n-d,s=g.autoKillThreshold,t.x<0&&(t.x=0),t.y<0&&(t.y=0),u&&(!t.skipX&&(s<o||o<-s)&&n<f(l,"x")&&(t.skipX=1),!t.skipY&&(s<r||r<-s)&&i<f(l,"y")&&(t.skipY=1),t.skipX&&t.skipY&&(c.kill(),t.vars.onAutoKill&&t.vars.onAutoKill.apply(c,t.vars.onAutoKillParams||[]))),p?m.scrollTo(t.skipX?n:t.x,t.skipY?i:t.y):(t.skipY||(l.scrollTop=t.y),t.skipX||(l.scrollLeft=t.x)),t.xPrev=t.x,t.yPrev=t.y},kill:function(e){var t="scrollTo"===e;!t&&"scrollTo_x"!==e||(this.skipX=1),!t&&"scrollTo_y"!==e||(this.skipY=1)}};o.max=f,o.getOffset=r,o.buildGetter=a,n()&&i.registerPlugin(o),e.ScrollToPlugin=o,e.default=o,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function v(e){return~~(1e5*e+(e<0?-.5:.5))/1e5}var k=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,T=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,W=Math.PI/180,z=Math.sin,U=Math.cos,G=Math.abs,K=Math.sqrt;function S(e,t,n,i,r,o,s,a,l){if(e!==a||t!==l){n=G(n),i=G(i);var c=r%360*W,u=U(c),d=z(c),h=Math.PI,p=2*h,f=(e-a)/2,m=(t-l)/2,g=u*f+d*m,v=-d*f+u*m,y=g*g,b=v*v,x=y/(n*n)+b/(i*i);1<x&&(n=K(x)*n,i=K(x)*i);var w=n*n,_=i*i,k=(w*_-w*b-_*y)/(w*b+_*y);k<0&&(k=0);var T=(o===s?-1:1)*K(k),S=n*v/i*T,C=-i*g/n*T,P=u*S-d*C+(e+a)/2,A=d*S+u*C+(t+l)/2,M=(g-S)/n,E=(v-C)/i,I=(-g-S)/n,O=(-v-C)/i,B=M*M+E*E,L=(E<0?-1:1)*Math.acos(M/K(B)),N=(M*O-E*I<0?-1:1)*Math.acos((M*I+E*O)/K(B*(I*I+O*O)));isNaN(N)&&(N=h),!s&&0<N?N-=p:s&&N<0&&(N+=p),L%=p,N%=p;var D,R=Math.ceil(G(N)/(p/4)),F=[],V=N/R,j=4/3*z(V/2)/(1+U(V/2)),q=u*n,X=d*n,Y=d*-i,H=u*i;for(D=0;D<R;D++)g=U(r=L+D*V),v=z(r),M=U(r+=V),E=z(r),F.push(g-j*v,v+j*g,M+j*E,E-j*M,M,E);for(D=0;D<F.length;D+=2)g=F[D],v=F[D+1],F[D]=g*q+v*Y+P,F[D+1]=g*X+v*H+A;return F[D-2]=a,F[D-1]=l,F}}function t(){return b||"undefined"!=typeof window&&(b=window.gsap)&&b.registerPlugin&&b}function i(){(b=t())&&(b.registerEase("_CE",o.create),r=1)}function y(e){return~~(1e3*e+(e<0?-.5:.5))/1e3}function A(e,t,n,i,r,o,s,a,l,c,u){var d,h=(e+n)/2,p=(t+i)/2,f=(n+r)/2,m=(i+o)/2,g=(r+s)/2,v=(o+a)/2,y=(h+f)/2,b=(p+m)/2,x=(f+g)/2,w=(m+v)/2,_=(y+x)/2,k=(b+w)/2,T=s-e,S=a-t,C=Math.abs((n-s)*S-(i-a)*T),P=Math.abs((r-s)*S-(o-a)*T);return c||(c=[{x:e,y:t},{x:s,y:a}],u=1),c.splice(u||c.length-1,0,{x:_,y:k}),l*(T*T+S*S)<(C+P)*(C+P)&&(d=c.length,A(e,t,h,p,y,b,_,k,l,c,u),A(_,k,x,w,g,v,s,a,l,c,u+1+(c.length-d))),c}var b,r,n,x=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,w=/[cLlsSaAhHvVtTqQ]/g,o=((n=_.prototype).setData=function(e,t){t=t||{};var n,i,r,o,s,a,l,c,u,d=(e=e||"0,0,1,1").match(x),h=1,p=[],f=[],m=t.precision||1,g=m<=1;if(this.data=e,(w.test(e)||~e.indexOf("M")&&e.indexOf("C")<0)&&(d=function(e){function t(e,t,n,i){d=(n-e)/3,h=(i-t)/3,l.push(e+d,t+h,n-d,i-h,n,i)}var n,i,r,o,s,a,l,c,u,d,h,p,f,m,g,v=(e+"").replace(T,function(e){var t=+e;return t<1e-4&&-1e-4<t?0:t}).match(k)||[],y=[],b=0,x=0,w=v.length,_=0;if(!e||!isNaN(v[0])||isNaN(v[1]))return y;for(n=0;n<w;n++)if(f=s,isNaN(v[n])?a=(s=v[n].toUpperCase())!==v[n]:n--,r=+v[n+1],o=+v[n+2],a&&(r+=b,o+=x),n||(c=r,u=o),"M"===s)l&&(l.length<8?--y.length:_+=l.length),b=c=r,x=u=o,l=[r,o],y.push(l),n+=2,s="L";else if("C"===s)a||(b=x=0),(l=l||[0,0]).push(r,o,b+ +v[n+3],x+ +v[n+4],b+=+v[n+5],x+=+v[n+6]),n+=6;else if("S"===s)d=b,h=x,"C"!==f&&"S"!==f||(d+=b-l[l.length-4],h+=x-l[l.length-3]),a||(b=x=0),l.push(d,h,r,o,b+=+v[n+3],x+=+v[n+4]),n+=4;else if("Q"===s)d=b+2/3*(r-b),h=x+2/3*(o-x),a||(b=x=0),b+=+v[n+3],x+=+v[n+4],l.push(d,h,b+2/3*(r-b),x+2/3*(o-x),b,x),n+=4;else if("T"===s)d=b-l[l.length-4],h=x-l[l.length-3],l.push(b+d,x+h,r+2/3*(b+1.5*d-r),o+2/3*(x+1.5*h-o),b=r,x=o),n+=2;else if("H"===s)t(b,x,b=r,x),n+=1;else if("V"===s)t(b,x,b,x=r+(a?x-b:0)),n+=1;else if("L"===s||"Z"===s)"Z"===s&&(r=c,o=u,l.closed=!0),("L"===s||.5<G(b-r)||.5<G(x-o))&&(t(b,x,r,o),"L"===s&&(n+=2)),b=r,x=o;else if("A"===s){if(m=v[n+4],g=v[n+5],d=v[n+6],h=v[n+7],i=7,1<m.length&&(m.length<3?(h=d,d=g,i--):(h=g,d=m.substr(2),i-=2),g=m.charAt(1),m=m.charAt(0)),p=S(b,x,+v[n+1],+v[n+2],+v[n+3],+m,+g,(a?b:0)+ +d,(a?x:0)+ +h),n+=i,p)for(i=0;i<p.length;i++)l.push(p[i]);b=l[l.length-2],x=l[l.length-1]}return(n=l.length)<6?(y.pop(),n=0):l[0]===l[n-2]&&l[1]===l[n-1]&&(l.closed=!0),y.totalPoints=_+n,y}(e)[0]),4===(n=d.length))d.unshift(0,0),d.push(1,1),n=8;else if((n-2)%6)throw"Invalid CustomEase";for(0==+d[0]&&1==+d[n-2]||function(e,t,n){n||0===n||(n=Math.max(+e[e.length-1],+e[1]));var i,r=-1*e[0],o=-n,s=e.length,a=1/(+e[s-2]+r),l=-t||(Math.abs(e[s-1]-e[1])<.01*(e[s-2]-e[0])?function(e){var t,n=e.length,i=1e20;for(t=1;t<n;t+=6)+e[t]<i&&(i=+e[t]);return i}(e)+o:+e[s-1]+o);for(l=l?1/l:-a,i=0;i<s;i+=2)e[i]=(+e[i]+r)*a,e[i+1]=(+e[i+1]+o)*l}(d,t.height,t.originY),this.segment=d,o=2;o<n;o+=6)i={x:+d[o-2],y:+d[o-1]},r={x:+d[o+4],y:+d[o+5]},p.push(i,r),A(i.x,i.y,+d[o],+d[o+1],+d[o+2],+d[o+3],r.x,r.y,1/(2e5*m),p,p.length-1);for(n=p.length,o=0;o<n;o++)l=p[o],c=p[o-1]||l,l.x>c.x||c.y!==l.y&&c.x===l.x||l===c?(c.cx=l.x-c.x,c.cy=l.y-c.y,c.n=l,c.nx=l.x,g&&1<o&&2<Math.abs(c.cy/c.cx-p[o-2].cy/p[o-2].cx)&&(g=0),c.cx<h&&(c.cx?h=c.cx:(c.cx=.001,o===n-1&&(c.x-=.001,h=Math.min(h,.001),g=0)))):(p.splice(o--,1),n--);if(s=1/(n=1/h+1|0),l=p[a=0],g){for(o=0;o<n;o++)u=o*s,l.nx<u&&(l=p[++a]),i=l.y+(u-l.x)/l.cx*l.cy,f[o]={x:u,cx:s,y:i,cy:0,nx:9},o&&(f[o-1].cy=i-f[o-1].y);f[n-1].cy=p[p.length-1].y-i}else{for(o=0;o<n;o++)l.nx<o*s&&(l=p[++a]),f[o]=l;a<p.length-1&&(f[o-1]=p[p.length-2])}return this.ease=function(e){var t=f[e*n|0]||f[n-1];return t.nx<e&&(t=t.n),t.y+(e-t.x)/t.cx*t.cy},(this.ease.custom=this).id&&b.registerEase(this.id,this.ease),this},n.getSVGData=function(e){return _.getSVGData(this,e)},_.create=function(e,t,n){return new _(e,t,n).ease},_.register=function(e){b=e,i()},_.get=function(e){return b.parseEase(e)},_.getSVGData=function(e,t){var n,i,r,o,s,a,l,c,u,d,h=(t=t||{}).width||100,p=t.height||100,f=t.x||0,m=(t.y||0)+p,g=b.utils.toArray(t.path)[0];if(t.invert&&(p=-p,m=0),"string"==typeof e&&(e=b.parseEase(e)),e.custom&&(e=e.custom),e instanceof _)n=function(e){"number"!=typeof e[0]||(e=[e]);var t,n,i,r,o="",s=e.length;for(n=0;n<s;n++){for(o+="M"+v((r=e[n])[0])+","+v(r[1])+" C",t=r.length,i=2;i<t;i++)o+=v(r[i++])+","+v(r[i++])+" "+v(r[i++])+","+v(r[i++])+" "+v(r[i++])+","+v(r[i])+" ";r.closed&&(o+="z")}return o}(function(e,t,n,i,r,o,s){for(var a,l,c,u,d,h=e.length;-1<--h;)for(l=(a=e[h]).length,c=0;c<l;c+=2)u=a[c],d=a[c+1],a[c]=u*t+d*i+o,a[c+1]=u*n+d*r+s;return e._dirty=1,e}([e.segment],h,0,0,-p,f,m));else{for(n=[f,m],o=1/(l=Math.max(5,200*(t.precision||1))),c=5/(l+=2),u=y(f+o*h),i=((d=y(m+e(o)*-p))-m)/(u-f),r=2;r<l;r++)s=y(f+r*o*h),a=y(m+e(r*o)*-p),(Math.abs((a-d)/(s-u)-i)>c||r===l-1)&&(n.push(u,d),i=(a-d)/(s-u)),u=s,d=a;n="M"+n.join(",")}return g&&g.setAttribute("d",n),n},_);function _(e,t,n){r||i(),this.id=e,this.setData(t,n)}t()&&b.registerPlugin(o),o.version="3.0.4",e.CustomEase=o,e.default=o,Object.defineProperty(e,"__esModule",{value:!0})}),"object"==typeof navigator&&function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Plyr",t):(e="undefined"!=typeof globalThis?globalThis:e||self).Plyr=t()}(this,function(){"use strict";function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function e(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function u(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach(function(e){var t,n,i;t=r,i=o[n=e],n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}var d={addCSS:!0,thumbWidth:15,watch:!0};function h(e){return null!=e?e.constructor:null}function p(e,t){return!!(e&&t&&e instanceof t)}function f(e){return h(e)===String}function m(e){return Array.isArray(e)}function g(e){return p(e,NodeList)}function v(e){return p(e,Element)}function y(e){return p(e,Event)}function w(e){return null==e||(f(e)||m(e)||g(e))&&!e.length||h(e)===Object&&!Object.keys(e).length}var _=f,k=m,T=g;function S(e){return null!=e?e.constructor:null}function C(e,t){return Boolean(e&&t&&e instanceof t)}function P(e){return null==e}function A(e){return S(e)===Object}function M(e){return S(e)===String}function E(e){return S(e)===Function}function I(e){return Array.isArray(e)}function O(e){return C(e,NodeList)}function B(e){return P(e)||(M(e)||I(e)||O(e))&&!e.length||A(e)&&!Object.keys(e).length}function L(e){return S(e)===Boolean}function N(e){return C(e,Event)}function D(e){return C(e,KeyboardEvent)}function R(e){return C(e,TextTrack)||!P(e)&&M(e.kind)}function F(e){if(C(e,window.URL))return!0;if(!M(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!B(new URL(t).hostname)}catch(e){return!1}}var V,j,q,X,Y,H=(Y=[{key:"setup",value:function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=null;if(w(n)||_(n)?e=Array.from(document.querySelectorAll(_(n)?n:'input[type="range"]')):v(n)?e=[n]:T(n)?e=Array.from(n):k(n)&&(e=n.filter(v)),w(e))return null;var i=u({},d,{},t);return _(n)&&i.watch&&new MutationObserver(function(e){Array.from(e).forEach(function(e){Array.from(e.addedNodes).forEach(function(e){var t;v(e)&&function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t=n)&&new ne(e,i)})})}).observe(document.body,{childList:!0,subtree:!0}),e.map(function(e){return new ne(e,t)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}],t((X=ne).prototype,[{key:"init",value:function(){ne.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){ne.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(e){t.element[n](e,function(e){return t.set(e)},!1)})}},{key:"get",value:function(e){if(!ne.enabled||!y(e))return null;var t,n=e.target,i=e.changedTouches[0],r=parseFloat(n.getAttribute("min"))||0,o=parseFloat(n.getAttribute("max"))||100,s=parseFloat(n.getAttribute("step"))||1,a=n.getBoundingClientRect(),l=100/a.width*(this.config.thumbWidth/2)/100;return(t=100/a.width*(i.clientX-a.left))<0?t=0:100<t&&(t=100),t<50?t-=(100-2*t)*l:50<t&&(t+=2*(t-50)*l),r+function(e,t){if(t<1){var n=(i="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(i[1]?i[1].length:0)-(i[2]?+i[2]:0)):0;return parseFloat(e.toFixed(n))}var i;return Math.round(e/t)*t}(t/100*(o-r),s)}},{key:"set",value:function(e){ne.enabled&&y(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}(e.target,"touchend"===e.type?"change":"input"))}}]),t(X,Y),ne),W=P,z=A,U=function(e){return S(e)===Number&&!Number.isNaN(e)},G=M,K=E,Q=I,$=O,J=function(e){return C(e,Element)},Z=function(e){return C(e,Promise)&&E(e.then)},ee=B,te=(V=document.createElement("span"),j={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},q=Object.keys(j).find(function(e){return void 0!==V.style[e]}),!!G(q)&&j[q]);function ne(e,t){(function(e){if(!(e instanceof ne))throw new TypeError("Cannot call a class as a function")})(this),v(e)?this.element=e:_(e)&&(this.element=document.querySelector(e)),v(this.element)&&w(this.element.rangeTouch)&&(this.config=u({},d,{},t),this.init())}function ie(e,t){setTimeout(function(){try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}},t)}var re={isIE:!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function oe(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]},e)}function se(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(!n.length)return t;var r=n.shift();return z(r)?(Object.keys(r).forEach(function(e){z(r[e])?(Object.keys(t).includes(e)||Object.assign(t,o({},e,{})),se(t[e],r[e])):Object.assign(t,o({},e,r[e]))}),se.apply(void 0,[t].concat(n))):t}function ae(e,o){var t=e.length?e:[e];Array.from(t).reverse().forEach(function(e,t){var n=0<t?o.cloneNode(!0):o,i=e.parentNode,r=e.nextSibling;n.appendChild(e),r?i.insertBefore(n,r):i.appendChild(n)})}function le(r,e){J(r)&&!ee(e)&&Object.entries(e).filter(function(e){var t=x(e,2)[1];return!W(t)}).forEach(function(e){var t=x(e,2),n=t[0],i=t[1];return r.setAttribute(n,i)})}function ce(e,t,n){var i=document.createElement(e);return z(t)&&le(i,t),G(n)&&(i.innerText=n),i}function ue(e,t,n,i){J(t)&&t.appendChild(ce(e,n,i))}function de(e){$(e)||Q(e)?Array.from(e).forEach(de):J(e)&&J(e.parentNode)&&e.parentNode.removeChild(e)}function he(e){if(J(e))for(var t=e.childNodes.length;0<t;)e.removeChild(e.lastChild),--t}function pe(e,t){return J(t)&&J(t.parentNode)&&J(e)?(t.parentNode.replaceChild(e,t),e):null}function fe(e,t){if(!G(e)||ee(e))return{};var s={},a=se({},t);return e.split(",").forEach(function(e){var t=e.trim(),n=t.replace(".",""),i=t.replace(/[[\]]/g,"").split("="),r=x(i,1)[0],o=1<i.length?i[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":G(a.class)?s.class="".concat(a.class," ").concat(n):s.class=n;break;case"#":s.id=t.replace("#","");break;case"[":s[r]=o}}),se(a,s)}function me(e,t){if(J(e)){var n=t;L(n)||(n=!e.hidden),e.hidden=n}}function ge(e,t,n){if($(e))return Array.from(e).map(function(e){return ge(e,t,n)});if(J(e)){var i="toggle";return void 0!==n&&(i=n?"add":"remove"),e.classList[i](t),e.classList.contains(t)}return!1}function ve(e,t){return J(e)&&e.classList.contains(t)}function ye(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function be(e){return this.elements.container.querySelectorAll(e)}function xe(e){return this.elements.container.querySelector(e)}function we(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];J(e)&&(e.focus({preventScroll:!0}),t&&ge(e,this.config.classNames.tabFocus))}var _e,ke={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Te={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,n){var i=re.isIPhone&&n&&Te.playsinline,r=Te[e]||"html5"!==t;return{api:r,ui:r&&Te.rangeInput&&("video"!==e||!re.isIPhone||i)}},pip:!(re.isIPhone||!K(ce("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||ce("video").disablePictureInPicture)),airplay:K(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(ee(e))return!1;var t=x(e.split("/"),1)[0],n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(ke).includes(n)&&(n+='; codecs="'.concat(ke[e],'"'));try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:((_e=document.createElement("input")).type="range")===_e.type,touch:"ontouchstart"in document.documentElement,transitions:!1!==te,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Se=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function Ce(t,e,n){var i=this,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],s=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(t&&"addEventListener"in t&&!ee(e)&&K(n)){var a=e.split(" "),l=s;Se&&(l={passive:o,capture:s}),a.forEach(function(e){i&&i.eventListeners&&r&&i.eventListeners.push({element:t,type:e,callback:n,options:l}),t[r?"addEventListener":"removeEventListener"](e,n,l)})}}function Pe(e){Ce.call(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",2<arguments.length?arguments[2]:void 0,!0,!(3<arguments.length&&void 0!==arguments[3])||arguments[3],4<arguments.length&&void 0!==arguments[4]&&arguments[4])}function Ae(e){Ce.call(this,e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",2<arguments.length?arguments[2]:void 0,!1,!(3<arguments.length&&void 0!==arguments[3])||arguments[3],4<arguments.length&&void 0!==arguments[4]&&arguments[4])}function Me(r){var o=this,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",a=2<arguments.length?arguments[2]:void 0,l=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],c=4<arguments.length&&void 0!==arguments[4]&&arguments[4];Ce.call(this,r,s,function e(){Ae(r,s,e,l,c);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a.apply(o,n)},!0,l,c)}function Ee(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(J(e)&&!ee(t)){var r=new CustomEvent(t,{bubbles:n,detail:b(b({},i),{},{plyr:this})});e.dispatchEvent(r)}}function Ie(e){Z(e)&&e.then(null,function(){})}function Oe(e){return(Q(e)||G(e)&&e.includes(":"))&&(Q(e)?e:e.split(":")).map(Number).every(U)}function Be(e){if(!Q(e)||!e.every(U))return null;var t=x(e,2),n=t[0],i=t[1],r=function e(t,n){return 0===n?t:e(n,t%n)}(n,i);return[n/r,i/r]}function Le(e){function t(e){return Oe(e)?e.split(":").map(Number):null}var n=t(e);if(null===n&&(n=t(this.config.ratio)),null===n&&!ee(this.embed)&&Q(this.embed.ratio)&&(n=this.embed.ratio),null===n&&this.isHTML5){var i=this.media;n=Be([i.videoWidth,i.videoHeight])}return n}function Ne(e){if(!this.isVideo)return{};var t=this.elements.wrapper,n=Le.call(this,e),i=x(Q(n)?n:[0,0],2),r=100/i[0]*i[1];if(t.style.paddingBottom="".concat(r,"%"),this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){var o=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),s=(o-r)/(o/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform="translateY(-".concat(s,"%)")}else this.isHTML5&&t.classList.toggle(this.config.classNames.videoFixedRatio,null!==n);return{padding:r,ratio:n}}var De={getSources:function(){var n=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(function(e){var t=e.getAttribute("type");return!!ee(t)||Te.mime.call(n,t)}):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:De.getSources.call(this).map(function(e){return Number(e.getAttribute("size"))}).filter(Boolean)},setup:function(){if(this.isHTML5){var l=this;l.options.speed=l.config.speed.options,ee(this.config.ratio)||Ne.call(l),Object.defineProperty(l.media,"quality",{get:function(){var e=De.getSources.call(l).find(function(e){return e.getAttribute("src")===l.source});return e&&Number(e.getAttribute("size"))},set:function(t){if(l.quality!==t){if(l.config.quality.forced&&K(l.config.quality.onChange))l.config.quality.onChange(t);else{var e=De.getSources.call(l).find(function(e){return Number(e.getAttribute("size"))===t});if(!e)return;var n=l.media,i=n.currentTime,r=n.paused,o=n.preload,s=n.readyState,a=n.playbackRate;l.media.src=e.getAttribute("src"),"none"===o&&!s||(l.once("loadedmetadata",function(){l.speed=a,l.currentTime=i,r||Ie(l.play())}),l.media.load())}Ee.call(l,l.media,"qualitychange",!1,{quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(de(De.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Re(n){return Q(n)?n.filter(function(e,t){return n.indexOf(e)===t}):n}function Fe(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ee(e)?e:e.toString().replace(/{(\d+)}/g,function(e,t){return n[t].toString()})}function Ve(){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),t.toString())}function je(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function qe(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}function Xe(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(ee(e)||ee(t))return"";var r=oe(t.i18n,e);if(ee(r))return Object.keys(Ye).includes(e)?Ye[e]:"";var n={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(n).forEach(function(e){var t=x(e,2),n=t[0],i=t[1];r=Ve(r,n,i)}),r}var Ye={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},He=(e(We,[{key:"get",value:function(e){if(!We.supported||!this.enabled)return null;var t=window.localStorage.getItem(this.key);if(ee(t))return null;var n=JSON.parse(t);return G(e)&&e.length?n[e]:n}},{key:"set",value:function(e){if(We.supported&&this.enabled&&z(e)){var t=this.get();ee(t)&&(t={}),se(t,e),window.localStorage.setItem(this.key,JSON.stringify(t))}}}],[{key:"supported",get:function(){try{if(!("localStorage"in window))return!1;var e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}]),We);function We(e){c(this,We),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}function ze(e,t){var r=1<arguments.length&&void 0!==t?t:"text";return new Promise(function(t,n){try{var i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",function(){if("text"===r)try{t(JSON.parse(i.responseText))}catch(e){t(i.responseText)}else t(i.response)}),i.addEventListener("error",function(){throw new Error(i.status)}),i.open("GET",e,!0),i.responseType=r,i.send()}catch(e){n(e)}})}function Ue(e,t){if(G(e)){var n=G(t),i=function(){return null!==document.getElementById(t)},r=function(e,t){e.innerHTML=t,n&&i()||document.body.insertAdjacentElement("afterbegin",e)};if(!n||!i()){var o=He.supported,s=document.createElement("div");if(s.setAttribute("hidden",""),n&&s.setAttribute("id",t),o){var a=window.localStorage.getItem("".concat("cache","-").concat(t));if(null!==a){var l=JSON.parse(a);r(s,l.content)}}ze(e).then(function(e){ee(e)||(o&&window.localStorage.setItem("".concat("cache","-").concat(t),JSON.stringify({content:e})),r(s,e))}).catch(function(){})}}}var Ge=function(e){return Math.trunc(e/60/60%60,10)},Ke=function(e){return Math.trunc(e/60%60,10)},Qe=function(e){return Math.trunc(e%60,10)};function $e(e,t,n){var i=0<arguments.length&&void 0!==e?e:0,r=1<arguments.length&&void 0!==t&&t,o=2<arguments.length&&void 0!==n&&n;if(!U(i))return $e(void 0,r,o);function s(e){return"0".concat(e).slice(-2)}var a=Ge(i),l=Ke(i),c=Qe(i);return a=r||0<a?"".concat(a,":"):"","".concat(o&&0<i?"-":"").concat(a).concat(s(l),":").concat(s(c))}var Je={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location).host!==window.location.host||re.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=xe.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:be.call(this,this.config.selectors.buttons.play),pause:xe.call(this,this.config.selectors.buttons.pause),restart:xe.call(this,this.config.selectors.buttons.restart),rewind:xe.call(this,this.config.selectors.buttons.rewind),fastForward:xe.call(this,this.config.selectors.buttons.fastForward),mute:xe.call(this,this.config.selectors.buttons.mute),pip:xe.call(this,this.config.selectors.buttons.pip),airplay:xe.call(this,this.config.selectors.buttons.airplay),settings:xe.call(this,this.config.selectors.buttons.settings),captions:xe.call(this,this.config.selectors.buttons.captions),fullscreen:xe.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=xe.call(this,this.config.selectors.progress),this.elements.inputs={seek:xe.call(this,this.config.selectors.inputs.seek),volume:xe.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:xe.call(this,this.config.selectors.display.buffer),currentTime:xe.call(this,this.config.selectors.display.currentTime),duration:xe.call(this,this.config.selectors.display.duration)},J(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var n="http://www.w3.org/2000/svg",i=Je.getIconUrl.call(this),r="".concat(i.cors?"":i.url,"#").concat(this.config.iconPrefix),o=document.createElementNS(n,"svg");le(o,se(t,{"aria-hidden":"true",focusable:"false"}));var s=document.createElementNS(n,"use"),a="".concat(r,"-").concat(e);return"href"in s&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",a),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),o.appendChild(s),o},createLabel:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=Xe(e,this.config);return ce("span",b(b({},t),{},{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),n)},createBadge:function(e){if(ee(e))return null;var t=ce("span",{class:this.config.classNames.menu.value});return t.appendChild(ce("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var n=this,i=se({},t),r=function(e){var t=(0<arguments.length&&void 0!==e?e:"").toString();return(t=function(e){var t=(0<arguments.length&&void 0!==e?e:"").toString();return t=Ve(t,"-"," "),t=Ve(t,"_"," "),t=je(t),Ve(t," ","")}(t)).charAt(0).toLowerCase()+t.slice(1)}(e),o={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(function(e){Object.keys(i).includes(e)&&(o[e]=i[e],delete i[e])}),"button"!==o.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some(function(e){return e===n.config.classNames.control})||se(i,{class:"".concat(i.class," ").concat(this.config.classNames.control)}):i.class=this.config.classNames.control,e){case"play":o.toggle=!0,o.label="play",o.labelPressed="pause",o.icon="play",o.iconPressed="pause";break;case"mute":o.toggle=!0,o.label="mute",o.labelPressed="unmute",o.icon="volume",o.iconPressed="muted";break;case"captions":o.toggle=!0,o.label="enableCaptions",o.labelPressed="disableCaptions",o.icon="captions-off",o.iconPressed="captions-on";break;case"fullscreen":o.toggle=!0,o.label="enterFullscreen",o.labelPressed="exitFullscreen",o.icon="enter-fullscreen",o.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),r="play",o.label="play",o.icon="play";break;default:ee(o.label)&&(o.label=r),ee(o.icon)&&(o.icon=e)}var s=ce(o.element);return o.toggle?(s.appendChild(Je.createIcon.call(this,o.iconPressed,{class:"icon--pressed"})),s.appendChild(Je.createIcon.call(this,o.icon,{class:"icon--not-pressed"})),s.appendChild(Je.createLabel.call(this,o.labelPressed,{class:"label--pressed"})),s.appendChild(Je.createLabel.call(this,o.label,{class:"label--not-pressed"}))):(s.appendChild(Je.createIcon.call(this,o.icon)),s.appendChild(Je.createLabel.call(this,o.label))),se(i,fe(this.config.selectors.buttons[r],i)),le(s,i),"play"===r?(Q(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(s)):this.elements.buttons[r]=s,s},createRange:function(e,t){var n=ce("input",se(fe(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Xe(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,Je.updateRangeFill.call(this,n),H.setup(n),n},createProgress:function(e,t){var n=ce("progress",se(fe(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){n.appendChild(ce("span",null,"0"));var i={played:"played",buffer:"buffered"}[e],r=i?Xe(i,this.config):"";n.innerText="% ".concat(r.toLowerCase())}return this.elements.display[e]=n},createTime:function(e,t){var n=fe(this.config.selectors.display[e],t),i=ce("div",se(n,{class:"".concat(n.class?n.class:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":Xe(e,this.config)}),"00:00");return this.elements.display[e]=i},bindMenuItemShortcuts:function(i,r){var o=this;Pe.call(this,i,"keydown keyup",function(e){if([32,38,39,40].includes(e.which)&&(e.preventDefault(),e.stopPropagation(),"keydown"!==e.type)){var t,n=ye(i,'[role="menuitemradio"]');!n&&[32,39].includes(e.which)?Je.showMenuPanel.call(o,r,!0):32!==e.which&&(40===e.which||n&&39===e.which?(t=i.nextElementSibling,J(t)||(t=i.parentNode.firstElementChild)):(t=i.previousElementSibling,J(t)||(t=i.parentNode.lastElementChild)),we.call(o,t,!0))}},!1),Pe.call(this,i,"keyup",function(e){13===e.which&&Je.focusFirstMenuItem.call(o,null,!0)})},createMenuItem:function(e){var t=this,n=e.value,i=e.list,r=e.type,o=e.title,s=e.badge,a=void 0===s?null:s,l=e.checked,c=void 0!==l&&l,u=fe(this.config.selectors.inputs[r]),d=ce("button",se(u,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(u.class?u.class:"").trim(),"aria-checked":c,value:n})),h=ce("span");h.innerHTML=o,J(a)&&h.appendChild(a),d.appendChild(h),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(e){e&&Array.from(d.parentNode.children).filter(function(e){return ye(e,'[role="menuitemradio"]')}).forEach(function(e){return e.setAttribute("aria-checked","false")}),d.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(d,"click keyup",function(e){if(!D(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),d.checked=!0,r){case"language":t.currentTrack=Number(n);break;case"quality":t.quality=n;break;case"speed":t.speed=parseFloat(n)}Je.showMenuPanel.call(t,"home",D(e))}},r,!1),Je.bindMenuItemShortcuts.call(this,d,r),i.appendChild(d)},formatTime:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return U(e)?$e(e,0<Ge(this.duration),t):e},updateTimeDisplay:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];J(e)&&U(t)&&(e.innerText=Je.formatTime(t,n))},updateVolume:function(){this.supported.ui&&(J(this.elements.inputs.volume)&&Je.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),J(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;J(e)&&(e.value=t,Je.updateRangeFill.call(this,e))},updateProgress:function(e){var o=this;if(this.supported.ui&&N(e)){var t,n,i=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=this.currentTime,n=this.duration,i=0===t||0===n||Number.isNaN(t)||Number.isNaN(n)?0:(t/n*100).toFixed(2),"timeupdate"===e.type&&Je.setRange.call(this,this.elements.inputs.seek,i);break;case"playing":case"progress":!function(e,t){var n=U(t)?t:0,i=J(e)?e:o.elements.display.buffer;if(J(i)){i.value=n;var r=i.getElementsByTagName("span")[0];J(r)&&(r.childNodes[0].nodeValue=n)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=N(e)?e.target:e;if(J(t)&&"range"===t.getAttribute("type")){if(ye(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var n=Je.formatTime(this.currentTime),i=Je.formatTime(this.duration),r=Xe("seekLabel",this.config);t.setAttribute("aria-valuetext",r.replace("{currentTime}",n).replace("{duration}",i))}else if(ye(t,this.config.selectors.inputs.volume)){var o=100*t.value;t.setAttribute("aria-valuenow",o),t.setAttribute("aria-valuetext","".concat(o.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);re.isWebkit&&t.style.setProperty("--value","".concat(t.value/t.max*100,"%"))}},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&J(this.elements.inputs.seek)&&J(this.elements.display.seekTooltip)&&0!==this.duration){var n="".concat(this.config.classNames.tooltip,"--visible"),i=function(e){return ge(t.elements.display.seekTooltip,n,e)};if(this.touch)i(!1);else{var r=0,o=this.elements.progress.getBoundingClientRect();if(N(e))r=100/o.width*(e.pageX-o.left);else{if(!ve(this.elements.display.seekTooltip,n))return;r=parseFloat(this.elements.display.seekTooltip.style.left,10)}r<0?r=0:100<r&&(r=100),Je.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*r),this.elements.display.seekTooltip.style.left="".concat(r,"%"),N(e)&&["mouseenter","mouseleave"].includes(e.type)&&i("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!J(this.elements.display.duration)&&this.config.invertTime;Je.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Je.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return me(this.elements.display.currentTime,!0),void me(this.elements.progress,!0);J(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=J(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Je.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Je.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),Je.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){me(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,n){var i=this.elements.settings.panels[e],r=null,o=t;if("captions"===e)r=this.currentTrack;else{if(r=ee(n)?this[e]:n,ee(r)&&(r=this.config[e].default),!ee(this.options[e])&&!this.options[e].includes(r))return void this.debug.warn("Unsupported value of '".concat(r,"' for ").concat(e));if(!this.config[e].options.includes(r))return void this.debug.warn("Disabled value of '".concat(r,"' for ").concat(e))}if(J(o)||(o=i&&i.querySelector('[role="menu"]')),J(o)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=Je.getLabel.call(this,e,r);var s=o&&o.querySelector('[value="'.concat(r,'"]'));J(s)&&(s.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?Xe("normal",this.config):"".concat(t,"&times;");case"quality":if(U(t)){var n=Xe("qualityLabel.".concat(t),this.config);return n.length?n:"".concat(t,"p")}return je(t);case"captions":return nt.getLabel.call(this);default:return null}},setQualityMenu:function(e){var i=this;if(J(this.elements.settings.panels.quality)){var n="quality",r=this.elements.settings.panels.quality.querySelector('[role="menu"]');Q(e)&&(this.options.quality=Re(e).filter(function(e){return i.config.quality.options.includes(e)}));var t=!ee(this.options.quality)&&1<this.options.quality.length;if(Je.toggleMenuButton.call(this,n,t),he(r),Je.checkMenu.call(this),t){this.options.quality.sort(function(e,t){var n=i.config.quality.options;return n.indexOf(e)>n.indexOf(t)?1:-1}).forEach(function(e){var t;Je.createMenuItem.call(i,{value:e,list:r,type:n,title:Je.getLabel.call(i,"quality",e),badge:(t=Xe("qualityBadge.".concat(e),i.config)).length?Je.createBadge.call(i,t):null})}),Je.updateSetting.call(this,n,r)}}},setCaptionsMenu:function(){var n=this;if(J(this.elements.settings.panels.captions)){var i=this.elements.settings.panels.captions.querySelector('[role="menu"]'),e=nt.getTracks.call(this),t=Boolean(e.length);if(Je.toggleMenuButton.call(this,"captions",t),he(i),Je.checkMenu.call(this),t){var r=e.map(function(e,t){return{value:t,checked:n.captions.toggled&&n.currentTrack===t,title:nt.getLabel.call(n,e),badge:e.language&&Je.createBadge.call(n,e.language.toUpperCase()),list:i,type:"language"}});r.unshift({value:-1,checked:!this.captions.toggled,title:Xe("disabled",this.config),list:i,type:"language"}),r.forEach(Je.createMenuItem.bind(this)),Je.updateSetting.call(this,"captions",i)}}},setSpeedMenu:function(){var t=this;if(J(this.elements.settings.panels.speed)){var n=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(function(e){return e>=t.minimumSpeed&&e<=t.maximumSpeed});var e=!ee(this.options.speed)&&1<this.options.speed.length;Je.toggleMenuButton.call(this,"speed",e),he(n),Je.checkMenu.call(this),e&&(this.options.speed.forEach(function(e){Je.createMenuItem.call(t,{value:e,list:n,type:"speed",title:Je.getLabel.call(t,"speed",e)})}),Je.updateSetting.call(this,"speed",n))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!ee(e)&&Object.values(e).some(function(e){return!e.hidden});me(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var n=e;J(n)||(n=Object.values(this.elements.settings.panels).find(function(e){return!e.hidden}));var i=n.querySelector('[role^="menuitem"]');we.call(this,i,t)}},toggleMenu:function(e){var t=this.elements.settings.popup,n=this.elements.buttons.settings;if(J(t)&&J(n)){var i=t.hidden,r=i;if(L(e))r=e;else if(D(e)&&27===e.which)r=!1;else if(N(e)){var o=K(e.composedPath)?e.composedPath()[0]:e.target,s=t.contains(o);if(s||!s&&e.target!==n&&r)return}n.setAttribute("aria-expanded",r),me(t,!r),ge(this.elements.container,this.config.classNames.menu.open,r),r&&D(e)?Je.focusFirstMenuItem.call(this,null,!0):r||i||we.call(this,n,D(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var n=t.scrollWidth,i=t.scrollHeight;return de(t),{width:n,height:i}},showMenuPanel:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(e));if(J(i)){var r=i.parentNode,o=Array.from(r.children).find(function(e){return!e.hidden});if(Te.transitions&&!Te.reducedMotion){r.style.width="".concat(o.scrollWidth,"px"),r.style.height="".concat(o.scrollHeight,"px");var s=Je.getMenuSize.call(this,i);Pe.call(this,r,te,function e(t){t.target===r&&["width","height"].includes(t.propertyName)&&(r.style.width="",r.style.height="",Ae.call(n,r,te,e))}),r.style.width="".concat(s.width,"px"),r.style.height="".concat(s.height,"px")}me(o,!0),me(i,!1),Je.focusFirstMenuItem.call(this,i,t)}},setDownloadUrl:function(){var e=this.elements.buttons.download;J(e)&&e.setAttribute("href",this.download)},create:function(p){var f=this,m=Je.bindMenuItemShortcuts,g=Je.createButton,v=Je.createProgress,y=Je.createRange,b=Je.createTime,e=Je.setQualityMenu,t=Je.setSpeedMenu,x=Je.showMenuPanel;this.elements.controls=null,Q(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(g.call(this,"play-large"));var w=ce("div",fe(this.config.selectors.controls.wrapper));this.elements.controls=w;var _={class:"plyr__controls__item"};return Re(Q(this.config.controls)?this.config.controls:[]).forEach(function(e){if("restart"===e&&w.appendChild(g.call(f,"restart",_)),"rewind"===e&&w.appendChild(g.call(f,"rewind",_)),"play"===e&&w.appendChild(g.call(f,"play",_)),"fast-forward"===e&&w.appendChild(g.call(f,"fast-forward",_)),"progress"===e){var t=ce("div",{class:"".concat(_.class," plyr__progress__container")}),n=ce("div",fe(f.config.selectors.progress));if(n.appendChild(y.call(f,"seek",{id:"plyr-seek-".concat(p.id)})),n.appendChild(v.call(f,"buffer")),f.config.tooltips.seek){var i=ce("span",{class:f.config.classNames.tooltip},"00:00");n.appendChild(i),f.elements.display.seekTooltip=i}f.elements.progress=n,t.appendChild(f.elements.progress),w.appendChild(t)}if("current-time"===e&&w.appendChild(b.call(f,"currentTime",_)),"duration"===e&&w.appendChild(b.call(f,"duration",_)),"mute"===e||"volume"===e){var r=f.elements.volume;if(J(r)&&w.contains(r)||(r=ce("div",se({},_,{class:"".concat(_.class," plyr__volume").trim()})),f.elements.volume=r,w.appendChild(r)),"mute"===e&&r.appendChild(g.call(f,"mute")),"volume"===e&&!re.isIos){var o={max:1,step:.05,value:f.config.volume};r.appendChild(y.call(f,"volume",se(o,{id:"plyr-volume-".concat(p.id)})))}}if("captions"===e&&w.appendChild(g.call(f,"captions",_)),"settings"===e&&!ee(f.config.settings)){var s=ce("div",se({},_,{class:"".concat(_.class," plyr__menu").trim(),hidden:""}));s.appendChild(g.call(f,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(p.id),"aria-expanded":!1}));var a=ce("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(p.id),hidden:""}),l=ce("div"),c=ce("div",{id:"plyr-settings-".concat(p.id,"-home")}),u=ce("div",{role:"menu"});c.appendChild(u),l.appendChild(c),f.elements.settings.panels.home=c,f.config.settings.forEach(function(e){var t=ce("button",se(fe(f.config.selectors.buttons.settings),{type:"button",class:"".concat(f.config.classNames.control," ").concat(f.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));m.call(f,t,e),Pe.call(f,t,"click",function(){x.call(f,e,!1)});var n=ce("span",null,Xe(e,f.config)),i=ce("span",{class:f.config.classNames.menu.value});i.innerHTML=p[e],n.appendChild(i),t.appendChild(n),u.appendChild(t);var r=ce("div",{id:"plyr-settings-".concat(p.id,"-").concat(e),hidden:""}),o=ce("button",{type:"button",class:"".concat(f.config.classNames.control," ").concat(f.config.classNames.control,"--back")});o.appendChild(ce("span",{"aria-hidden":!0},Xe(e,f.config))),o.appendChild(ce("span",{class:f.config.classNames.hidden},Xe("menuBack",f.config))),Pe.call(f,r,"keydown",function(e){37===e.which&&(e.preventDefault(),e.stopPropagation(),x.call(f,"home",!0))},!1),Pe.call(f,o,"click",function(){x.call(f,"home",!1)}),r.appendChild(o),r.appendChild(ce("div",{role:"menu"})),l.appendChild(r),f.elements.settings.buttons[e]=t,f.elements.settings.panels[e]=r}),a.appendChild(l),s.appendChild(a),w.appendChild(s),f.elements.settings.popup=a,f.elements.settings.menu=s}if("pip"===e&&Te.pip&&w.appendChild(g.call(f,"pip",_)),"airplay"===e&&Te.airplay&&w.appendChild(g.call(f,"airplay",_)),"download"===e){var d=se({},_,{element:"a",href:f.download,target:"_blank"});f.isHTML5&&(d.download="");var h=f.config.urls.download;!F(h)&&f.isEmbed&&se(d,{icon:"logo-".concat(f.provider),label:f.provider}),w.appendChild(g.call(f,"download",d))}"fullscreen"===e&&w.appendChild(g.call(f,"fullscreen",_))}),this.isHTML5&&e.call(this,De.getQualityOptions.call(this)),t.call(this),w},inject:function(){var n=this;if(this.config.loadSprite){var e=Je.getIconUrl.call(this);e.cors&&Ue(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var t=null;this.elements.controls=null;var r,i,o={id:this.id,seektime:this.config.seekTime,title:this.config.title},s=!0;if(K(this.config.controls)&&(this.config.controls=this.config.controls.call(this,o)),this.config.controls||(this.config.controls=[]),J(this.config.controls)||G(this.config.controls)?t=this.config.controls:(t=Je.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:nt.getLabel.call(this)}),s=!1),s&&G(this.config.controls)&&(r=t,Object.entries(o).forEach(function(e){var t=x(e,2),n=t[0],i=t[1];r=Ve(r,"{".concat(n,"}"),i)}),t=r),G(this.config.selectors.controls.container)&&(i=document.querySelector(this.config.selectors.controls.container)),J(i)||(i=this.elements.container),i[J(t)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",t),J(this.elements.controls)||Je.findElements.call(this),!ee(this.elements.buttons)){var a=function(e){var t=n.config.classNames.controlPressed;Object.defineProperty(e,"pressed",{enumerable:!0,get:function(){return ve(e,t)},set:function(){ge(e,t,0<arguments.length&&void 0!==arguments[0]&&arguments[0])}})};Object.values(this.elements.buttons).filter(Boolean).forEach(function(e){Q(e)||$(e)?Array.from(e).filter(Boolean).forEach(a):a(e)})}if(re.isEdge&&ie(i),this.config.tooltips.controls){var l=this.config,c=l.classNames,u=l.selectors,d="".concat(u.controls.wrapper," ").concat(u.labels," .").concat(c.hidden),h=be.call(this,d);Array.from(h).forEach(function(e){ge(e,n.config.classNames.hidden,!1),ge(e,n.config.classNames.tooltip,!0)})}}};function Ze(e,t){var n=e;if(!(1<arguments.length&&void 0!==t)||t){var i=document.createElement("a");i.href=n,n=i.href}try{return new URL(n)}catch(e){return null}}function et(e){var r=new URLSearchParams;return z(e)&&Object.entries(e).forEach(function(e){var t=x(e,2),n=t[0],i=t[1];r.set(n,i)}),r}function tt(){}var nt={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!Te.textTracks)Q(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Je.setCaptionsMenu.call(this);else{if(J(this.elements.captions)||(this.elements.captions=ce("div",fe(this.config.selectors.captions)),o=this.elements.captions,s=this.elements.wrapper,J(o)&&J(s)&&s.parentNode.insertBefore(o,s.nextSibling)),re.isIE&&window.URL){var e=this.media.querySelectorAll("track");Array.from(e).forEach(function(t){var e=t.getAttribute("src"),n=Ze(e);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&ze(e,"blob").then(function(e){t.setAttribute("src",window.URL.createObjectURL(e))}).catch(function(){de(t)})})}var t=Re((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(function(e){return e.split("-")[0]})),n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===n&&(n=x(t,1)[0]);var i=this.storage.get("captions");if(L(i)||(i=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:i,language:n,languages:t}),this.isHTML5){var r=this.config.captions.update?"addtrack removetrack":"removetrack";Pe.call(this,this.media.textTracks,r,nt.update.bind(this))}setTimeout(nt.update.bind(this),0)}var o,s},update:function(){var t=this,e=nt.getTracks.call(this,!0),n=this.captions,i=n.active,r=n.language,o=n.meta,s=n.currentTrackNode,a=Boolean(e.find(function(e){return e.language===r}));this.isHTML5&&this.isVideo&&e.filter(function(e){return!o.get(e)}).forEach(function(e){t.debug.log("Track added",e),o.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),Pe.call(t,e,"cuechange",function(){return nt.updateCues.call(t)})}),(a&&this.language!==r||!e.includes(s))&&(nt.setLanguage.call(this,r),nt.toggle.call(this,i&&a)),ge(this.elements.container,this.config.classNames.captions.enabled,!ee(e)),Q(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Je.setCaptionsMenu.call(this)},toggle:function(e){var t=this,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var i=this.captions.toggled,r=this.config.classNames.captions.active,o=W(e)?!i:e;if(o!==i){if(n||(this.captions.active=o,this.storage.set({captions:o})),!this.language&&o&&!n){var s=nt.getTracks.call(this),a=nt.findTrack.call(this,[this.captions.language].concat(l(this.captions.languages)),!0);return this.captions.language=a.language,void nt.set.call(this,s.indexOf(a))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=o),ge(this.elements.container,r,o),this.captions.toggled=o,Je.updateSetting.call(this,"captions"),Ee.call(this,this.media,o?"captionsenabled":"captionsdisabled")}setTimeout(function(){o&&t.captions.toggled&&(t.captions.currentTrackNode.mode="hidden")})}},set:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=nt.getTracks.call(this);if(-1!==e)if(U(e))if(e in n){if(this.captions.currentTrack!==e){var i=n[this.captions.currentTrack=e],r=(i||{}).language;this.captions.currentTrackNode=i,Je.updateSetting.call(this,"captions"),t||(this.captions.language=r,this.storage.set({language:r})),this.isVimeo&&this.embed.enableTextTrack(r),Ee.call(this,this.media,"languagechange")}nt.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&nt.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else nt.toggle.call(this,!1,t)},setLanguage:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(G(e)){var n=e.toLowerCase();this.captions.language=n;var i=nt.getTracks.call(this),r=nt.findTrack.call(this,[n]);nt.set.call(this,i.indexOf(r),t)}else this.debug.warn("Invalid language argument",e)},getTracks:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter(function(e){return!t.isHTML5||n||t.captions.meta.has(e)}).filter(function(e){return["captions","subtitles"].includes(e.kind)})},findTrack:function(e){function n(e){return Number((t.captions.meta.get(e)||{}).default)}var i,t=this,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=nt.getTracks.call(this),s=Array.from(o).sort(function(e,t){return n(t)-n(e)});return e.every(function(t){return!(i=s.find(function(e){return e.language===t}))}),i||(r?s[0]:void 0)},getCurrentTrack:function(){return nt.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!R(t)&&Te.textTracks&&this.captions.toggled&&(t=nt.getCurrentTrack.call(this)),R(t)?ee(t.label)?ee(t.language)?Xe("enabled",this.config):e.language.toUpperCase():t.label:Xe("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(J(this.elements.captions))if(W(e)||Array.isArray(e)){var t=e;if(!t){var n=nt.getCurrentTrack.call(this);t=Array.from((n||{}).activeCues||[]).map(function(e){return e.getCueAsHTML()}).map(qe)}var i=t.map(function(e){return e.trim()}).join("\n");if(i!==this.elements.captions.innerHTML){he(this.elements.captions);var r=ce("span",fe(this.config.selectors.caption));r.innerHTML=i,this.elements.captions.appendChild(r),Ee.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},it={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.6.3/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1}},rt="picture-in-picture",ot={html5:"html5",youtube:"youtube",vimeo:"vimeo"},st=(e(ct,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):tt}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):tt}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):tt}}]),ct),at=(e(lt,[{key:"onChange",value:function(){if(this.enabled){var e=this.player.elements.buttons.fullscreen;J(e)&&(e.pressed=this.active);var t=this.target===this.player.media?this.target:this.player.elements.container;Ee.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)}}},{key:"toggleFallback",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",ge(this.target,this.player.config.classNames.fullscreen.fallback,e),re.isIos){var t=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";t||(t=document.createElement("meta")).setAttribute("name","viewport");var i=G(t.content)&&t.content.includes(n);e?(this.cleanupViewport=!i,i||(t.content+=",".concat(n))):this.cleanupViewport&&(t.content=t.content.split(",").filter(function(e){return e.trim()!==n}).join(","))}this.onChange()}},{key:"trapFocus",value:function(e){if(!re.isIos&&this.active&&"Tab"===e.key&&9===e.keyCode){var t=document.activeElement,n=be.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),i=x(n,1)[0],r=n[n.length-1];t!==r||e.shiftKey?t===i&&e.shiftKey&&(r.focus(),e.preventDefault()):(i.focus(),e.preventDefault())}}},{key:"update",value:function(){var e;this.enabled?(e=this.forceFallback?"Fallback (forced)":lt.native?"Native":"Fallback",this.player.debug.log("".concat(e," fullscreen enabled"))):this.player.debug.log("Fullscreen not supported and fallback disabled"),ge(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(re.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():!lt.native||this.forceFallback?this.toggleFallback(!0):this.prefix?ee(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen({navigationUI:"hide"}))}},{key:"exit",value:function(){if(this.enabled)if(re.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),Ie(this.player.play());else if(!lt.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!ee(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(e).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"usingNative",get:function(){return lt.native&&!this.forceFallback}},{key:"enabled",get:function(){return(lt.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){if(!this.enabled)return!1;if(!lt.native||this.forceFallback)return ve(this.target,this.player.config.classNames.fullscreen.fallback);var e=this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}},{key:"target",get:function(){return re.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(K(document.exitFullscreen))return"";var t="";return["webkit","moz","ms"].some(function(e){return!(!K(document["".concat(e,"ExitFullscreen")])&&!K(document["".concat(e,"CancelFullScreen")])||(t=e,0))}),t}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),lt);function lt(e){var t,n,i=this;c(this,lt),this.player=e,this.prefix=lt.prefix,this.property=lt.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,this.player.elements.fullscreen=e.config.fullscreen.container&&(t=this.player.elements.container,n=e.config.fullscreen.container,(Element.prototype.closest||function(){var e=this;do{if(ye.matches(e,n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(t,n)),Pe.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),function(){i.onChange()}),Pe.call(this.player,this.player.elements.container,"dblclick",function(e){J(i.player.elements.controls)&&i.player.elements.controls.contains(e.target)||i.player.listeners.proxy(e,i.toggle,"fullscreen")}),Pe.call(this,this.player.elements.container,"keydown",function(e){return i.trapFocus(e)}),this.update()}function ct(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];c(this,ct),this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}function ut(r,e){var o=1<arguments.length&&void 0!==e?e:1;return new Promise(function(e,t){function n(){delete i.onload,delete i.onerror,(i.naturalWidth>=o?e:t)(i)}var i=new Image;Object.assign(i,{onload:n,onerror:n,src:r})})}var dt={addStyleHook:function(){ge(this.elements.container,this.config.selectors.container.replace(".",""),!0),ge(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void dt.toggleNativeControls.call(this,!0);J(this.elements.controls)||(Je.inject.call(this),this.listeners.controls()),dt.toggleNativeControls.call(this),this.isHTML5&&nt.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Je.updateVolume.call(this),Je.timeUpdate.call(this),dt.checkPlaying.call(this),ge(this.elements.container,this.config.classNames.pip.supported,Te.pip&&this.isHTML5&&this.isVideo),ge(this.elements.container,this.config.classNames.airplay.supported,Te.airplay&&this.isHTML5),ge(this.elements.container,this.config.classNames.isIos,re.isIos),ge(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(function(){Ee.call(e,e.media,"ready")},0),dt.setTitle.call(this),this.poster&&dt.setPoster.call(this,this.poster,!1).catch(function(){}),this.config.duration&&Je.durationUpdate.call(this)},setTitle:function(){var t=Xe("play",this.config);if(G(this.config.title)&&!ee(this.config.title)&&(t+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach(function(e){e.setAttribute("aria-label",t)}),this.isEmbed){var e=xe.call(this,"iframe");if(!J(e))return;var n=ee(this.config.title)?"video":this.config.title,i=Xe("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",n))}},togglePoster:function(e){ge(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(t){var n=this;return(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",t),this.elements.poster.removeAttribute("hidden"),function(){var t=this;return new Promise(function(e){return t.ready?setTimeout(e,0):Pe.call(t,t.elements.container,"ready",e)}).then(function(){})}.call(this).then(function(){return ut(t)}).catch(function(e){throw t===n.poster&&dt.togglePoster.call(n,!1),e}).then(function(){if(t!==n.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(function(){return Object.assign(n.elements.poster.style,{backgroundImage:"url('".concat(t,"')"),backgroundSize:""}),dt.togglePoster.call(n,!0),t}))},checkPlaying:function(e){var t=this;ge(this.elements.container,this.config.classNames.playing,this.playing),ge(this.elements.container,this.config.classNames.paused,this.paused),ge(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(function(e){Object.assign(e,{pressed:t.playing}),e.setAttribute("aria-label",Xe(t.playing?"pause":"play",t.config))}),N(e)&&"timeupdate"===e.type||dt.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){ge(t.elements.container,t.config.classNames.loading,t.loading),dt.toggleControls.call(t)},this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles:function(){var t=this;Object.values(b({},this.media.style)).filter(function(e){return!ee(e)&&G(e)&&e.startsWith("--plyr")}).forEach(function(e){t.elements.container.style.setProperty(e,t.media.style.getPropertyValue(e)),t.media.style.removeProperty(e)}),ee(this.media.style)&&this.media.removeAttribute("style")}},ht=(e(pt,[{key:"handleKey",value:function(e){var t=this.player,n=t.elements,i=e.keyCode?e.keyCode:e.which,r="keydown"===e.type,o=r&&i===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&U(i))if(r){var s=document.activeElement;if(J(s)){var a=t.config.selectors.editable;if(s!==n.inputs.seek&&ye(s,a))return;if(32===e.which&&ye(s,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:o||(t.currentTime=t.duration/10*(i-48));break;case 32:case 75:o||Ie(t.togglePlay());break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:o||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:o||t.toggleCaptions();break;case 76:t.loop=!t.loop}27===i&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}},{key:"toggleMenu",value:function(e){Je.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){var e=this.player,t=e.elements;e.touch=!0,ge(t.container,e.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(e){var t=this.player,n=t.elements;if(clearTimeout(this.focusTimer),"keydown"!==e.type||9===e.which){"keydown"===e.type&&(this.lastKeyDown=e.timeStamp);var i,r=e.timeStamp-this.lastKeyDown<=20;"focus"===e.type&&!r||(i=t.config.classNames.tabFocus,ge(be.call(t,".".concat(i)),i,!1),"focusout"!==e.type&&(this.focusTimer=setTimeout(function(){var e=document.activeElement;n.container.contains(e)&&ge(document.activeElement,t.config.classNames.tabFocus,!0)},10)))}}},{key:"global",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.player;t.config.keyboard.global&&Ce.call(t,window,"keydown keyup",this.handleKey,e,!1),Ce.call(t,document.body,"click",this.toggleMenu,e),Me.call(t,document.body,"touchstart",this.firstTouch),Ce.call(t,document.body,"keydown focus blur focusout",this.setTabFocus,e,!1,!0)}},{key:"container",value:function(){var a=this.player,e=a.config,s=a.elements,i=a.timers;function l(e){if(!e)return Ne.call(a);var t=s.container.getBoundingClientRect(),n=t.width,i=t.height;return Ne.call(a,"".concat(n,":").concat(i))}function c(){clearTimeout(i.resized),i.resized=setTimeout(l,50)}!e.keyboard.global&&e.keyboard.focused&&Pe.call(a,s.container,"keydown keyup",this.handleKey,!1),Pe.call(a,s.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",function(e){var t=s.controls;t&&"enterfullscreen"===e.type&&(t.pressed=!1,t.hover=!1);var n=0;["touchstart","touchmove","mousemove"].includes(e.type)&&(dt.toggleControls.call(a,!0),n=a.touch?3e3:2e3),clearTimeout(i.controls),i.controls=setTimeout(function(){return dt.toggleControls.call(a,!1)},n)}),Pe.call(a,s.container,"enterfullscreen exitfullscreen",function(e){var t=a.fullscreen,n=t.target,i=t.usingNative;if(n===s.container&&(a.isEmbed||!ee(a.config.ratio))){var r="enterfullscreen"===e.type,o=l(r);o.padding,function(e,t){if(a.isVimeo&&!a.config.vimeo.premium){var n=a.elements.wrapper.firstChild,i=x(e,2)[1],r=x(Le.call(a),2),o=r[0],s=r[1];n.style.maxWidth=t?"".concat(i/s*o,"px"):null,n.style.margin=t?"0 auto":null}}(o.ratio,r),r&&setTimeout(function(){return ie(s.container)},100),i||(r?Pe.call(a,window,"resize",c):Ae.call(a,window,"resize",c))}})}},{key:"media",value:function(){var t=this,i=this.player,r=i.elements;if(Pe.call(i,i.media,"timeupdate seeking seeked",function(e){return Je.timeUpdate.call(i,e)}),Pe.call(i,i.media,"durationchange loadeddata loadedmetadata",function(e){return Je.durationUpdate.call(i,e)}),Pe.call(i,i.media,"ended",function(){i.isHTML5&&i.isVideo&&i.config.resetOnEnd&&(i.restart(),i.pause())}),Pe.call(i,i.media,"progress playing seeking seeked",function(e){return Je.updateProgress.call(i,e)}),Pe.call(i,i.media,"volumechange",function(e){return Je.updateVolume.call(i,e)}),Pe.call(i,i.media,"playing play pause ended emptied timeupdate",function(e){return dt.checkPlaying.call(i,e)}),Pe.call(i,i.media,"waiting canplay seeked playing",function(e){return dt.checkLoading.call(i,e)}),i.supported.ui&&i.config.clickToPlay&&!i.isAudio){var n=xe.call(i,".".concat(i.config.classNames.video));if(!J(n))return;Pe.call(i,r.container,"click",function(e){([r.container,n].includes(e.target)||n.contains(e.target))&&(i.touch&&i.config.hideControls||(i.ended?(t.proxy(e,i.restart,"restart"),t.proxy(e,function(){Ie(i.play())},"play")):t.proxy(e,function(){Ie(i.togglePlay())},"play")))})}i.supported.ui&&i.config.disableContextMenu&&Pe.call(i,r.wrapper,"contextmenu",function(e){e.preventDefault()},!1),Pe.call(i,i.media,"volumechange",function(){i.storage.set({volume:i.volume,muted:i.muted})}),Pe.call(i,i.media,"ratechange",function(){Je.updateSetting.call(i,"speed"),i.storage.set({speed:i.speed})}),Pe.call(i,i.media,"qualitychange",function(e){Je.updateSetting.call(i,"quality",null,e.detail.quality)}),Pe.call(i,i.media,"ready qualitychange",function(){Je.setDownloadUrl.call(i)});var e=i.config.events.concat(["keyup","keydown"]).join(" ");Pe.call(i,i.media,e,function(e){var t=e.detail,n=void 0===t?{}:t;"error"===e.type&&(n=i.media.error),Ee.call(i,r.container,e.type,!0,n)})}},{key:"proxy",value:function(e,t,n){var i=this.player,r=i.config.listeners[n],o=!0;K(r)&&(o=r.call(i,e)),!1!==o&&K(t)&&t.call(i,e)}},{key:"bind",value:function(e,t,n,i){var r=this,o=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],s=this.player,a=s.config.listeners[i],l=K(a);Pe.call(s,e,t,function(e){return r.proxy(e,n,i)},o&&!l)}},{key:"controls",value:function(){var i=this,a=this.player,r=a.elements,t=re.isIE?"change":"input";if(r.buttons.play&&Array.from(r.buttons.play).forEach(function(e){i.bind(e,"click",function(){Ie(a.togglePlay())},"play")}),this.bind(r.buttons.restart,"click",a.restart,"restart"),this.bind(r.buttons.rewind,"click",function(){a.lastSeekTime=Date.now(),a.rewind()},"rewind"),this.bind(r.buttons.fastForward,"click",function(){a.lastSeekTime=Date.now(),a.forward()},"fastForward"),this.bind(r.buttons.mute,"click",function(){a.muted=!a.muted},"mute"),this.bind(r.buttons.captions,"click",function(){return a.toggleCaptions()}),this.bind(r.buttons.download,"click",function(){Ee.call(a,a.media,"download")},"download"),this.bind(r.buttons.fullscreen,"click",function(){a.fullscreen.toggle()},"fullscreen"),this.bind(r.buttons.pip,"click",function(){a.pip="toggle"},"pip"),this.bind(r.buttons.airplay,"click",a.airplay,"airplay"),this.bind(r.buttons.settings,"click",function(e){e.stopPropagation(),e.preventDefault(),Je.toggleMenu.call(a,e)},null,!1),this.bind(r.buttons.settings,"keyup",function(e){var t=e.which;[13,32].includes(t)&&(13!==t?(e.preventDefault(),e.stopPropagation(),Je.toggleMenu.call(a,e)):Je.focusFirstMenuItem.call(a,null,!0))},null,!1),this.bind(r.settings.menu,"keydown",function(e){27===e.which&&Je.toggleMenu.call(a,e)}),this.bind(r.inputs.seek,"mousedown mousemove",function(e){var t=r.progress.getBoundingClientRect(),n=100/t.width*(e.pageX-t.left);e.currentTarget.setAttribute("seek-value",n)}),this.bind(r.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",function(e){var t=e.currentTarget,n=e.keyCode?e.keyCode:e.which,i="play-on-seeked";if(!D(e)||39===n||37===n){a.lastSeekTime=Date.now();var r=t.hasAttribute(i),o=["mouseup","touchend","keyup"].includes(e.type);r&&o?(t.removeAttribute(i),Ie(a.play())):!o&&a.playing&&(t.setAttribute(i,""),a.pause())}}),re.isIos){var e=be.call(a,'input[type="range"]');Array.from(e).forEach(function(e){return i.bind(e,t,function(e){return ie(e.target)})})}this.bind(r.inputs.seek,t,function(e){var t=e.currentTarget,n=t.getAttribute("seek-value");ee(n)&&(n=t.value),t.removeAttribute("seek-value"),a.currentTime=n/t.max*a.duration},"seek"),this.bind(r.progress,"mouseenter mouseleave mousemove",function(e){return Je.updateSeekTooltip.call(a,e)}),this.bind(r.progress,"mousemove touchmove",function(e){var t=a.previewThumbnails;t&&t.loaded&&t.startMove(e)}),this.bind(r.progress,"mouseleave touchend click",function(){var e=a.previewThumbnails;e&&e.loaded&&e.endMove(!1,!0)}),this.bind(r.progress,"mousedown touchstart",function(e){var t=a.previewThumbnails;t&&t.loaded&&t.startScrubbing(e)}),this.bind(r.progress,"mouseup touchend",function(e){var t=a.previewThumbnails;t&&t.loaded&&t.endScrubbing(e)}),re.isWebkit&&Array.from(be.call(a,'input[type="range"]')).forEach(function(e){i.bind(e,"input",function(e){return Je.updateRangeFill.call(a,e.target)})}),a.config.toggleInvert&&!J(r.display.duration)&&this.bind(r.display.currentTime,"click",function(){0!==a.currentTime&&(a.config.invertTime=!a.config.invertTime,Je.timeUpdate.call(a))}),this.bind(r.inputs.volume,t,function(e){a.volume=e.target.value},"volume"),this.bind(r.controls,"mouseenter mouseleave",function(e){r.controls.hover=!a.touch&&"mouseenter"===e.type}),r.fullscreen&&Array.from(r.fullscreen.children).filter(function(e){return!e.contains(r.container)}).forEach(function(e){i.bind(e,"mouseenter mouseleave",function(e){r.controls.hover=!a.touch&&"mouseenter"===e.type})}),this.bind(r.controls,"mousedown mouseup touchstart touchend touchcancel",function(e){r.controls.pressed=["mousedown","touchstart"].includes(e.type)}),this.bind(r.controls,"focusin",function(){var e=a.config,t=a.timers;ge(r.controls,e.classNames.noTransition,!0),dt.toggleControls.call(a,!0),setTimeout(function(){ge(r.controls,e.classNames.noTransition,!1)},0);var n=i.touch?3e3:4e3;clearTimeout(t.controls),t.controls=setTimeout(function(){return dt.toggleControls.call(a,!1)},n)}),this.bind(r.inputs.volume,"wheel",function(e){var t=e.webkitDirectionInvertedFromDevice,n=x([e.deltaX,-e.deltaY].map(function(e){return t?-e:e}),2),i=n[0],r=n[1],o=Math.sign(Math.abs(i)>Math.abs(r)?i:r);a.increaseVolume(o/50);var s=a.media.volume;(1===o&&s<1||-1===o&&0<s)&&e.preventDefault()},"volume",!1)}}]),pt);function pt(e){c(this,pt),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}var ft,mt=((ft={exports:{}}).exports=function(){var h=function(){},s={},l={},c={};function a(e,t){if(e){var n=c[e];if(l[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function u(e,t){e.call&&(e={success:e}),t.length?(e.error||h)(t):(e.success||h)(e)}function p(n,i,r,o){var s,a,e=document,t=r.async,l=(r.numRetries||0)+1,c=r.before||h,u=n.replace(/[\?|#].*$/,""),d=n.replace(/^(css|img)!/,"");o=o||0,/(^css!|\.css$)/.test(u)?((a=e.createElement("link")).rel="stylesheet",a.href=d,(s="hideFocus"in a)&&a.relList&&(s=0,a.rel="preload",a.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(u)?(a=e.createElement("img")).src=d:((a=e.createElement("script")).src=n,a.async=void 0===t||t),!(a.onload=a.onerror=a.onbeforeload=function(e){var t=e.type[0];if(s)try{a.sheet.cssText.length||(t="e")}catch(e){18!=e.code&&(t="e")}if("e"==t){if((o+=1)<l)return p(n,i,r,o)}else if("preload"==a.rel&&"style"==a.as)return a.rel="stylesheet";i(n,t,e.defaultPrevented)})!==c(n,a)&&e.head.appendChild(a)}function n(e,t,n){var i,r;if(t&&t.trim&&(i=t),r=(i?n:t)||{},i){if(i in s)throw"LoadJS";s[i]=!0}function o(t,n){!function(e,i,t){var n,r,o=(e=e.push?e:[e]).length,s=o,a=[];for(n=function(e,t,n){if("e"==t&&a.push(e),"b"==t){if(!n)return;a.push(e)}--o||i(a)},r=0;r<s;r++)p(e[r],n,t)}(e,function(e){u(r,e),t&&u({success:t,error:n},e),a(i,e)},r)}if(r.returnPromise)return new Promise(o);o()}return n.ready=function(e,t){return function(e,n){e=e.push?e:[e];var t,i,r,o=[],s=e.length,a=s;for(t=function(e,t){t.length&&o.push(e),--a||n(o)};s--;)i=e[s],(r=l[i])?t(i,r):(c[i]=c[i]||[]).push(t)}(e,function(e){u(t,e)}),n},n.done=function(e){a(e,[])},n.reset=function(){s={},l={},c={}},n.isDefined=function(e){return e in s},n}(),ft.exports);function gt(n){return new Promise(function(e,t){mt(n,{success:e,error:t})})}function vt(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Ee.call(this,this.media,e?"play":"pause"))}var yt={setup:function(){var t=this;ge(t.elements.wrapper,t.config.classNames.embed,!0),t.options.speed=t.config.speed.options,Ne.call(t),z(window.Vimeo)?yt.ready.call(t):gt(t.config.urls.vimeo.sdk).then(function(){yt.ready.call(t)}).catch(function(e){t.debug.warn("Vimeo SDK (player.js) failed to load",e)})},ready:function(){var r=this,s=this,e=s.config.vimeo,t=e.premium,n=e.referrerPolicy,i=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["premium","referrerPolicy"]);t&&Object.assign(i,{controls:!1,sidedock:!1});var o=et(b({loop:s.config.loop.active,autoplay:s.autoplay,muted:s.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},i)),a=s.media.getAttribute("src");ee(a)&&(a=s.media.getAttribute(s.config.attributes.embed.id));var l,c=ee(l=a)?null:U(Number(l))?l:l.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:l,u=ce("iframe"),d=Fe(s.config.urls.vimeo.iframe,c,o);if(u.setAttribute("src",d),u.setAttribute("allowfullscreen",""),u.setAttribute("allow","autoplay,fullscreen,picture-in-picture"),ee(n)||u.setAttribute("referrerPolicy",n),t||!e.customControls)u.setAttribute("data-poster",s.poster),s.media=pe(u,s.media);else{var h=ce("div",{class:s.config.classNames.embedContainer,"data-poster":s.poster});h.appendChild(u),s.media=pe(h,s.media)}e.customControls||ze(Fe(s.config.urls.vimeo.api,d)).then(function(e){!ee(e)&&e.thumbnail_url&&dt.setPoster.call(s,e.thumbnail_url).catch(function(){})}),s.embed=new window.Vimeo.Player(u,{autopause:s.config.autopause,muted:s.muted}),s.media.paused=!0,s.media.currentTime=0,s.supported.ui&&s.embed.disableTextTrack(),s.media.play=function(){return vt.call(s,!0),s.embed.play()},s.media.pause=function(){return vt.call(s,!1),s.embed.pause()},s.media.stop=function(){s.pause(),s.currentTime=0};var p=s.media.currentTime;Object.defineProperty(s.media,"currentTime",{get:function(){return p},set:function(e){var t=s.embed,n=s.media,i=s.paused,r=s.volume,o=i&&!t.hasPlayed;n.seeking=!0,Ee.call(s,n,"seeking"),Promise.resolve(o&&t.setVolume(0)).then(function(){return t.setCurrentTime(e)}).then(function(){return o&&t.pause()}).then(function(){return o&&t.setVolume(r)}).catch(function(){})}});var f=s.config.speed.selected;Object.defineProperty(s.media,"playbackRate",{get:function(){return f},set:function(e){s.embed.setPlaybackRate(e).then(function(){f=e,Ee.call(s,s.media,"ratechange")}).catch(function(){s.options.speed=[1]})}});var m=s.config.volume;Object.defineProperty(s.media,"volume",{get:function(){return m},set:function(e){s.embed.setVolume(e).then(function(){m=e,Ee.call(s,s.media,"volumechange")})}});var g=s.config.muted;Object.defineProperty(s.media,"muted",{get:function(){return g},set:function(e){var t=!!L(e)&&e;s.embed.setVolume(t?0:s.config.volume).then(function(){g=t,Ee.call(s,s.media,"volumechange")})}});var v,y=s.config.loop;Object.defineProperty(s.media,"loop",{get:function(){return y},set:function(e){var t=L(e)?e:s.config.loop.active;s.embed.setLoop(t).then(function(){y=t})}}),s.embed.getVideoUrl().then(function(e){v=e,Je.setDownloadUrl.call(s)}).catch(function(e){r.debug.warn(e)}),Object.defineProperty(s.media,"currentSrc",{get:function(){return v}}),Object.defineProperty(s.media,"ended",{get:function(){return s.currentTime===s.duration}}),Promise.all([s.embed.getVideoWidth(),s.embed.getVideoHeight()]).then(function(e){var t=x(e,2),n=t[0],i=t[1];s.embed.ratio=[n,i],Ne.call(r)}),s.embed.setAutopause(s.config.autopause).then(function(e){s.config.autopause=e}),s.embed.getVideoTitle().then(function(e){s.config.title=e,dt.setTitle.call(r)}),s.embed.getCurrentTime().then(function(e){p=e,Ee.call(s,s.media,"timeupdate")}),s.embed.getDuration().then(function(e){s.media.duration=e,Ee.call(s,s.media,"durationchange")}),s.embed.getTextTracks().then(function(e){s.media.textTracks=e,nt.setup.call(s)}),s.embed.on("cuechange",function(e){var t=e.cues,n=(void 0===t?[]:t).map(function(e){return t=e.text,n=document.createDocumentFragment(),i=document.createElement("div"),n.appendChild(i),i.innerHTML=t,n.firstChild.innerText;var t,n,i});nt.updateCues.call(s,n)}),s.embed.on("loaded",function(){s.embed.getPaused().then(function(e){vt.call(s,!e),e||Ee.call(s,s.media,"playing")}),J(s.embed.element)&&s.supported.ui&&s.embed.element.setAttribute("tabindex",-1)}),s.embed.on("bufferstart",function(){Ee.call(s,s.media,"waiting")}),s.embed.on("bufferend",function(){Ee.call(s,s.media,"playing")}),s.embed.on("play",function(){vt.call(s,!0),Ee.call(s,s.media,"playing")}),s.embed.on("pause",function(){vt.call(s,!1)}),s.embed.on("timeupdate",function(e){s.media.seeking=!1,p=e.seconds,Ee.call(s,s.media,"timeupdate")}),s.embed.on("progress",function(e){s.media.buffered=e.percent,Ee.call(s,s.media,"progress"),1===parseInt(e.percent,10)&&Ee.call(s,s.media,"canplaythrough"),s.embed.getDuration().then(function(e){e!==s.media.duration&&(s.media.duration=e,Ee.call(s,s.media,"durationchange"))})}),s.embed.on("seeked",function(){s.media.seeking=!1,Ee.call(s,s.media,"seeked")}),s.embed.on("ended",function(){s.media.paused=!0,Ee.call(s,s.media,"ended")}),s.embed.on("error",function(e){s.media.error=e,Ee.call(s,s.media,"error")}),e.customControls&&setTimeout(function(){return dt.build.call(s)},0)}};function bt(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Ee.call(this,this.media,e?"play":"pause"))}function xt(e,t){var n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n}var wt={setup:function(){var t=this;if(ge(this.elements.wrapper,this.config.classNames.embed,!0),z(window.YT)&&K(window.YT.Player))wt.ready.call(this);else{var e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){K(e)&&e(),wt.ready.call(t)},gt(this.config.urls.youtube.sdk).catch(function(e){t.debug.warn("YouTube API failed to load",e)})}},getTitle:function(e){var r=this;ze(Fe(this.config.urls.youtube.api,e)).then(function(e){if(z(e)){var t=e.title,n=e.height,i=e.width;r.config.title=t,dt.setTitle.call(r),r.embed.ratio=[i,n]}Ne.call(r)}).catch(function(){Ne.call(r)})},ready:function(){var o=this,s=o.config.youtube,e=o.media&&o.media.getAttribute("id");if(ee(e)||!e.startsWith("youtube-")){var t=o.media.getAttribute("src");ee(t)&&(t=o.media.getAttribute(this.config.attributes.embed.id));var n,i,a=ee(n=t)?null:n.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:n,r=ce("div",{id:(i=o.provider,"".concat(i,"-").concat(Math.floor(1e4*Math.random()))),"data-poster":s.customControls?o.poster:void 0});if(o.media=pe(r,o.media),s.customControls){var l=function(e){return"https://i.ytimg.com/vi/".concat(a,"/").concat(e,"default.jpg")};ut(l("maxres"),121).catch(function(){return ut(l("sd"),121)}).catch(function(){return ut(l("hq"))}).then(function(e){return dt.setPoster.call(o,e.src)}).then(function(e){e.includes("maxres")||(o.elements.poster.style.backgroundSize="cover")}).catch(function(){})}o.embed=new window.YT.Player(o.media,{videoId:a,host:s.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0,playerVars:se({},{autoplay:o.config.autoplay?1:0,hl:o.config.hl,controls:o.supported.ui&&s.customControls?0:1,disablekb:1,playsinline:o.config.fullscreen.iosNative?0:1,cc_load_policy:o.captions.active?1:0,cc_lang_pref:o.config.captions.language,widget_referrer:window?window.location.href:null},s),events:{onError:function(e){if(!o.media.error){var t=e.data,n={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[t]||"An unknown error occured";o.media.error={code:t,message:n},Ee.call(o,o.media,"error")}},onPlaybackRateChange:function(e){var t=e.target;o.media.playbackRate=t.getPlaybackRate(),Ee.call(o,o.media,"ratechange")},onReady:function(e){if(!K(o.media.play)){var n=e.target;wt.getTitle.call(o,a),o.media.play=function(){bt.call(o,!0),n.playVideo()},o.media.pause=function(){bt.call(o,!1),n.pauseVideo()},o.media.stop=function(){n.stopVideo()},o.media.duration=n.getDuration(),o.media.paused=!0,o.media.currentTime=0,Object.defineProperty(o.media,"currentTime",{get:function(){return Number(n.getCurrentTime())},set:function(e){o.paused&&!o.embed.hasPlayed&&o.embed.mute(),o.media.seeking=!0,Ee.call(o,o.media,"seeking"),n.seekTo(e)}}),Object.defineProperty(o.media,"playbackRate",{get:function(){return n.getPlaybackRate()},set:function(e){n.setPlaybackRate(e)}});var i=o.config.volume;Object.defineProperty(o.media,"volume",{get:function(){return i},set:function(e){i=e,n.setVolume(100*i),Ee.call(o,o.media,"volumechange")}});var r=o.config.muted;Object.defineProperty(o.media,"muted",{get:function(){return r},set:function(e){var t=L(e)?e:r;n[(r=t)?"mute":"unMute"](),n.setVolume(100*i),Ee.call(o,o.media,"volumechange")}}),Object.defineProperty(o.media,"currentSrc",{get:function(){return n.getVideoUrl()}}),Object.defineProperty(o.media,"ended",{get:function(){return o.currentTime===o.duration}});var t=n.getAvailablePlaybackRates();o.options.speed=t.filter(function(e){return o.config.speed.options.includes(e)}),o.supported.ui&&s.customControls&&o.media.setAttribute("tabindex",-1),Ee.call(o,o.media,"timeupdate"),Ee.call(o,o.media,"durationchange"),clearInterval(o.timers.buffering),o.timers.buffering=setInterval(function(){o.media.buffered=n.getVideoLoadedFraction(),(null===o.media.lastBuffered||o.media.lastBuffered<o.media.buffered)&&Ee.call(o,o.media,"progress"),o.media.lastBuffered=o.media.buffered,1===o.media.buffered&&(clearInterval(o.timers.buffering),Ee.call(o,o.media,"canplaythrough"))},200),s.customControls&&setTimeout(function(){return dt.build.call(o)},50)}},onStateChange:function(e){var t=e.target;switch(clearInterval(o.timers.playing),o.media.seeking&&[1,2].includes(e.data)&&(o.media.seeking=!1,Ee.call(o,o.media,"seeked")),e.data){case-1:Ee.call(o,o.media,"timeupdate"),o.media.buffered=t.getVideoLoadedFraction(),Ee.call(o,o.media,"progress");break;case 0:bt.call(o,!1),o.media.loop?(t.stopVideo(),t.playVideo()):Ee.call(o,o.media,"ended");break;case 1:s.customControls&&!o.config.autoplay&&o.media.paused&&!o.embed.hasPlayed?o.media.pause():(bt.call(o,!0),Ee.call(o,o.media,"playing"),o.timers.playing=setInterval(function(){Ee.call(o,o.media,"timeupdate")},50),o.media.duration!==t.getDuration()&&(o.media.duration=t.getDuration(),Ee.call(o,o.media,"durationchange")));break;case 2:o.muted||o.embed.unMute(),bt.call(o,!1);break;case 3:Ee.call(o,o.media,"waiting")}Ee.call(o,o.elements.container,"statechange",!1,{code:e.data})}}})}}},_t={setup:function(){this.media?(ge(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),ge(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&ge(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=ce("div",{class:this.config.classNames.video}),ae(this.media,this.elements.wrapper),this.elements.poster=ce("div",{class:this.config.classNames.poster,hidden:""}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?De.setup.call(this):this.isYouTube?wt.setup.call(this):this.isVimeo&&yt.setup.call(this)):this.debug.warn("No media element found!")}},kt=(e(Pt,[{key:"load",value:function(){var e=this;this.enabled&&(z(window.google)&&z(window.google.ima)?this.ready():gt(this.player.config.urls.googleIMA.sdk).then(function(){e.ready()}).catch(function(){e.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var e=this;this.enabled||(this.manager&&this.manager.destroy(),this.elements.displayContainer&&this.elements.displayContainer.destroy(),this.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){e.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){var t=this;this.elements.container=ce("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){return t.onAdsManagerLoaded(e)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t.onAdError(e)},!1),this.requestAds()}},{key:"requestAds",value:function(){var e=this.player.elements.container;try{var t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}}},{key:"pollCountdown",value:function(){var n=this;if(!(0<arguments.length&&void 0!==arguments[0]&&arguments[0]))return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(function(){var e=$e(Math.max(n.manager.getRemainingTime(),0)),t="".concat(Xe("advertisement",n.player.config)," - ").concat(e);n.elements.container.setAttribute("data-badge-text",t)},100)}},{key:"onAdsManagerLoaded",value:function(e){var t=this;if(this.enabled){var n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n.enablePreloading=!0,this.manager=e.getAdsManager(this.player,n),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t.onAdError(e)}),Object.keys(google.ima.AdEvent.Type).forEach(function(e){t.manager.addEventListener(google.ima.AdEvent.Type[e],function(e){return t.onAdEvent(e)})}),this.trigger("loaded")}}},{key:"addCuePoints",value:function(){var r=this;ee(this.cuePoints)||this.cuePoints.forEach(function(e){if(0!==e&&-1!==e&&e<r.player.duration){var t=r.player.elements.progress;if(J(t)){var n=100/r.player.duration*e,i=ce("span",{class:r.player.config.classNames.cues});i.style.left="".concat(n.toString(),"%"),t.appendChild(i)}}})}},{key:"onAdEvent",value:function(e){var t,n=this,i=this.player.elements.container,r=e.getAd(),o=e.getAdData();switch(t=e.type,Ee.call(n.player,n.player.media,"ads".concat(t.replace(/_/g,"").toLowerCase())),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),r.isLinear()||(r.width=i.offsetWidth,r.height=i.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:o.adError&&this.player.debug.warn("Non-fatal ad error: ".concat(o.adError.getMessage()))}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var i,r=this,e=this.player.elements.container;this.player.on("canplay",function(){r.addCuePoints()}),this.player.on("ended",function(){r.loader.contentComplete()}),this.player.on("timeupdate",function(){i=r.player.currentTime}),this.player.on("seeked",function(){var n=r.player.currentTime;ee(r.cuePoints)||r.cuePoints.forEach(function(e,t){i<e&&e<n&&(r.manager.discardAdBreak(),r.cuePoints.splice(t,1))})}),window.addEventListener("resize",function(){r.manager&&r.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var t=this,e=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){t.manager.setVolume(t.player.volume),t.elements.displayContainer.initialize();try{t.initialized||(t.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),t.manager.start()),t.initialized=!0}catch(e){t.onAdError(e)}}).catch(function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,Ie(this.player.media.play())}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var t=this;this.managerPromise.then(function(){t.manager&&t.manager.destroy(),t.managerPromise=new Promise(function(e){t.on("loaded",e),t.player.debug.log(t.manager)}),t.initialized=!1,t.requestAds()}).catch(function(){})}},{key:"trigger",value:function(e){for(var t=this,n=arguments.length,i=new Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=this.events[e];Q(o)&&o.forEach(function(e){K(e)&&e.apply(t,i)})}},{key:"on",value:function(e,t){return Q(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this}},{key:"startSafetyTimer",value:function(e,t){var n=this;this.player.debug.log("Safety timer invoked from: ".concat(t)),this.safetyTimer=setTimeout(function(){n.cancel(),n.clearSafetyTimer("startSafetyTimer()")},e)}},{key:"clearSafetyTimer",value:function(e){W(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!ee(e.publisherId)||F(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;if(F(e.tagUrl))return e.tagUrl;var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(et(t))}}]),Pt),Tt=(e(Ct,[{key:"load",value:function(){var e=this;this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(function(){e.enabled&&(e.render(),e.determineContainerAutoSizing(),e.loaded=!0)})}},{key:"getThumbnails",value:function(){var r=this;return new Promise(function(e){var t=r.player.config.previewThumbnails.src;if(ee(t))throw new Error("Missing previewThumbnails.src config attribute");function n(){r.thumbnails.sort(function(e,t){return e.height-t.height}),r.player.debug.log("Preview thumbnails",r.thumbnails),e()}if(K(t))t(function(e){r.thumbnails=e,n()});else{var i=(G(t)?[t]:t).map(function(e){return r.getThumbnail(e)});Promise.all(i).then(n)}})}},{key:"getThumbnail",value:function(o){var s=this;return new Promise(function(r){ze(o).then(function(e){var t,n={frames:(t=[],e.split(/\r\n\r\n|\n\n|\r\r/).forEach(function(e){var o={};e.split(/\r\n|\n|\r/).forEach(function(e){if(U(o.startTime)){if(!ee(e.trim())&&ee(o.text)){var t=e.trim().split("#xywh="),n=x(t,1);if(o.text=n[0],t[1]){var i=x(t[1].split(","),4);o.x=i[0],o.y=i[1],o.w=i[2],o.h=i[3]}}}else{var r=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);r&&(o.startTime=60*Number(r[1]||0)*60+60*Number(r[2])+Number(r[3])+Number("0.".concat(r[4])),o.endTime=60*Number(r[6]||0)*60+60*Number(r[7])+Number(r[8])+Number("0.".concat(r[9])))}}),o.text&&t.push(o)}),t),height:null,urlPrefix:""};n.frames[0].text.startsWith("/")||n.frames[0].text.startsWith("http://")||n.frames[0].text.startsWith("https://")||(n.urlPrefix=o.substring(0,o.lastIndexOf("/")+1));var i=new Image;i.onload=function(){n.height=i.naturalHeight,n.width=i.naturalWidth,s.thumbnails.push(n),r()},i.src=n.urlPrefix+n.frames[0].text})})}},{key:"startMove",value:function(e){if(this.loaded&&N(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t=this.player.elements.progress.getBoundingClientRect(),n=100/t.width*(e.pageX-t.left);this.seekTime=this.player.media.duration*(n/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=$e(this.seekTime)}this.showImageAtCurrentTime()}}},{key:"endMove",value:function(){this.toggleThumbContainer(!1,!0)}},{key:"startScrubbing",value:function(e){!W(e.button)&&!1!==e.button&&0!==e.button||(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}},{key:"endScrubbing",value:function(){var e=this;this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Me.call(this.player,this.player.media,"timeupdate",function(){e.mouseDown||e.toggleScrubbingContainer(!1)})}},{key:"listeners",value:function(){var e=this;this.player.on("play",function(){e.toggleThumbContainer(!1,!0)}),this.player.on("seeked",function(){e.toggleThumbContainer(!1)}),this.player.on("timeupdate",function(){e.lastTime=e.player.media.currentTime})}},{key:"render",value:function(){this.elements.thumb.container=ce("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=ce("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);var e=ce("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=ce("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(e),J(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=ce("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}},{key:"destroy",value:function(){this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}},{key:"showImageAtCurrentTime",value:function(){var n=this;this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();var i=this.thumbnails[0].frames.findIndex(function(e){return n.seekTime>=e.startTime&&n.seekTime<=e.endTime}),e=0<=i,r=0;this.mouseDown||this.toggleThumbContainer(e),e&&(this.thumbnails.forEach(function(e,t){n.loadedImages.includes(e.frames[i].text)&&(r=t)}),i!==this.showingThumb&&(this.showingThumb=i,this.loadImage(r)))}},{key:"loadImage",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=this.showingThumb,i=this.thumbnails[t],r=i.urlPrefix,o=i.frames[n],s=i.frames[n].text,a=r+s;if(this.currentImageElement&&this.currentImageElement.dataset.filename===s)this.showImage(this.currentImageElement,o,t,n,s,!1),this.currentImageElement.dataset.index=n,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);var l=new Image;l.src=a,l.dataset.index=n,l.dataset.filename=s,this.showingThumbFilename=s,this.player.debug.log("Loading image: ".concat(a)),l.onload=function(){return e.showImage(l,o,t,n,s,!0)},this.loadingImage=l,this.removeOldImages(l)}}},{key:"showImage",value:function(e,t,n,i,r){var o=!(5<arguments.length&&void 0!==arguments[5])||arguments[5];this.player.debug.log("Showing thumb: ".concat(r,". num: ").concat(i,". qual: ").concat(n,". newimg: ").concat(o)),this.setImageSizeAndOffset(e,t),o&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(r)||this.loadedImages.push(r)),this.preloadNearby(i,!0).then(this.preloadNearby(i,!1)).then(this.getHigherQuality(n,e,t,r))}},{key:"removeOldImages",value:function(i){var r=this;Array.from(this.currentImageContainer.children).forEach(function(e){if("img"===e.tagName.toLowerCase()){var t=r.usingSprites?500:1e3;if(e.dataset.index!==i.dataset.index&&!e.dataset.deleting){e.dataset.deleting=!0;var n=r.currentImageContainer;setTimeout(function(){n.removeChild(e),r.player.debug.log("Removing thumb: ".concat(e.dataset.filename))},t)}}})}},{key:"preloadNearby",value:function(t){var a=this,n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return new Promise(function(s){setTimeout(function(){var r=a.thumbnails[0].frames[t].text;if(a.showingThumbFilename===r){var e;e=n?a.thumbnails[0].frames.slice(t):a.thumbnails[0].frames.slice(0,t).reverse();var o=!1;e.forEach(function(e){var t=e.text;if(t!==r&&!a.loadedImages.includes(t)){o=!0,a.player.debug.log("Preloading thumb filename: ".concat(t));var n=a.thumbnails[0].urlPrefix+t,i=new Image;i.src=n,i.onload=function(){a.player.debug.log("Preloaded thumb filename: ".concat(t)),a.loadedImages.includes(t)||a.loadedImages.push(t),s()}}}),o||s()}},300)})}},{key:"getHigherQuality",value:function(e,t,n,i){var r=this;if(e<this.thumbnails.length-1){var o=t.naturalHeight;this.usingSprites&&(o=n.h),o<this.thumbContainerHeight&&setTimeout(function(){r.showingThumbFilename===i&&(r.player.debug.log("Showing higher quality thumb for: ".concat(i)),r.loadImage(e+1))},300)}}},{key:"toggleThumbContainer",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(n,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"toggleScrubbingContainer",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"determineContainerAutoSizing",value:function(){(20<this.elements.thumb.imageContainer.clientHeight||20<this.elements.thumb.imageContainer.clientWidth)&&(this.sizeSpecifiedInCSS=!0)}},{key:"setThumbContainerSizeAndPos",value:function(){if(this.sizeSpecifiedInCSS){if(20<this.elements.thumb.imageContainer.clientHeight&&this.elements.thumb.imageContainer.clientWidth<20){var e=Math.floor(this.elements.thumb.imageContainer.clientHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.width="".concat(e,"px")}else if(this.elements.thumb.imageContainer.clientHeight<20&&20<this.elements.thumb.imageContainer.clientWidth){var t=Math.floor(this.elements.thumb.imageContainer.clientWidth/this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(t,"px")}}else{var n=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(this.thumbContainerHeight,"px"),this.elements.thumb.imageContainer.style.width="".concat(n,"px")}this.setThumbContainerPos()}},{key:"setThumbContainerPos",value:function(){var e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),n=this.elements.thumb.container,i=t.left-e.left+10,r=t.right-e.left-n.clientWidth-10,o=this.mousePosX-e.left-n.clientWidth/2;o<i&&(o=i),r<o&&(o=r),n.style.left="".concat(o,"px")}},{key:"setScrubbingContainerSize",value:function(){var e=xt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}),t=e.width,n=e.height;this.elements.scrubbing.container.style.width="".concat(t,"px"),this.elements.scrubbing.container.style.height="".concat(n,"px")}},{key:"setImageSizeAndOffset",value:function(e,t){if(this.usingSprites){var n=this.thumbContainerHeight/t.h;e.style.height="".concat(e.naturalHeight*n,"px"),e.style.width="".concat(e.naturalWidth*n,"px"),e.style.left="-".concat(t.x*n,"px"),e.style.top="-".concat(t.y*n,"px")}}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?xt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}).height:this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),Ct),St={insertElements:function(t,e){var n=this;G(e)?ue(t,this.media,{src:e}):Q(e)&&e.forEach(function(e){ue(t,n.media,e)})},change:function(l){var c=this;oe(l,"sources.length")?(De.cancelRequests.call(this),this.destroy.call(this,function(){c.options.quality=[],de(c.media),c.media=null,J(c.elements.container)&&c.elements.container.removeAttribute("class");var e=l.sources,t=l.type,n=x(e,1)[0],i=n.provider,r=void 0===i?ot.html5:i,o=n.src,s="html5"===r?t:"div",a="html5"===r?{}:{src:o};Object.assign(c,{provider:r,type:t,supported:Te.check(t,r,c.config.playsinline),media:ce(s,a)}),c.elements.container.appendChild(c.media),L(l.autoplay)&&(c.config.autoplay=l.autoplay),c.isHTML5&&(c.config.crossorigin&&c.media.setAttribute("crossorigin",""),c.config.autoplay&&c.media.setAttribute("autoplay",""),ee(l.poster)||(c.poster=l.poster),c.config.loop.active&&c.media.setAttribute("loop",""),c.config.muted&&c.media.setAttribute("muted",""),c.config.playsinline&&c.media.setAttribute("playsinline","")),dt.addStyleHook.call(c),c.isHTML5&&St.insertElements.call(c,"source",e),c.config.title=l.title,_t.setup.call(c),c.isHTML5&&Object.keys(l).includes("tracks")&&St.insertElements.call(c,"track",l.tracks),(c.isHTML5||c.isEmbed&&!c.supported.ui)&&dt.build.call(c),c.isHTML5&&c.media.load(),ee(l.previewThumbnails)||(Object.assign(c.config.previewThumbnails,l.previewThumbnails),c.previewThumbnails&&c.previewThumbnails.loaded&&(c.previewThumbnails.destroy(),c.previewThumbnails=null),c.config.previewThumbnails.enabled&&(c.previewThumbnails=new Tt(c))),c.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};function Ct(e){c(this,Ct),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}function Pt(e){var n=this;c(this,Pt),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(e,t){n.on("loaded",e),n.on("error",t)}),this.load()}var At=(e(Mt,[{key:"play",value:function(){var e=this;return K(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(function(){return e.ads.play()}).catch(function(){return Ie(e.media.play())}),this.media.play()):null}},{key:"pause",value:function(){return this.playing&&K(this.media.pause)?this.media.pause():null}},{key:"togglePlay",value:function(e){return(L(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):K(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime-=U(e)?e:this.config.seekTime}},{key:"forward",value:function(e){this.currentTime+=U(e)?e:this.config.seekTime}},{key:"increaseVolume",value:function(e){var t=this.media.muted?0:this.volume;this.volume=t+(U(e)?e:0)}},{key:"decreaseVolume",value:function(e){this.increaseVolume(-e)}},{key:"toggleCaptions",value:function(e){nt.toggle.call(this,e,!1)}},{key:"airplay",value:function(){Te.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){if(!this.supported.ui||this.isAudio)return!1;var t=ve(this.elements.container,this.config.classNames.hideControls),n=void 0===e?void 0:!e,i=ge(this.elements.container,this.config.classNames.hideControls,n);if(i&&Q(this.config.controls)&&this.config.controls.includes("settings")&&!ee(this.config.settings)&&Je.toggleMenu.call(this,!1),i!==t){var r=i?"controlshidden":"controlsshown";Ee.call(this,this.media,r)}return!i}},{key:"on",value:function(e,t){Pe.call(this,this.elements.container,e,t)}},{key:"once",value:function(e,t){Me.call(this,this.elements.container,e,t)}},{key:"off",value:function(e,t){Ae(this.elements.container,e,t)}},{key:"destroy",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.ready){var i=function(){document.body.style.overflow="",t.embed=null,n?(Object.keys(t.elements).length&&(de(t.elements.buttons.play),de(t.elements.captions),de(t.elements.controls),de(t.elements.wrapper),t.elements.buttons.play=null,t.elements.captions=null,t.elements.controls=null,t.elements.wrapper=null),K(e)&&e()):(function(){this&&this.eventListeners&&(this.eventListeners.forEach(function(e){var t=e.element,n=e.type,i=e.callback,r=e.options;t.removeEventListener(n,i,r)}),this.eventListeners=[])}.call(t),De.cancelRequests.call(t),pe(t.elements.original,t.elements.container),Ee.call(t,t.elements.original,"destroyed",!0),K(e)&&e.call(t.elements.original),t.ready=!1,setTimeout(function(){t.elements=null,t.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(dt.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&K(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))}}},{key:"supports",value:function(e){return Te.mime.call(this,e)}},{key:"isHTML5",get:function(){return this.provider===ot.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===ot.youtube}},{key:"isVimeo",get:function(){return this.provider===ot.vimeo}},{key:"isVideo",get:function(){return"video"===this.type}},{key:"isAudio",get:function(){return"audio"===this.type}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){if(this.duration){var t=U(e)&&0<e;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return U(e)?e:e&&e.length&&0<this.duration?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,n=U(t)&&t!==1/0?t:0;return e||n}},{key:"volume",set:function(e){var t=e;G(t)&&(t=Number(t)),U(t)||(t=this.storage.get("volume")),U(t)||(t=this.config.volume),1<t&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!ee(e)&&this.muted&&0<t&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;L(t)||(t=this.storage.get("muted")),L(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var t=this,n=null;U(e)&&(n=e),U(n)||(n=this.storage.get("speed")),U(n)||(n=this.config.speed.selected);var i=this.minimumSpeed,r=this.maximumSpeed;n=function(e,t,n){var i=0<arguments.length&&void 0!==e?e:0,r=1<arguments.length&&void 0!==t?t:0,o=2<arguments.length&&void 0!==n?n:255;return Math.min(Math.max(i,r),o)}(n,i,r),this.config.speed.selected=n,setTimeout(function(){t.media.playbackRate=n},0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,l(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,l(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(e){var t,n,i=this.config.quality,r=this.options.quality;if(r.length){var o=[!ee(e)&&Number(e),this.storage.get("quality"),i.selected,i.default].find(U),s=!0;if(!r.includes(o)){var a=(n=o,Q(t=r)&&t.length?t.reduce(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}):null);this.debug.warn("Unsupported quality option: ".concat(o,", using ").concat(a," instead")),o=a,s=!1}i.selected=o,this.media.quality=o,s&&this.storage.set({quality:o})}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=L(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){St.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return F(e)?e:this.source},set:function(e){F(e)&&(this.config.urls.download=e,Je.setDownloadUrl.call(this))}},{key:"poster",set:function(e){this.isVideo?dt.setPoster.call(this,e,!1).catch(function(){}):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=Be(Le.call(this));return Q(e)?e.join(":"):e},set:function(e){this.isVideo?G(e)&&Oe(e)?(this.config.ratio=e,Ne.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",set:function(e){var t=L(e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){nt.set.call(this,e,!1)},get:function(){var e=this.captions,t=e.toggled,n=e.currentTrack;return t?n:-1}},{key:"language",set:function(e){nt.setLanguage.call(this,e,!1)},get:function(){return(nt.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){if(Te.pip){var t=L(e)?e:!this.pip;K(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?rt:"inline"),K(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}},get:function(){return Te.pip?ee(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===rt:null}}],[{key:"supported",value:function(e,t,n){return Te.check(e,t,n)}},{key:"loadSprite",value:function(e,t){return Ue(e,t)}},{key:"setup",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=null;return G(e)?n=Array.from(document.querySelectorAll(e)):$(e)?n=Array.from(e):Q(e)&&(n=e.filter(J)),ee(n)?null:n.map(function(e){return new Mt(e,t)})}}]),Mt);function Mt(e,t){var n,i=this;if(c(this,Mt),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Te.touch,this.media=e,G(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||$(this.media)||Q(this.media))&&(this.media=this.media[0]),this.config=se({},it,Mt.defaults,t||{},function(){try{return JSON.parse(i.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new st(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Te),!W(this.media)&&J(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(Te.check().api){var r=this.media.cloneNode(!0);r.autoplay=!1,this.elements.original=r;var o=this.media.tagName.toLowerCase(),s=null,a=null;switch(o){case"div":if(s=this.media.querySelector("iframe"),J(s)){if(a=Ze(s.getAttribute("src")),this.provider=(n=a.toString(),/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(n)?ot.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(n)?ot.vimeo:null),this.elements.container=this.media,this.media=s,this.elements.container.className="",a.search.length){var l=["1","true"];l.includes(a.searchParams.get("autoplay"))&&(this.config.autoplay=!0),l.includes(a.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=l.includes(a.searchParams.get("playsinline")),this.config.youtube.hl=a.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(ee(this.provider)||!Object.keys(ot).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type="video";break;case"video":case"audio":this.type=o,this.provider=ot.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Te.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new ht(this),this.storage=new He(this),this.media.plyr=this,J(this.elements.container)||(this.elements.container=ce("div",{tabindex:0}),ae(this.media,this.elements.container)),dt.migrateStyles.call(this),dt.addStyleHook.call(this),_t.setup.call(this),this.config.debug&&Pe.call(this,this.elements.container,this.config.events.join(" "),function(e){i.debug.log("event: ".concat(e.type))}),this.fullscreen=new at(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&dt.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new kt(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",function(){return Ie(i.play())}),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Tt(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return At.defaults=JSON.parse(JSON.stringify(it)),At});var VirtualScroll=function(e){var n,i,r,t,o={},s=[],a=!1,l=2,c=60,u=.4,d=120,h=1,p="onwheel"in e,f="onmousewheel"in e,m="ontouchstart"in e,g=navigator.msMaxTouchPoints&&1<navigator.msMaxTouchPoints,v=!!window.navigator.msPointerEnabled,y="onkeydown"in e,b=-1<navigator.userAgent.indexOf("Firefox"),x=-1<navigator.userAgent.indexOf("Edge"),w=-1<navigator.userAgent.indexOf("Chrome"),_={y:0,x:0,deltaX:0,deltaY:0,originalEvent:null,isKey:!1};o.on=function(e){a||M(),s.push(e),n=s.length},o.options=function(e){d=e.keyStep||120,c=e.firefoxMult||60,u=e.chromeMult||.4,l=e.touchMult||2,h=e.mouseMult||1},o.off=function(e){for(var t=0;t<n;t++)e===s[t]&&s.splice(t,1);(n=s.length)<=0&&E()};function k(e){_.x+=_.deltaX,_.y+=_.deltaY,_.originalEvent=e;for(var t=0;t<n;t++)s[t](_);_.isKey=!1}function T(e){_.deltaX=e.wheelDeltaX||-1*e.deltaX,_.deltaY=e.wheelDeltaY||-1*e.deltaY,b&&1==e.deltaMode&&(_.deltaX*=c,_.deltaY*=c),x&&1==e.deltaMode&&(_.deltaX*=c,_.deltaY*=c),w&&(_.deltaX*=u,_.deltaY*=u),_.deltaX*=h,_.deltaY*=h,k(e)}function S(e){_.deltaX=e.wheelDeltaX?e.wheelDeltaX:0,_.deltaY=e.wheelDeltaY?e.wheelDeltaY:e.wheelDelta,k(e)}function C(e){var t=e.targetTouches?e.targetTouches[0]:e;i=t.pageX,r=t.pageY}function P(e){var t=e.targetTouches?e.targetTouches[0]:e;_.deltaX=(t.pageX-i)*l,_.deltaY=(t.pageY-r)*l,i=t.pageX,r=t.pageY,k(e)}function A(e){switch(_.deltaX=_.deltaY=0,e.keyCode){case 37:_.deltaX=-d,_.isKey=!0;break;case 39:_.deltaX=d,_.isKey=!0;break;case 38:_.deltaY=d,_.isKey=!0;break;case 40:_.deltaY=-d,_.isKey=!0}k(e)}var M=function(){p&&e.addEventListener("wheel",T,{capture:!1,passive:!0}),f&&e.addEventListener("mousewheel",S,{capture:!1,passive:!0}),m&&(e.addEventListener("touchstart",C,{passive:!0}),e.addEventListener("touchmove",P,{passive:!0})),v&&g&&(t=e.body.style.msTouchAction,e.body.style.msTouchAction="none",e.addEventListener("MSPointerDown",C,{passive:!0}),e.addEventListener("MSPointerMove",P,{passive:!0})),y&&e.addEventListener("keydown",A,{passive:!0}),a=!0},E=function(){p&&e.removeEventListener("wheel",T),f&&e.removeEventListener("mousewheel",S),m&&(e.removeEventListener("touchstart",C),e.removeEventListener("touchmove",P)),v&&g&&(e.body.style.msTouchAction=t,e.removeEventListener("MSPointerDown",C,!0),e.removeEventListener("MSPointerMove",P,!0)),y&&e.removeEventListener("keydown",A),a=!1};return o}(document);!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Stats=t()}(this,function(){var u=function(){function e(e){return i.appendChild(e.dom),e}function t(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";n=e}var n=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(e){e.preventDefault(),t(++n%i.children.length)},!1);var r=(performance||Date).now(),o=r,s=0,a=e(new u.Panel("FPS","#0ff","#002")),l=e(new u.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=e(new u.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:i,addPanel:e,showPanel:t,begin:function(){r=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(l.update(e-r,200),o+1e3<=e&&(a.update(1e3*s/(e-o),100),o=e,s=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){r=this.end()},domElement:i,setMode:t}};return u.Panel=function(n,i,r){var o=1/0,s=0,a=Math.round,l=a(window.devicePixelRatio||1),c=80*l,e=48*l,u=3*l,d=2*l,h=3*l,p=15*l,f=74*l,m=30*l,g=document.createElement("canvas");g.width=c,g.height=e,g.style.cssText="width:80px;height:48px";var v=g.getContext("2d");return v.font="bold "+9*l+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=r,v.fillRect(0,0,c,e),v.fillStyle=i,v.fillText(n,u,d),v.fillRect(h,p,f,m),v.fillStyle=r,v.globalAlpha=.9,v.fillRect(h,p,f,m),{dom:g,update:function(e,t){o=Math.min(o,e),s=Math.max(s,e),v.fillStyle=r,v.globalAlpha=1,v.fillRect(0,0,c,p),v.fillStyle=i,v.fillText(a(e)+" "+n+" ("+a(o)+"-"+a(s)+")",u,d),v.drawImage(g,h+l,p,f-l,m,h,p,f-l,m),v.fillRect(h+f-l,p,l,m),v.fillStyle=r,v.globalAlpha=.9,v.fillRect(h+f-l,p,l,a((1-e/t)*m))}}},u});